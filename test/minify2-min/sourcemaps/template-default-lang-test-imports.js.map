{"version":3,"sources":["template-default-lang-test-imports.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","updateProperty","element","properties","name","path","split","cursor","p","shift","notifyPath","Polymer","dom","document","querySelector","getProperty","target","trim","replace","previousSibling","nodeType","COMMENT_NODE","TEXT_NODE","data","match","nextSibling","getEffectiveChildNodes","filter","item","deepMap","source","map","prop","_typeof","translate","lang","text","result","undefined","minifyText","setupFakeServer","e","isFakeServer","server","sinon","fakeServer","autoRespond","respondImmediately","respondWith","xhr","urlPath","fakeServerContents","hasOwnProperty","respond","Content-Type","teardownFakeServer","restore","setupFixture","params","fixtureModel","fixtureName","fixture","runningTest","querySelectorAll","title","currentPath","window","location","pathname","Error","textContent","suite","is","parentElement","classList","add","forEach","node","remove","Promise","resolve","reject","addEventListener","setupFixtureDomChange","ev","rootTarget","removeEventListener","setupFixtureLangDomChange","event","effectiveLang","render","ex","_children","f","t","templatizer","Templatizer","instanceProps","_ctor","templatize","fwdHostPropToInstance","host","_instance","forwardProperty","stamp","model","this","root","bind","setupFixtureLangUpdated","setTimeout","fire","JSON","stringify","restoreFixture","_intervalId","clearInterval","observeHtmlLang","getLocalDomRoot","suitesRunner","suites","el","expected","noProperties","rawValue","assign","defTimeout","timeout","setup","suiteSetup","then","fixtureSetup","console","log","error","test","localDOM","isSuppressingSuiteParams","templateDefaultLang","join","assert","isString","equal","isBoolean","actual","deepcopy","isObject","deepEqual","rawText","childPath","nodes","select","ok","a","lightDOM","teardown","suiteTeardown","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_createClass","defineProperties","props","descriptor","defineProperty","key","protoProps","staticProps","Symbol","iterator","obj","/commented-simple-text-element/commented-simple-text-element.json","/commented-simple-text-element/locales/commented-simple-text-element.fr.json","/compound-binding-dom-bind.json","/compound-binding-element/compound-binding-element.json","/compound-binding-element/locales/compound-binding-element.fr.json","/edge-case-dom-bind.json","/edge-case/advanced-binding-element.json","/edge-case/complex-compound-binding-element.json","/edge-case/empty-element.json","/edge-case/locales/advanced-binding-element.fr.json","/edge-case/locales/complex-compound-binding-element.fr.json","/edge-case/locales/empty-element.fr.json","/fallback-text-element/fallback-text-element.json","/fallback-text-element/locales/fallback-text-element.fr-CA.json","/fallback-text-element/locales/fallback-text-element.fr.json","/locales/compound-binding-dom-bind.fr.json","/locales/simple-attribute-dom-bind.fr.json","/locales/simple-text-dom-bind.fr.json","/multiple-case/item-element.json","/multiple-case/locales/item-element.fr.json","/multiple-case/locales/multiple-element.fr.json","/multiple-case/multiple-element.json","/plural-gender-element/locales/plural-gender-element.fr.json","/plural-gender-element/plural-gender-element.json","/preference/preference-element.json","/simple-attribute-dom-bind.json","/simple-attribute-element/locales/simple-attribute-element.fr.json","/simple-attribute-element/locales/text-attribute-element.fr.json","/simple-attribute-element/simple-attribute-element.json","/simple-attribute-element/text-attribute-element.json","/simple-text-dom-bind.json","/simple-text-element/locales/simple-text-element.fr.json","/simple-text-element/locales/simple-text-element.ru.json","/simple-text-element/simple-text-element.json","/simple-text-id-element/locales/simple-text-id-element.fr.json","/simple-text-id-element/simple-text-id-element.json","/template-default-lang/locales/null-template-default-lang-element.ja.json","/template-default-lang/locales/null-template-default-lang-element.zh-Hans-CN.json","/template-default-lang/locales/template-default-lang-element.zh-Hans-CN.json","/template-default-lang/null-template-default-lang-element.json","/template-default-lang/template-default-lang-element.json","Number","isNaN","base","g","_name","suiteMap","null","s","baseName","extension","href","indexOf","syntax","_syntax","version","modules","lcModules","findModule","id","toLowerCase","DomModule","_HTMLElement","apply","arguments","old","register","warn","_styleOutsideTemplateCheck","selector","m","HTMLElement","customElements","define","CaseMap","_caseMap","_rx","dashToCamel","camelToDash","dashToCamelCase","dash","toUpperCase","camelToDashCase","camel","Element","matchesSelector","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","Utils","mixin","extend","api","n","n$","getOwnPropertyNames","copyOwnProperty","pd","getRootNode","parentNode","cachingMixin","__mixinApplications","WeakMap","application","set","dedupingMixin","baseMap","__mixinMap","extended","Map","importHref","onload","onerror","optAsync","l","createElement","rel","Boolean","setAttribute","HTMLImports","whenReady","head","appendChild","createNodeEventHandler","context","eventName","methodName","_rootDataHost","handler","detail","EventListeners","_superClass","_addEventListenerToNode","resolveCss","cssText","ownerDocument","CSS_URL_RX","pre","url","post","resolveAttrs","URL_ATTRS","at","v","a$","localName","attributes","search","BINDING_RX","ABS_URL","resolver","getUrlResolver","resolveUrl","baseUri","tempDoc","implementation","createHTMLDocument","tempDocBase","__urlResolver","*","form","ResolveUrl","parseTemplateAnnotations","template","content","_content","_notes","currentTemplate","parseNodeAnnotations","hasAttribute","list","stripWhiteSpace","Node","parseTextNodeAnnotation","parseElementAnnotations","parseBindings","parts","lastIndex","bindingRegex","exec","index","push","literal","slice","mode","negate","customEvent","notifyEvent","colon","substring","compoundIndex","literalFromParts","note","bindings","kind","isCompound","events","insertionPointTag","_hasInsertionPoint","parseChildNodesAnnotations","parseNodeAttributeAnnotations","prepElement","firstChild","getAttribute","removeAttribute","replaceChild","parseTemplate","next","removeChild","childAnnotation","createDocumentFragment","emptyArray","templateContent","annotation","attrs","b","parseNodeAttributeAnnotation","origName","propertyName","IDENT","NUMBER","SQUOTE_STRING","DQUOTE_STRING","STRING","ARGUMENT","ARGUMENTS","ARGUMENT_LIST","BINDING","OPEN_BRACKET","CLOSE_BRACKET","NEGATE","EXPRESSION","RegExp","Annotations","_superClass2","_findTemplateAnnotatedNode","applyIdToMap","inst","applyEventListener","j","e$","_addMethodEventListenerToNode","applyTemplateContent","TemplateStamp","_Polymer$Annotations","_this4","$","HTMLTemplateElement","decorate","notes","_parseTemplateAnnotations","importNode","__noInsertionPoint","Path","isPath","dotIndex","isDeep","isAncestor","isDescendant","newBase","normalize","args","toString","info","part","last","saveAccessorValue","nativeProperties","__data","_setPendingProperty","__dataProto","proto","PropertyAccessors","_superClass3","_this5","_initializeProperties","__dataCounter","__dataPending","__dataOld","__dataInvalid","readOnly","_setProperty","_invalidateProperties","_shouldPropertyChange","_this6","_flushProperties","oldProps","changedProps","_propertiesChanged","currentProps","caseMap","Attributes","_superClass4","_this7","__serializing","attribute","_valueToNodeAttribute","type","_deserializeAttribute","str","_serializeAttribute","Date","x","parse","String","ensureOwnEffectMap","effects","runEffects","ran","effectUid","runEffectsForProperty","rootProperty","fxs","fx","fromAbove","__dataFromAbove","lastRun","fn","runObserverEffect","runNotifyEffects","notified","notifyEffects","TYPES","NOTIFY","__dataHost","setProperties","dispatchNotifyEvent","queueProperty","dispatchEvent","CustomEvent","runNotifyEffect","addNotifyListener","handleNotification","targetPath","setPropertyFromNotification","_hasReadOnlyEffect","_setPathOrUnmanagedProperty","runReflectEffect","sanitizeDOMValue","attrName","_propertyToAttribute","runMethodObserverEffect","runMethodEffect","runComputedEffects","COMPUTE","inputProps","computedProps","runComputedEffect","computedProp","methodInfo","_hasPropertyEffect","computeLinkedPaths","links","__dataLinkedPaths","cache","__dataTemp","link","addBindingEffect","signature","addMethodBindingEffect","_addPropertyEffect","PROPAGATE","runBindingEffect","__dataNodes","setPropertyToNodeFromBinding","applyBindingValue","_enqueueClient","computeBindingValue","storage","__dataCompoundStorage","createMethodEffect","runMethodBindingEffect","val","processAnnotations","_processed","k","parseMethod","hostProps","_hostProps","discoverTemplateHostProps","concat","b$","p$","kk","templateHostProps","Base","shouldAddListener","binding","addAnnotatedListener","_bindListeners","setupBindListeners","setupBindings","setupCompoundBinding","sig","effectFn","dynamic","dynamicFn","arg","marshalArgs","expression","static","parseArgs","argList","rawArg","parseArg","fc","structured","wildcard","values","baseChanged","literals","notifySplices","array","splices","splicesPath","indexSplices","notifySplice","addedCount","removed","upper","ANY","REFLECT","OBSERVE","READ_ONLY","PropertyEffects","_Polymer$TemplateStam","_this8","_asyncEffects","__dataInitialized","__dataPendingClients","__propertyEffects","effect","_createPropertyAccessor","fromPath","hasEffect","prevProps","client","clients","ready","_flushClients","to","len","_len","items","_key","ret","hadLength","pop","start","deleteCount","Math","floor","_len2","_key2","splice","_len3","_key3","unshift","protectedSetter","attr","StyleGather","MODULE_STYLES_SELECTOR","INCLUDE_ATTR","_importModule","moduleId","cssFromModules","moduleIds","warnIfNotFound","cssFromModule","_cssText","cssFromElement","include","__appliedElement","body","StyleUtil","isTargetedBuild","buildType","ShadyDOM","inUse","cssBuildTypeForModule","module","dm","getCssBuildType","flattenProperties","flattenedProps","o","ElementMixin","_Polymer$PropertyEffe","PolymerElement","_this9","telemetry","instanceCount","hostStack","registerHost","finalized","superProto","superCtor","finalize","config","_ownConfig","_finalizeConfig","cloneNode","_finalizeTemplate","_createPropertyFromConfig","observers","_createMethodObserver","style","insertBefore","ShadyCSS","prepareTemplate","_bindTemplate","_template","__ownConfig","__flattenedProperties","_flattenedProperties","_observedAttributes","_addPropertiesToAttributes","_finalized","_isPropertyPending","computed","_createComputedProperty","_createReadOnlyProperty","reflectToAttribute","_hasReflectEffect","_createReflectedProperty","notify","_hasNotifyEffect","_createNotifyingProperty","observer","_createObservedProperty","isEmpty","updateStyles","beginHosting","_stampTemplate","_attachDom","endHosting","attachShadow","shadowRoot","_attributeToProperty","applyStyle","assetPath","baseURI","stack","stackLen","registrations","_regLog","dumpRegistrations","userPolymer","klass","Class","options","Async","_currVal","_lastVal","_callbacks","_twiddleContent","_twiddle","createTextNode","run","callback","waitTime","cancel","handle","clearTimeout","idx","_atEndOfMicrotask","cb","flush","takeRecords","MutationObserver","observe","characterData","Debouncer","boundFlush","go","wait","h","finish","isActive","debounce","debouncer","setupTeardownMouseCanceller","en","IS_TOUCH_ONLY","MOUSE_EVENTS","mouseCanceller","ignoreMouse","POINTERSTATE","mouse","mouseIgnoreJob","unset","MOUSE_TIMEOUT","hasLeftMouseButton","buttons","MouseEvent","MOUSE_HAS_BUTTONS","MOUSE_WHICH_TO_BUTTONS","which","button","isSyntheticClick","gestures","findOriginalTarget","bcr","getBoundingClientRect","pageX","y","pageY","left","right","top","bottom","firstTouchAction","ta","composedPath","TOUCH_ACTION","trackDocument","stateObj","movefn","upfn","untrackDocument","wrap","HAS_NATIVE_TA","touchAction","GESTURE_KEY","HANDLED_OBJ","TAP_DISTANCE","TRACK_DISTANCE","TRACK_LENGTH","navigator","userAgent","mouseEvent","sc","sourceCapabilities","firesTouchEvents","skip","preventDefault","stopPropagation","touch","scrollDecided","recognizers","deepTargetFind","elementFromPoint","handleNative","handled","currentTarget","gobj","gs","changedTouches","touches","identifier","handleTouchAction","r","flow","reset","clientX","clientY","prevent","dx","abs","dy","cancelable","addListener","evType","removeListener","recognizer","deps","dep","gd","_count","setTouchAction","recog","emits","findRecognizerByEvent","evName","Event","bubbles","composed","defaultPrevented","preventer","sourceEvent","resetMouseCanceller","end","mousedown","touchstart","touchend","state","started","moves","addMove","move","hasMovedEnough","ct","touchmove","secondlast","lastmove","ddx","ddy","hover","NaN","save","click","forward","Gestures","GestureEventListeners","_Polymer$EventListene","AsyncRender","_scheduled","_beforeRenderQueue","_afterRenderQueue","beforeRender","_schedule","afterRender","requestAnimationFrame","_flushQueue","flushBeforeRender","flushAfterRender","queue","RenderStatus","afterNextRender","newSplice","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","current","currentStart","currentEnd","oldStart","oldEnd","rowCount","columnCount","distances","equals","north","west","spliceOperationsFromEditDistances","edits","northWest","min","reverse","calcSplices","prefixCount","suffixCount","minLength","sharedPrefix","sharedSuffix","ops","oldIndex","searchLength","index1","index2","count","calculateSplices","previous","currentValue","previousValue","isSlot","getEffectiveNodes","assignedNodes","flatten","childNodes","reduce","forwardMethods","methods","_loop","method","forwardReadOnlyProperties","_loop2","forwardProperties","_loop3","effectiveNodesObserverPromise","EffectiveNodesObserver","_this11","effectiveNodes","scheduled","_boundSchedule","schedule","connect","_this12","listenSlots","children","shadyChildrenObserver","observeChildren","mutations","processMutations","nativeChildrenObserver","childList","connected","unlistenSlots","unobserveChildren","disconnect","_this13","processSlotMutations","mutation","addedNodes","removedNodes","newNodes","nodeList","DomApi","patch","observerHandle","contains","doc","ip$","assignedSlot","externalNode","deep","Document","c","c$","ELEMENT_NODE","_activeElement","activeElement","EventApi","ctor","__domApi","Settings","useShadow","WebComponents","readyState","Logging","hasColor","chrome","prefix","_superClass5","level","_console","_len4","_key4","_logger","_len5","_key5","_len6","_key6","_len7","_key7","utils","LegacyElementMixin","_Polymer$Logging","LegacyElement","_this15","created","_applyConfigListeners","listeners","_ensureConfigAttributes","hostAttributes","_ensureAttribute","_applyListeners","_ensureAttributes","isAttached","attached","detached","attributeChanged","inherited","hbl","__boundListeners","bl","_removeEventListenerFromNode","direction","slctr","forceRender","queryDistributedElements","cn","tc","getDistributedNodes","getContentChildNodes","container","shouldObserve","getComputedStyleValue","jobName","_debouncers","tag","elt","bool","transformText","webkitTransform","transform","z","arrayOrPath","DocumentFragment","metaProps","beforeRegister","registered","behaviors","mixinBehaviors","MixinBehavior","flattenBehaviors","_warn","behavior","generatedFrom","PolymerGenerated","_Base","__registered","_invokeFunction","getNativeConstructor","DomBind","_Polymer$PropertyEffe2","_removeChildren","_insertChildren","PatchedHTMLTemplateElement","_newInstance","TemplateInstanceBase","_class","DataTemplate","_Polymer$PropertyEffe3","__templatizerClass","baseClass","_createTemplatizerClass","_prepHostProperties","__template","instCount","_this20","templateHost","_configureProperties","_templateInstance","__hideTemplateChildren__","_showHideChildren","hide","__polymerTextContent__","__polymerDisplay__","display","iprop","hprop","_this21","_prepInstanceProperties","upgradeTemplate","PROPERTY_EFFECT_TYPES","_createHP2IEffector","hostProp","fwdInstancePropToHost","_createIP2HEffector","_createHP2HEffector","instProp","_debouncerQueue","DomRepeat","_Polymer$Element","_this22","_instances","_pool","_limit","Infinity","_renderDebouncer","_itemsIdxToInstIdx","as","indexAs","itemsIndexAs","sort","delay","renderedItemCount","initialCount","targetFramerate","_targetFrameTime","__isDetached","_detachInstance","_attachInstance","__domRepeat","repeater","i$","dataHost","_getRootDataHost","_sortFn","_needFullRefresh","_debounceRender","_render","_filterFn","rate","ceil","_chunkCount","_lastChunkTime","performance","now","_requestRenderChunk","_this23","_renderChunk","currChunkTime","ratio","round","_observePaths","change","_handleItemPath","_initializeChunking","paths","enqueueDebouncer","ensureTemplatized","_applyFullRefresh","_setRenderedItemCount","_tryRenderChunk","_this24","isntIdxToItemsIdx","itemsIdxToInstIdx","instIdx","limit","itemIdx","flushProperties","_insertInstance","_detachAndRemoveInstance","_stampInstance","beforeRow","beforeNode","hidden","itemsPath","dot","itemsIdx","parseInt","itemPath","_handleObservedPaths","modelForElement","DomIf","_Polymer$Element2","_this25","if","restamp","DOCUMENT_FRAGMENT_NODE","_teardownInstance","_ensureInstance","_lastIf","__domIf","domif","lastChild","CustomStyle","processHook","_bindingRegex_patch","_bindingRegex_1_2_4","_bindingRegex_1_2_4_patched","_bindingRegex","XMLHttpRequest","response","status","statusText","completes","resolveCompletes","rejectCompletes","progress","aborted","errored","timedOut","succeeded","send","_setProgress","lengthComputable","loaded","total","_setErrored","_updateStatus","_setTimedOut","_setResponse","parseResponse","open","async","acceptType","json","html","xml","arraybuffer","handleAs","headers","newHeaders","keys","requestHeader","_error","setRequestHeader","jsonPrefix","responseType","_responseType","_jsonPrefix","withCredentials","_encodeBodyObject","preferResponseText","prefixLen","responseText","_","responseXML","message","abort","_setAborted","contentType","bodyObj","_wwwFormUrlEncode","pieces","_wwwFormUrlEncodePiece","encodeURIComponent","_setStatus","_setStatusText","sync","auto","verbose","lastRequest","loading","lastResponse","lastError","activeRequests","debounceDuration","_boundHandleResponse","_handleResponse","queryString","param","queryParts","requestUrl","bindingChar","requestHeaders","header","toRequestOptions","generateRequest","request","requestOptions","_handleError","_discardRequest","_setLastRequest","_setLoading","_setLastResponse","_setLastError","requestIndex","_requestOptionsChanged","_setupIntlPolyfill","intlLibraryUrl","Intl","intlLibraryLoadingStatus","IntlPolyfill","intlLibraryScript","intlLibraryLoaded","_setupIntlPolyfillLocale","locale","script","intlScript","supported","NumberFormat","supportedLocalesOf","localeMatcher","fallbackLanguages","_enumerateFallbackLanguages","enSupport","DEFAULT_LANG","anotherIntlLocaleLoadedBindThis","anotherIntlLocaleLoadErrorBindThis","fallbackSupport","intlLocaleLoadedBindThis","intlLocaleLoadErrorBindThis","libraryLoadedBindThis","extLangCode","scriptCode","countryCode","isExtLangCode","isScriptCode","isCountryCode","_setupIntlPolyfillCalled","_lang","raw","offset","rawNumber","number","formatted","_setupObservers","textNode","_textMutated","attributeFilter","nodeObserver","observeNodes","attributeName","_rawChanged","_langChanged","_optionsChanged","_onOptionsPropertyChanged","_offsetChanged","_formatNumber","format","_cp","ord","v0","plurals","amd","exports","af","ak","am","ar","t0","n100","asa","ast","az","i10","i100","i1000","be","n10","bem","bez","bg","bh","bm","bn","bo","br","n1000000","brx","bs","f10","f100","ca","ce","cgg","chr","ckb","cs","cy","da","de","dsb","dv","dz","ee","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gl","gsw","gu","guw","gv","ha","haw","he","hi","hr","hsb","hu","hy","ig","ii","in","it","iu","iw","ja","jbo","jgo","ji","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lkt","ln","lo","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","pa","pap","pl","prg","ps","pt","pt-PT","rm","ro","rof","ru","rwk","sah","saq","sdh","se","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","sv","sw","syr","te","teo","th","ti","tig","tk","tl","tn","tr","ts","tzm","ug","uk","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","zh","zu","paramAttribute","paramFormat","observeParams","_setupParams","elements","needParamObservation","tagName","_templateMutated","templateElement","templateTextNode","listen","_paramFormatChanged","oldParamFormat","lastTemplateText","_paramAttributeChanged","oldParamAttribute","_getPluralCategory","category","_selectTemplateText","templateText","templateObject","other","paramPlaceholder","tmpNode","shadowDomV1","shadyDomV1","innerHTML","useRaw","autoSaveDisabled","errorMessage","_loaded","_boundHandleStorage","_handleStorage","_load","_trySaveValue","_doNotSave","_debounceReload","reload","externalChange","localStorage","getItem","removeItem","setItem","defaultLang","hasNative","currentScript","_currentScript","domModule","registerI18nPreference","persist","isReady","_observe","language","browserLanguage","_disconnect","_onLoadEmptyStorage","isInitialized","_onLoadStorage","_onPersistChange","_onStorageValueChange","_htmlLangMutationObserverCallback","_htmlLangMutationObserver","_htmlLangMutationObserverCallbackBindThis","sharedData","BehaviorsStore","_I18nAttrRepo","_created","customAttributes","_traverseTemplateTree","__ready__","standardTemplate","standard","isLocalizableAttribute","_getType","_matchAttribute","_compareSelectors","s1","s2","name1","name2","localeCompare","setLocalizableAttribute","prev","selectors","","registerLocalizableAttributes","textAttr","nodeName","u","__esModule","Buffer","isBuffer","getOwnPropertySymbols","getKeys","getSymbols","getTime","lastIndexOf","copy","copyValue","copyCollection","d","ShadowDOMPolyfill","isStandardPropertyConfigurable","langPropertyDescriptor","extraWhiteSpaceNode","bundles","bundleFetchingInstances","startUrl","localesPath","attributesRepository","userPreference","debuglog","I18nControllerBehavior","isI18nController","masterBundles","I18nBehavior","lang-updated","_getBundle","resolved","tryLang","fallbackLanguageList","_fetchStatus","lastLang","_handleLangAttributeChange","oldValue","oldLang","ajaxLang","_fetchLanguage","_updateEffectiveLang","targetLang","_fetchBundle","nextFallbackLanguage","fetchingInstance","_constructBundle","_forwardLangEventBindThis","_forwardLangEvent","_handleBundleFetchedBindThis","_handleBundleFetched","ajax","_handleResponseBindFetchingInstance","_handleErrorBindFetchingInstance","skipFetching","bundle","_deepMap","success","rawResponses","_observeHtmlLangChanged","_htmlLangObserver","_handleHtmlLangChange","baseLang","_constructDefaultBundle","_id","parentTemplate","localizableText","jsonData","_traverseAttributes","messageId","attrId","isLocalizable","dummy","parameterized","processed","parsed","_generateMessageId","_setBundleValue","setAttributeNode","span","templateTextParams","whiteSpaceElements","isWhiteSpace","isCompoundAnnotatedNode","child","parsedValue","parsedValue2","childElementCount","_isCompoundAnnotatedText","childStatus","templateNonCommentChildNodes","templateChild","hasText","hasCompoundAnnotatedText","hasTextChild","hasCompoundAnnotatedChildNode","hasGrandChildren","grandChild","_hasAnnotatedText","_compoundAnnotationToSpan","_child","templateNode","childTextNode","currentList","DOCUMENT_NODE","childNode","messageIdPath","substr","table","i18nFormat","_templateLocalizable","useNative","assetUrl","URL","currentImport","_propertyEffects","attributeOldValue","_onDomChangeBindThis","_onDomChange","__data__","Bind","_createAccessors","_properties","_I18nBehavior","i18nAttrRepos","domModules","repo","i18nBehaviorDomBind","i18nDomBind","domBind","domBindProto","_Polymer","_Base2","_this26","BaseElements","Mixins","Localizable","_Polymer$Utils$MixinB","_uncamelCase","_i18nPreprocess","_rawTemplate","__templateLocalizable","Logger","_base","_class2","UncamelCase","functionName","func","_Define","Define","classId","cousin","isNoIdPrevious","rawTemplate","word","TemplateDefaultLangElement","_Mixins$Logger","_BaseElements$I18nEle","_TemplateDefaultLangElement","I18nElement","_langUpdated","NullTemplateDefaultLangElement","_Mixins$Logger2","_BaseElements$I18nEle3","_NullTemplateDefaultLangElement","lang0","lang2","lang3","lang5","lang6","text_template_default_lang","h1_3","text_4","span_5","span_6","label-1","label-2","div_9:span","div_9:span_1","div_9:div_2:div","div_10:text","div_10:span_1","div_10:text_2","div_10:span_3","div_10:div_4:div","div_10:text_5","toplevel-div:span","toplevel-div:span_1","third-level-div","second-level-div:div_1","div_12:ul:li","div_12:ul:li_1","div_12:ul:li_2","line-items:li","line-items:li_1","line-items:li_2","p_13","paragraph","text_15","text_template_default_lang_fr","localDOM_template_default_lang","previousTextSibling.data.trim","nextTextSibling.data.trim","childNodes.0.data.trim","PolymerDom.children.0.textContent","PolymerDom.children.1.tagName","PolymerDom.children.1.textContent","PolymerDom.children.1.attributes.slot.value","PolymerDom.children.2.tagName","PolymerDom.children.2.textContent","PolymerDom.children.2.attributes.slot.value","localDOM_template_default_lang_fr","text_simple","localDOM_simple"],"mappings":"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","file":"../template-default-lang-test-imports.js","sourcesContent":["\"use strict\";\nvar fakeServerContents =\n{\n  \"/commented-simple-text-element/commented-simple-text-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/commented-simple-text-element/locales/commented-simple-text-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/compound-binding-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\",\n  \"/compound-binding-element/compound-binding-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\",\n  \"/compound-binding-element/locales/compound-binding-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" fr outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"fr outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" fr outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"fr simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"fr simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" fr simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" fr simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" fr simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"fr simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"fr great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"fr line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"fr line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"fr line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"fr line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"fr line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"fr line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"fr id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" fr outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\\n\",\n  \"/edge-case-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" name = {1} \\\",\\n    \\\"{{text.name}}\\\"\\n  ],\\n  \\\"i18n-number_1\\\": \\\"1\\\",\\n  \\\"i18n-format_2\\\": [\\n    \\\"{{text.format}}\\\",\\n    \\\"1\\\"\\n  ],\\n  \\\"i18n-format_3\\\": [\\n    \\\"format\\\",\\n    \\\"\\\"\\n  ],\\n  \\\"p_8\\\": [\\n    \\\"hello {1}{2} {3} world\\\",\\n    \\\"<br>\\\",\\n    \\\"<span>\\\",\\n    \\\"<span>\\\"\\n  ],\\n  \\\"p_9\\\": [\\n    \\\"hello{1}world\\\",\\n    \\\"<br>\\\"\\n  ],\\n  \\\"text_10\\\": \\\" hello \\\",\\n  \\\"text_14\\\": \\\" world \\\"\\n}\",\n  \"/edge-case/advanced-binding-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"aria-attributes\\\": {\\n      \\\"title\\\": \\\"tooltip text\\\",\\n      \\\"aria-label\\\": \\\"aria label text\\\",\\n      \\\"aria-valuetext\\\": \\\"aria value text\\\"\\n    }\\n  },\\n  \\\"annotated-format\\\": [\\n    \\\"{{tr(status,text.statusMessageFormats)}}\\\",\\n    \\\"{{parameter}}\\\",\\n    \\\"string parameter\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"{1} {2}\\\",\\n    \\\"{{text.defaultValue}}\\\",\\n    \\\"{{text.defaultValue}}\\\"\\n  ],\\n  \\\"statusMessages\\\": {\\n    \\\"ok\\\": \\\"healthy status\\\",\\n    \\\"busy\\\": \\\"busy status\\\",\\n    \\\"error\\\": \\\"error status\\\",\\n    \\\"default\\\": \\\"unknown status\\\"\\n  },\\n  \\\"defaultValue\\\": \\\"default value\\\",\\n  \\\"statusMessageFormats\\\": {\\n    \\\"ok\\\": \\\"healthy status\\\",\\n    \\\"busy\\\": \\\"busy status with {2}\\\",\\n    \\\"error\\\": \\\"error status with {1} and {2}\\\",\\n    \\\"default\\\": \\\"unknown status\\\"\\n  },\\n  \\\"nodefault\\\": {\\n    \\\"ok\\\": \\\"ok status\\\"\\n  }\\n}\",\n  \"/edge-case/complex-compound-binding-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"item-update2:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update2:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update2:dom-if_3:template:span:b\\\": \\\"IF CONTENT\\\",\\n  \\\"item-update2:b_4\\\": \\\"abc\\\",\\n  \\\"item-update2:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update2:text_6\\\": \\\" hello \\\",\\n  \\\"item-update:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update:dom-if_3:template:b\\\": \\\"IF CONTENT\\\",\\n  \\\"item-update:b_4\\\": \\\"abc\\\",\\n  \\\"item-update:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update:text_6\\\": \\\" hello \\\",\\n  \\\"item-update3:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update3:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update3:dom-if_3:template:b\\\": \\\"IF\\\",\\n  \\\"item-update3:dom-if_3:template:b_1\\\": \\\"CONTENT\\\",\\n  \\\"item-update3:b_4\\\": \\\"abc\\\",\\n  \\\"item-update3:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update3:text_6\\\": \\\" hello \\\",\\n  \\\"item-update4:text\\\": [\\n    \\\"updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:dom-repeat_1:template:text\\\": [\\n    \\\" {1} = {2} \\\",\\n    \\\"{{item.name}}\\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:text_2\\\": \\\" xxx \\\",\\n  \\\"item-update4:dom-if_3:template:b\\\": \\\"IF CONTENT\\\",\\n  \\\"item-update4:b_4\\\": \\\"abc\\\",\\n  \\\"item-update4:dom-if_5:template:text\\\": \\\"IF CONTENT 2\\\",\\n  \\\"item-update4:text_6\\\": \\\" hello \\\",\\n  \\\"paragraph:text\\\": \\\"A paragraph with \\\",\\n  \\\"paragraph:text_2\\\": \\\" is converted to \\\",\\n  \\\"paragraph:code_3\\\": \\\"<i18n-format>\\\",\\n  \\\"paragraph:text_4\\\": \\\". \\\",\\n  \\\"paragraph2:text\\\": \\\"A paragraph with deep \\\",\\n  \\\"paragraph2:text_2\\\": \\\" is \\\",\\n  \\\"paragraph2:b_3\\\": \\\"not\\\",\\n  \\\"paragraph2:text_4\\\": \\\" converted to \\\",\\n  \\\"paragraph2:code_5\\\": \\\"<i18n-format>\\\",\\n  \\\"paragraph2:text_6\\\": \\\". \\\",\\n  \\\"authors\\\": [\\n    {\\n      \\\"name\\\": \\\"Joe\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"Alice\\\"\\n    }\\n  ],\\n  \\\"updated\\\": \\\"Jan 1st, 2016\\\",\\n  \\\"parameters\\\": [\\n    \\\"parameter 1\\\",\\n    \\\"parameter 2\\\"\\n  ]\\n}\",\n  \"/edge-case/empty-element.json\": \"{}\",\n  \"/edge-case/locales/advanced-binding-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"aria-attributes\\\": {\\n      \\\"title\\\": \\\"fr tooltip text\\\",\\n      \\\"aria-label\\\": \\\"fr aria label text\\\",\\n      \\\"aria-valuetext\\\": \\\"fr aria value text\\\"\\n    }\\n  },\\n  \\\"annotated-format\\\": [\\n    \\\"{{tr(status,text.statusMessageFormats)}}\\\",\\n    \\\"{{parameter}}\\\",\\n    \\\"fr string parameter\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"fr {1} {2}\\\",\\n    \\\"{{text.defaultValue}}\\\",\\n    \\\"{{text.defaultValue}}\\\"\\n  ],\\n  \\\"statusMessages\\\": {\\n    \\\"ok\\\": \\\"fr healthy status\\\",\\n    \\\"busy\\\": \\\"fr busy status\\\",\\n    \\\"error\\\": \\\"fr error status\\\",\\n    \\\"default\\\": \\\"fr unknown status\\\"\\n  },\\n  \\\"defaultValue\\\": \\\"fr default value\\\",\\n  \\\"statusMessageFormats\\\": {\\n    \\\"ok\\\": \\\"fr healthy status\\\",\\n    \\\"busy\\\": \\\"fr busy status with {2}\\\",\\n    \\\"error\\\": \\\"fr error status with {1} and {2}\\\",\\n    \\\"default\\\": \\\"fr unknown status\\\"\\n  },\\n  \\\"nodefault\\\": {\\n    \\\"ok\\\": \\\"fr ok status\\\"\\n  }\\n}\",\n  \"/edge-case/locales/complex-compound-binding-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"item-update2:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update2:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update2:dom-if_3:template:span:b\\\": \\\"fr IF CONTENT\\\",\\n  \\\"item-update2:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update2:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update2:text_6\\\": \\\" fr hello \\\",\\n  \\\"item-update:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update:dom-if_3:template:b\\\": \\\"fr IF CONTENT\\\",\\n  \\\"item-update:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update:text_6\\\": \\\" fr hello \\\",\\n  \\\"item-update3:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update3:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update3:dom-if_3:template:b\\\": \\\"fr IF\\\",\\n  \\\"item-update3:dom-if_3:template:b_1\\\": \\\"fr CONTENT\\\",\\n  \\\"item-update3:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update3:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update3:text_6\\\": \\\" fr hello \\\",\\n  \\\"item-update4:text\\\": [\\n    \\\"fr updated: {1}, by: \\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:dom-repeat_1:template:text\\\": [\\n    \\\" fr {1} = {2} \\\",\\n    \\\"{{item.name}}\\\",\\n    \\\"{{text.updated}}\\\"\\n  ],\\n  \\\"item-update4:text_2\\\": \\\" fr xxx \\\",\\n  \\\"item-update4:dom-if_3:template:b\\\": \\\"fr IF CONTENT\\\",\\n  \\\"item-update4:b_4\\\": \\\"fr abc\\\",\\n  \\\"item-update4:dom-if_5:template:text\\\": \\\"fr IF CONTENT 2\\\",\\n  \\\"item-update4:text_6\\\": \\\" fr hello \\\",\\n  \\\"paragraph:text\\\": \\\"fr A paragraph with \\\",\\n  \\\"paragraph:text_2\\\": \\\" fr is converted to \\\",\\n  \\\"paragraph:code_3\\\": \\\"fr <i18n-format>\\\",\\n  \\\"paragraph:text_4\\\": \\\"fr . \\\",\\n  \\\"paragraph2:text\\\": \\\"fr A paragraph with deep \\\",\\n  \\\"paragraph2:text_2\\\": \\\" fr is \\\",\\n  \\\"paragraph2:b_3\\\": \\\"fr not\\\",\\n  \\\"paragraph2:text_4\\\": \\\" fr converted to \\\",\\n  \\\"paragraph2:code_5\\\": \\\"fr <i18n-format>\\\",\\n  \\\"paragraph2:text_6\\\": \\\"fr . \\\",\\n  \\\"authors\\\": [\\n    {\\n      \\\"name\\\": \\\"fr Joe\\\"\\n    },\\n    {\\n      \\\"name\\\": \\\"fr Alice\\\"\\n    }\\n  ],\\n  \\\"updated\\\": \\\"fr Jan 1st, 2016\\\",\\n  \\\"parameters\\\": [\\n    \\\"fr parameter 1\\\",\\n    \\\"fr parameter 2\\\"\\n  ]\\n}\",\n  \"/edge-case/locales/empty-element.fr.json\": \"{}\",\n  \"/fallback-text-element/fallback-text-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/fallback-text-element/locales/fallback-text-element.fr-CA.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\"fr-CA  outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr-CA outermost header 1\\\",\\n  \\\"text_4\\\": \\\"fr-CA  outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr-CA simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr-CA simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr-CA simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr-CA simple text with id 2\\\",\\n  \\\"div_10:span_1\\\": \\\"fr-CA simple text within div\\\",\\n  \\\"toplevel-div:span\\\": \\\"fr-CA simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr-CA simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr-CA great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr-CA great grandchild text within div without id\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr-CA A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr-CA parameters\\\",\\n    \\\"fr-CA <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr-CA A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr-CA id\\\",\\n    \\\"fr-CA <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\"fr-CA  outermost text at the end \\\"\\n}\\n\",\n  \"/fallback-text-element/locales/fallback-text-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\"fr  outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\"fr  outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\"fr  outermost text at the end \\\"\\n}\\n\",\n  \"/locales/compound-binding-dom-bind.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": [\\n    \\\" fr outermost text at the beginning with compound {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"h1_3\\\": [\\n    \\\"fr outermost header 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"text_4\\\": [\\n    \\\" fr outermost text in the middle with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_5\\\": [\\n    \\\"fr simple text without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"span_6\\\": [\\n    \\\"fr simple text without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-1\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"label-2\\\": [\\n    \\\"fr simple text with id and {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_9:div_2:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text\\\": [\\n    \\\" fr simple text as the first element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_1\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_2\\\": [\\n    \\\" fr simple text in the middle of div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:span_3\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables 2\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:div_4:div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_10:text_5\\\": [\\n    \\\" fr simple text at the last element in div with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span\\\": [\\n    \\\"fr simple text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"toplevel-div:span_1\\\": [\\n    \\\"fr simple text within div 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"third-level-div\\\": [\\n    \\\"fr great grandchild text within div with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"second-level-div:div_1\\\": [\\n    \\\"fr great grandchild text within div without id with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": [\\n    \\\"fr line item without id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_1\\\": [\\n    \\\"fr line item without id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"div_12:ul:li_2\\\": [\\n    \\\"fr line item without id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li\\\": [\\n    \\\"fr line item with id 1 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_1\\\": [\\n    \\\"fr line item with id 2 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"line-items:li_2\\\": [\\n    \\\"fr line item with id 3 with {1} and {2} variables\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1}, {2}, and {3} is converted to {4}.\\\",\\n    \\\"fr id\\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": [\\n    \\\" fr outermost text at the end with {1} and {2} variables \\\",\\n    \\\"{{param1}}\\\",\\n    \\\"{{param2}}\\\"\\n  ]\\n}\\n\",\n  \"/locales/simple-attribute-dom-bind.fr.json\": \"{\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"fr paper-input label\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"fr paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"fr Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"fr Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"fr Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"fr Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"fr May\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"fr Year\\\",\\n          \\\"fr Things\\\",\\n          \\\"fr Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"fr custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"fr custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"fr custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"fr {1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" fr custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"fr i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"fr i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"fr i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"fr text 1\\\"\\n}\\n\",\n  \"/locales/simple-text-dom-bind.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/multiple-case/item-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"label\\\": \\\"A\\\"\\n}\",\n  \"/multiple-case/locales/item-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"label\\\": \\\"fr A\\\"\\n}\",\n  \"/multiple-case/locales/multiple-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {}\\n}\",\n  \"/multiple-case/multiple-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {}\\n}\",\n  \"/plural-gender-element/locales/plural-gender-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"compound-format-text\\\": [\\n    {\\n      \\\"0\\\": \\\"fr You ({3}) gave no gifts.\\\",\\n      \\\"1\\\": {\\n        \\\"male\\\": \\\"fr You ({3}) gave him ({4}) {5}.\\\",\\n        \\\"female\\\": \\\"fr You ({3}) gave her ({4}) {5}.\\\",\\n        \\\"other\\\": \\\"fr You ({3}) gave them ({4}) {5}.\\\"\\n      },\\n      \\\"one\\\": {\\n        \\\"male\\\": \\\"fr You ({3}) gave him ({4}) and one other person {5}.\\\",\\n        \\\"female\\\": \\\"fr You ({3}) gave her ({4}) and one other person {5}.\\\",\\n        \\\"other\\\": \\\"fr You ({3}) gave them ({4}) and one other person {5}.\\\"\\n      },\\n      \\\"other\\\": \\\"fr You ({3}) gave them ({4}) and {1} other people gifts.\\\"\\n    },\\n    \\\"{{recipients.length - 1}}\\\",\\n    \\\"{{recipients.0.gender}}\\\",\\n    \\\"{{sender.name}}\\\",\\n    \\\"{{recipients.0.name}}\\\",\\n    \\\"fr a gift\\\"\\n  ]\\n}\\n\",\n  \"/plural-gender-element/plural-gender-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"compound-format-text\\\": [\\n    {\\n      \\\"0\\\": \\\"You ({3}) gave no gifts.\\\",\\n      \\\"1\\\": {\\n        \\\"male\\\": \\\"You ({3}) gave him ({4}) {5}.\\\",\\n        \\\"female\\\": \\\"You ({3}) gave her ({4}) {5}.\\\",\\n        \\\"other\\\": \\\"You ({3}) gave them ({4}) {5}.\\\"\\n      },\\n      \\\"one\\\": {\\n        \\\"male\\\": \\\"You ({3}) gave him ({4}) and one other person {5}.\\\",\\n        \\\"female\\\": \\\"You ({3}) gave her ({4}) and one other person {5}.\\\",\\n        \\\"other\\\": \\\"You ({3}) gave them ({4}) and one other person {5}.\\\"\\n      },\\n      \\\"other\\\": \\\"You ({3}) gave them ({4}) and {1} other people gifts.\\\"\\n    },\\n    \\\"{{recipients.length - 1}}\\\",\\n    \\\"{{recipients.0.gender}}\\\",\\n    \\\"{{sender.name}}\\\",\\n    \\\"{{recipients.0.name}}\\\",\\n    \\\"a gift\\\"\\n  ]\\n}\",\n  \"/preference/preference-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {}\\n}\",\n  \"/simple-attribute-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"paper-input label\\\",\\n      \\\"error-message\\\": \\\"paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"May\\\",\\n          31\\n        ],\\n        [\\n          \\\"Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"Year\\\",\\n          \\\"Things\\\",\\n          \\\"Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"{1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"text 1\\\"\\n}\",\n  \"/simple-attribute-element/locales/simple-attribute-element.fr.json\": \"{\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"fr standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"fr paper-input label\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"fr paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"fr paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"fr paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"fr Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"fr Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"fr Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"fr Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"fr May\\\",\\n          31\\n        ],\\n        [\\n          \\\"fr Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"fr Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"fr Year\\\",\\n          \\\"fr Things\\\",\\n          \\\"fr Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"fr custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"fr custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"fr custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"fr {1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" fr custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"fr i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"fr i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" fr and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"fr i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"fr i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"fr this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"fr this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"fr text 1\\\"\\n}\\n\",\n  \"/simple-attribute-element/locales/text-attribute-element.fr.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"span_4\\\": \\\"fr text\\\"\\n}\\n\",\n  \"/simple-attribute-element/simple-attribute-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {\\n    \\\"standard-input\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute\\\"\\n    },\\n    \\\"outer-div:input_2\\\": {\\n      \\\"placeholder\\\": \\\"standard HTML5 attribute without id\\\"\\n    },\\n    \\\"paper-input-element\\\": {\\n      \\\"label\\\": \\\"paper-input label\\\",\\n      \\\"error-message\\\": \\\"paper-input error message\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder\\\"\\n    },\\n    \\\"outer-div:paper-input_4\\\": {\\n      \\\"label\\\": \\\"paper-input label without id\\\",\\n      \\\"error-message\\\": \\\"paper-input error message without id\\\",\\n      \\\"placeholder\\\": \\\"paper-input placeholder without id\\\"\\n    },\\n    \\\"pie-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Distribution of days in 2001H1\\\"\\n      },\\n      \\\"cols\\\": [\\n        {\\n          \\\"label\\\": \\\"Month\\\",\\n          \\\"type\\\": \\\"string\\\"\\n        },\\n        {\\n          \\\"label\\\": \\\"Days\\\",\\n          \\\"type\\\": \\\"number\\\"\\n        }\\n      ],\\n      \\\"rows\\\": [\\n        [\\n          \\\"Jan\\\",\\n          31\\n        ],\\n        [\\n          \\\"Feb\\\",\\n          28\\n        ],\\n        [\\n          \\\"Mar\\\",\\n          31\\n        ],\\n        [\\n          \\\"Apr\\\",\\n          30\\n        ],\\n        [\\n          \\\"May\\\",\\n          31\\n        ],\\n        [\\n          \\\"Jun\\\",\\n          30\\n        ]\\n      ]\\n    },\\n    \\\"column-chart\\\": {\\n      \\\"options\\\": {\\n        \\\"title\\\": \\\"Inventory\\\"\\n      },\\n      \\\"data\\\": [\\n        [\\n          \\\"Year\\\",\\n          \\\"Things\\\",\\n          \\\"Stuff\\\"\\n        ],\\n        [\\n          \\\"2004\\\",\\n          1000,\\n          400\\n        ],\\n        [\\n          \\\"2005\\\",\\n          1170,\\n          460\\n        ],\\n        [\\n          \\\"2006\\\",\\n          660,\\n          1120\\n        ],\\n        [\\n          \\\"2007\\\",\\n          1030,\\n          540\\n        ]\\n      ]\\n    },\\n    \\\"custom-attr\\\": {\\n      \\\"custom-text-attr1\\\": \\\"custom text attribute 1\\\",\\n      \\\"custom-text-attr2\\\": \\\"custom text attribute 2\\\",\\n      \\\"custom-text-attr3\\\": \\\"custom text attribute 3\\\"\\n    },\\n    \\\"selective-attr\\\": {\\n      \\\"custom-text-attr4\\\": [\\n        \\\"{1} custom-text-attr4 attribute with param {2} and param {3} {4}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\"{{text.ordinary-div}}\\\"\\n      ],\\n      \\\"custom-text-attr5\\\": [\\n        \\\"[[text.ordinary-div]]\\\",\\n        \\\" custom-text-attr5 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target\\\": [\\n        \\\"i18n-target attribute with param {1} and param {2}\\\",\\n        \\\"{{text.ordinary-div}}\\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ],\\n      \\\"i18n-target2\\\": [\\n        \\\"i18n-target2 attribute with param \\\",\\n        \\\"{{or('',text.ordinary-div)}}\\\",\\n        \\\" and param \\\",\\n        \\\"[[text.ordinary-div]]\\\"\\n      ]\\n    },\\n    \\\"selective-attr2\\\": {\\n      \\\"i18n-target\\\": \\\"i18n-target attribute 2\\\"\\n    },\\n    \\\"selective-attr3\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 2\\\"\\n    },\\n    \\\"selective-attr4\\\": {\\n      \\\"i18n-target6\\\": \\\"i18n-target6 attribute 3\\\"\\n    },\\n    \\\"json-data-id\\\": {\\n      \\\"attr1\\\": \\\"this attr1 is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute is also extracted\\\"\\n    },\\n    \\\"template_2:json-data_1\\\": {\\n      \\\"attr1\\\": \\\"this attr1 without id is extracted\\\",\\n      \\\"i18n-target-attr\\\": \\\"this attribute without id is also extracted\\\"\\n    }\\n  },\\n  \\\"ordinary-div\\\": \\\"text 1\\\"\\n}\",\n  \"/simple-attribute-element/text-attribute-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"span_4\\\": \\\"text\\\"\\n}\",\n  \"/simple-text-dom-bind.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/simple-text-element/locales/simple-text-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/simple-text-element/locales/simple-text-element.ru.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" ru outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"ru outermost header 1\\\",\\n  \\\"text_4\\\": \\\" ru outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"ru simple text without id\\\",\\n  \\\"span_6\\\": \\\"ru simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"ru simple text with id\\\",\\n  \\\"label-2\\\": \\\"ru simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"ru simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"ru simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"ru great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" ru simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"ru simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" ru simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"ru simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"ru great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" ru simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"ru simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"ru simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"ru great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"ru great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"ru line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"ru line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"ru line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"ru line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"ru line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"ru line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"ru A paragraph with {1} is converted to {2}.\\\",\\n    \\\"ru parameters\\\",\\n    \\\"ru <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"ru A paragraph with {1} is converted to {2}.\\\",\\n    \\\"ru id\\\",\\n    \\\"ru <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" ru outermost text at the end \\\"\\n}\\n\",\n  \"/simple-text-element/simple-text-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/simple-text-id-element/locales/simple-text-id-element.fr.json\": \"{\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"second-level-div\\\": [\\n    \\\" fr {1}\\\\n        {2} \\\",\\n    \\\"fr great grandchild text within div\\\",\\n    \\\"fr great grandchild text within div without id\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items\\\": [\\n    \\\" fr {1}\\\\n        {2}\\\\n        {3} \\\",\\n    \\\"fr line item with id 1\\\",\\n    \\\"fr line item with id 2\\\",\\n    \\\"fr line item with id 3\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\\n\",\n  \"/simple-text-id-element/simple-text-id-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"second-level-div\\\": [\\n    \\\" {1}\\\\n        {2} \\\",\\n    \\\"great grandchild text within div\\\",\\n    \\\"great grandchild text within div without id\\\"\\n  ],\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items\\\": [\\n    \\\" {1}\\\\n        {2}\\\\n        {3} \\\",\\n    \\\"line item with id 1\\\",\\n    \\\"line item with id 2\\\",\\n    \\\"line item with id 3\\\"\\n  ],\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/locales/null-template-default-lang-element.ja.json\": \"\",\n  \"/template-default-lang/locales/null-template-default-lang-element.zh-Hans-CN.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" zh-Hans-CN outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"zh-Hans-CN outermost header 1\\\",\\n  \\\"text_4\\\": \\\" zh-Hans-CN outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"zh-Hans-CN simple text without id\\\",\\n  \\\"span_6\\\": \\\"zh-Hans-CN simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"zh-Hans-CN simple text with id\\\",\\n  \\\"label-2\\\": \\\"zh-Hans-CN simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" zh-Hans-CN simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" zh-Hans-CN simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" zh-Hans-CN simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"zh-Hans-CN great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"zh-Hans-CN line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"zh-Hans-CN line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"zh-Hans-CN line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"zh-Hans-CN line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"zh-Hans-CN line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"zh-Hans-CN line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN parameters\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN id\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" zh-Hans-CN outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/locales/template-default-lang-element.zh-Hans-CN.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" zh-Hans-CN outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"zh-Hans-CN outermost header 1\\\",\\n  \\\"text_4\\\": \\\" zh-Hans-CN outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"zh-Hans-CN simple text without id\\\",\\n  \\\"span_6\\\": \\\"zh-Hans-CN simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"zh-Hans-CN simple text with id\\\",\\n  \\\"label-2\\\": \\\"zh-Hans-CN simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" zh-Hans-CN simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" zh-Hans-CN simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" zh-Hans-CN simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"zh-Hans-CN simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"zh-Hans-CN simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"zh-Hans-CN great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"zh-Hans-CN great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"zh-Hans-CN line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"zh-Hans-CN line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"zh-Hans-CN line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"zh-Hans-CN line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"zh-Hans-CN line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"zh-Hans-CN line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN parameters\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"zh-Hans-CN A paragraph with {1} is converted to {2}.\\\",\\n    \\\"zh-Hans-CN id\\\",\\n    \\\"zh-Hans-CN <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" zh-Hans-CN outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/null-template-default-lang-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"outermost header 1\\\",\\n  \\\"text_4\\\": \\\" outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"simple text without id\\\",\\n  \\\"span_6\\\": \\\"simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"simple text with id\\\",\\n  \\\"label-2\\\": \\\"simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"parameters\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"A paragraph with {1} is converted to {2}.\\\",\\n    \\\"id\\\",\\n    \\\"<i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" outermost text at the end \\\"\\n}\",\n  \"/template-default-lang/template-default-lang-element.json\": \"{\\n  \\\"meta\\\": {},\\n  \\\"model\\\": {},\\n  \\\"text\\\": \\\" fr outermost text at the beginning \\\",\\n  \\\"h1_3\\\": \\\"fr outermost header 1\\\",\\n  \\\"text_4\\\": \\\" fr outermost text in the middle \\\",\\n  \\\"span_5\\\": \\\"fr simple text without id\\\",\\n  \\\"span_6\\\": \\\"fr simple text without id 2\\\",\\n  \\\"label-1\\\": \\\"fr simple text with id\\\",\\n  \\\"label-2\\\": \\\"fr simple text with id 2\\\",\\n  \\\"div_9:span\\\": \\\"fr simple text within div\\\",\\n  \\\"div_9:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_9:div_2:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text\\\": \\\" fr simple text as the first element in div \\\",\\n  \\\"div_10:span_1\\\": \\\"fr simple text within div\\\",\\n  \\\"div_10:text_2\\\": \\\" fr simple text in the middle of div \\\",\\n  \\\"div_10:span_3\\\": \\\"fr simple text within div 2\\\",\\n  \\\"div_10:div_4:div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"div_10:text_5\\\": \\\" fr simple text at the last element in div \\\",\\n  \\\"toplevel-div:span\\\": \\\"fr simple text within div\\\",\\n  \\\"toplevel-div:span_1\\\": \\\"fr simple text within div 2\\\",\\n  \\\"third-level-div\\\": \\\"fr great grandchild text within div\\\",\\n  \\\"second-level-div:div_1\\\": \\\"fr great grandchild text within div without id\\\",\\n  \\\"div_12:ul:li\\\": \\\"fr line item without id 1\\\",\\n  \\\"div_12:ul:li_1\\\": \\\"fr line item without id 2\\\",\\n  \\\"div_12:ul:li_2\\\": \\\"fr line item without id 3\\\",\\n  \\\"line-items:li\\\": \\\"fr line item with id 1\\\",\\n  \\\"line-items:li_1\\\": \\\"fr line item with id 2\\\",\\n  \\\"line-items:li_2\\\": \\\"fr line item with id 3\\\",\\n  \\\"p_13\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr parameters\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"paragraph\\\": [\\n    \\\"fr A paragraph with {1} is converted to {2}.\\\",\\n    \\\"fr id\\\",\\n    \\\"fr <i18n-format>\\\"\\n  ],\\n  \\\"text_15\\\": \\\" fr outermost text at the end \\\"\\n}\"\n};\n/*!\n * @license https://github.com/t2ym/i18n-behavior/blob/master/LICENSE.md\n * Copyright (c) 2016, Tetsuya Mori <t2y3141592@gmail.com>. All rights reserved.\n */\n\nif (!Number.isNaN) {\n  // polyfill Number.isNaN for IE11\n  Number.isNaN = function (value) {\n    return typeof value === 'number' && isNaN(value);\n  };\n}\n\n// Inheritance of test parameters\nvar p = Object.setPrototypeOf || function (target, base) { \n  var obj = Object.create(base);\n  for (var p in target) {\n    obj[p] = target[p];\n  }\n  return obj;\n};\nvar g = Object.getPrototypeOf;\nvar _name = 'suite';\nvar suiteMap = { null: {} };\nvar s = function (name, baseName, extension) {\n  if (suiteMap[name]) {\n    throw new Error('duplicate suite name ' + name);\n  }\n  if (!suiteMap[baseName]) {\n    throw new Error('inexistent base suite name ' + baseName);\n  }\n  extension[_name] = name;\n  extension = p(extension, suiteMap[baseName]);\n  suiteMap[name] = extension;\n  return extension;\n};\n\n// Utility functions\n\nfunction updateProperty (element, properties) {\n  for (var name in properties) {\n    var path = name.split(/[.]/);\n    if (path.length === 1) {\n      element[name] = properties[name];\n    }\n    else {\n      var cursor = element;\n      var p = path.shift();\n      while (p) {\n        if (path.length < 1) {\n          cursor[p] = properties[name];\n          element.notifyPath(name, properties[name], true);\n          break;\n        }\n        else if (p === 'PolymerDom') {\n          cursor = Polymer.dom(cursor);\n        }\n        else if (p === 'html') {\n          cursor = document.querySelector('html');\n        }\n        else {\n          cursor = cursor[p];\n        }\n        p = path.shift();\n      }\n    }\n  }\n}\n\nfunction getProperty (target, name) {\n  var path = name.split(/[.]/);\n  if (path.length === 1) {\n    return target[name];\n  }\n  else {\n    var cursor = target;\n    var p = path.shift();\n    while (p) {\n      //console.log(p, cursor);\n      if (path.length < 1) {\n        if (p === 'raw' ||\n            p === 'text') {\n          return cursor;\n        }\n        else if (p === 'trim') {\n          return cursor.trim();\n        }\n        if (p === 'data') {\n          cursor = cursor[p];\n          cursor = cursor.replace(/^[\\s]{1,}/g, ' ').replace(/[\\s]{1,}$/g, ' ');\n          return cursor;\n        }\n        else {\n          return cursor[p];\n        }\n      }\n      else if (p === 'PolymerDom') {\n        cursor = Polymer.dom(cursor);\n      }\n      else if (p === 'previousTextSibling') {\n        do {\n          cursor = cursor.previousSibling;\n        } while (cursor.nodeType === cursor.COMMENT_NODE ||\n                 (cursor.nodeType === cursor.TEXT_NODE && cursor.data.match(/^[\\s]*$/)));\n      }\n      else if (p === 'nextTextSibling') {\n        do {\n          cursor = cursor.nextSibling;\n        } while (cursor.nodeType === cursor.COMMENT_NODE ||\n                 (cursor.nodeType === cursor.TEXT_NODE && cursor.data.match(/^[\\s]*$/)));\n      }\n      else if (p === 'effectiveChildNodes') {\n        cursor = cursor.getEffectiveChildNodes();\n      }\n      else if (p === 'nonWS') {\n        cursor = Array.prototype.filter.call(cursor, function (item) {\n          return (item.nodeType !== item.TEXT_NODE &&\n                  item.nodeType !== item.COMMENT_NODE) ||\n                 (item.nodeType === item.TEXT_NODE &&\n                  !item.data.match(/^[\\s]*$/));\n        });\n      }\n      else {\n        cursor = cursor[p];\n      }\n      p = path.shift();\n    }\n  }\n}\n\nfunction deepMap (target, source, map) {\n  var value;\n  for (var prop in source) {\n    value = source[prop];\n    switch (typeof value) {\n    case 'string':\n    case 'number':\n    case 'boolean':\n      if (typeof target === 'object') {\n        target[prop] = map(value, prop);\n      }\n      break;\n    case 'object':\n      if (typeof target === 'object') {\n        if (Array.isArray(value)) {\n          target[prop] = target[prop] || [];\n          deepMap(target[prop], value, map);\n        }\n        else {\n          target[prop] = target[prop] || {};\n          deepMap(target[prop], value, map);\n        }\n      }\n      break;\n    case 'function':\n    case 'symbol':\n    case 'undefined':\n      if (typeof target === 'object') {\n        target[prop] = value;\n      }\n      break;\n    default:\n      if (typeof target === 'object') {\n        target[prop] = value;\n      }\n      break;\n    }\n  }\n  return target;\n}\n\nfunction translate (lang, path, text) {\n  var result;\n  switch (lang) {\n  case '':\n  case 'en':\n  case null:\n  case undefined:\n    result = text;\n    break;\n  default:\n    if (!path || path.match(/(textContent|[.]data|[.]text|[.]trim)$/)) {\n      result = {};\n      deepMap(result, { text: text }, function (value, prop) {\n        if (typeof value === 'string' &&\n            !value.match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/) &&\n            !value.match(/^[0-9]{1,}$/) &&\n            prop !== 'type') {\n          if (path && path.match(/[.]trim$/)) {\n            return minifyText((lang + ' ' + value).trim());\n          }\n          else {\n            if (value.match(/^ /)) {\n              return minifyText(' ' + lang + ' ' + value);\n            }\n            else {\n              return minifyText(lang + ' ' + value);\n            }\n          }\n        }\n        return minifyText(value);\n      });\n      result = result.text;\n    }\n    else {\n      result = text;\n    }\n  }\n  //console.log('translate (' + lang + ', ' + path + ', ' + JSON.stringify(text, null, 2) + ') = ' + JSON.stringify(result, null, 2));\n  return result;\n}\n\nfunction minifyText (text) {\n  if (text && typeof text === 'string') {\n    text = text.replace(/[\\s]{1,}/g, ' ');\n  }\n  return text;\n}\n\nvar isFakeServer = typeof window === 'object' &&\n  typeof window.location.href === 'string' &&\n  window.location.href.indexOf('xhr=fake') > 0 &&\n  typeof window.fakeServerContents === 'object';\n\nvar isSuppressingSuiteParams = typeof window === 'object' &&\n  typeof window.location.href === 'string' &&\n  window.location.href.indexOf('suppress=true') > 0;\n\nvar syntax = 'mixin';\n(function () {\n  var href = typeof window === 'object' && typeof window.location.href === 'string'\n    ? window.location.href : ''\n  if (href) {\n    [ 'mixin', 'base-element', 'thin', 'legacy', 'modified-legacy' ].forEach(function (_syntax) {\n      if (href.indexOf('syntax=' + _syntax) > 0) {\n        syntax = _syntax;\n      }\n    });\n  }\n})();\n\nfunction setupFakeServer (e) {\n  if (isFakeServer) {\n    e.server = sinon.fakeServer.create();\n    e.server.autoRespond = true;\n    //e.server.autoRespondAfter = 100;\n    e.server.respondImmediately = true;\n    e.server.respondWith(/\\/test\\/[-\\w]+(\\/.*[.]json)$/, function (xhr, urlPath) {\n      if (fakeServerContents.hasOwnProperty(urlPath)) {\n        //console.log('fake-server: 200 ' + urlPath);\n        xhr.respond(200, { 'Content-Type': 'application/json' }, fakeServerContents[urlPath])\n      }\n      else {\n        //console.log('fake-server: 404 ' + urlPath);\n        xhr.respond(404, {}, '');\n      }\n    });\n  }\n}\n\nfunction teardownFakeServer (e) {\n  if (isFakeServer) {\n    e.server.restore();\n  }\n}\n\nfunction setupFixture (params, fixtureModel) {\n  var fixtureName = params.fixture;\n  var e = document.querySelector('#' + fixtureName);\n  var runningTest = document.querySelectorAll('.running-test');\n  var title = document.querySelector('#test-name');\n  var currentPath = window.location.pathname.split('/');\n  if (!e) {\n    throw new Error('Fixture element with id = ' + fixtureName + ' not found');\n  }\n  if (title) {\n    title.textContent =\n      (currentPath.length >= 2 ? currentPath[currentPath.length - 2] : '') +\n      (currentPath.length >= 1 ? '/' + currentPath[currentPath.length - 1].replace(/-test[.]html$/, '') + '/': '') +\n      params.suite;\n  }\n  //console.log('setupFixture: suite = ' + params.suite);\n  if (e.is === 'i18n-dom-bind') {\n    e.parentElement.classList.add('running-test');\n    Array.prototype.forEach.call(runningTest, function (node) {\n      if (node !== e.parentElement) {\n        node.classList.remove('running-test');\n      }\n    });\n    return new Promise(function (resolve, reject) {\n      e.addEventListener('dom-change', function setupFixtureDomChange (ev) {\n        if (Polymer.dom(ev).rootTarget === e) {\n          //console.log('setupFixture dom-change');\n          e.removeEventListener('dom-change', setupFixtureDomChange);\n          try {\n            if (fixtureModel &&\n                typeof fixtureModel.lang === 'string' &&\n                fixtureModel.lang !== 'en') {\n              //console.log('setupFixture: waiting for lang-updated');\n              e.addEventListener('lang-updated', function setupFixtureLangDomChange (event) {\n                //console.log('setupFixtureLangDomChange');\n                if (event.target === e &&\n                    e.effectiveLang === fixtureModel.lang) {\n                  //console.log('setupFixtureLangDomChange lang = ' + event.detail.lang + ' effectiveLang = ' + e.effectiveLang);\n                  e.removeEventListener('lang-updated', setupFixtureLangDomChange);\n                  e.render();\n                  resolve(e);\n                }\n              });\n              for (var p in fixtureModel) {\n                e[p] = fixtureModel[p];\n              }\n              e.params = params;\n            }\n            else {\n              for (var p in fixtureModel) {\n                e[p] = fixtureModel[p];\n              }\n              e.params = params;\n              //console.log('setupFixture: resolving');\n              e.render();\n              resolve(e);\n            }\n          }\n          catch (ex) {\n            reject(ex);\n          }\n        }\n      });\n      if (e._children) {\n        e.render();\n      }\n    });\n  }\n  else {\n    e.classList.add('running-test');\n    Array.prototype.forEach.call(runningTest, function (node) {\n      if (node !== e) {\n        node.classList.remove('running-test');\n      }\n    });\n    setupFakeServer(e);\n    return new Promise(function (resolve, reject) {\n      //console.log('setupFixture: name = ' + fixtureName + ' model = ' + JSON.stringify(fixtureModel, null, 2));\n      if (fixtureModel) {\n        var f = document.querySelector('test-fixture[id=' + fixtureName + ']');\n        var t = f.querySelector('template[is=dom-template]');\n        if (t) {\n          var templatizer = new Polymer.Templatizer();\n          var instanceProps = {};\n          var p;\n          for (p in fixtureModel) {\n            instanceProps[p] = true;\n          }\n          var self = t;\n          t._ctor = templatizer.templatize(t, {\n            instanceProps: instanceProps,\n            fwdHostPropToInstance: function(host, prop, value) {\n              if (self._instance) {\n                self._instance.forwardProperty(prop, value, host);\n              }\n            }\n          });\n          t.stamp = function (model) {\n            this._instance = new this._ctor(this, model);\n            return this._instance.root;\n          }.bind(t);\n        }\n      }\n      var element = fixture(fixtureName, fixtureModel);\n      //console.log('setupFixture: name = ' + fixtureName +\n      //            ' element.lang = ' + element.lang +\n      //            ' getAttribute(\"lang\") = ' + element.getAttribute('lang') +\n      //            ' element._lang = ' + element._lang);\n      if (element) {\n        if (fixtureModel &&\n            typeof fixtureModel.lang === 'string' &&\n            fixtureModel.lang !== 'en' &&\n            fixtureModel.lang !== element.effectiveLang && element.effectiveLang !== 'en') {\n          //console.log('setupFixture: waiting for lang-updated');\n          element.addEventListener('lang-updated', function setupFixtureLangUpdated (event) {\n            //console.log('setupFixtureLangUpdated');\n            if (event.target === element &&\n                element.effectiveLang === fixtureModel.lang) {\n              //console.log('setupFixtureLangUpdated lang = ' + event.detail.lang + ' effectiveLang = ' + element.effectiveLang);\n              element.removeEventListener('lang-updated', setupFixtureLangUpdated);\n              resolve(element);\n            }\n          });\n        }\n        else {\n          //console.log('setupFixture: element ready without lang-updated');\n          setTimeout(function () {\n            if ((params.lang === '' || params.lang === 'en') && element.fire) {\n              element.fire('lang-updated');\n            }\n          }, 500);\n          resolve(element);\n        }\n      }\n      else {\n        reject(new Error('setupFixture returns null for ' +\n                          fixtureName + ' ' + JSON.stringify(fixtureModel,null,2)));\n      }\n    });\n  }\n}\n\nfunction restoreFixture (fixtureName) {\n  var e = document.querySelector('#' + fixtureName);\n  if (!e) {\n    throw new Error('Fixture element with id = ' + fixtureName + ' not found');\n  }\n  if (e.is === 'i18n-dom-bind') {\n    if (e._intervalId) {\n      clearInterval(e._intervalId);\n    }\n    Array.prototype.forEach.call(document.querySelectorAll('i18n-dom-bind'),\n      function (node) {\n        node.observeHtmlLang = true;\n      }\n    );\n  }\n  else {\n    teardownFakeServer(e);\n    e.restore();\n  }\n}\n\nfunction getLocalDomRoot (e) {\n  if (e.is === 'i18n-dom-bind') {\n    return e.parentElement;\n  }\n  else if (e) {\n    return e.root;\n  }\n  else {\n    return null;\n  }\n}\n\nfunction suitesRunner (suites) {\n\n  suites.forEach(function (params) {\n\n    suite(params.suite, function () {\n      var el;\n      var p;\n      var n;\n      var i, j;\n      var expected;\n      var results;\n      var node;\n      var rawValue = params.rawValue;\n      var fixtureElement;\n      var noProperties;\n      var lang = params.assign && params.assign.lang ? params.assign.lang : 'en';\n      var event = params.event ? params.event : 'lang-updated';\n      var defTimeout = 300000;\n      var timeout = params.timeout ? (params.timeout < defTimeout ? defTimeout : params.timeout) : defTimeout;\n      this.timeout(timeout);\n\n      (params.setup ? setup : suiteSetup)(function () {\n        return setupFixture(params, params.fixtureModel)\n          .then(function (element) {\n            el = element;\n            //console.log('setup: element.lang = ' + element.lang);\n            return new Promise(function (resolve, reject) {\n              //console.log(params.suite, 'waiting for ' + event);\n              if (params &&\n                  (params.event ||\n                  params.assign && (params.assign.lang || params.assign['html.lang']))) {\n                el.addEventListener(event, function fixtureSetup (e) {\n                  if (el === Polymer.dom(e).rootTarget &&\n                      el.lang === params.lang &&\n                      el.effectiveLang === params.effectiveLang) {\n                    el.removeEventListener(event, fixtureSetup);\n                    //console.log('setup: updateProperty resolving on ' + event);\n                    resolve(el);\n                  }\n                  else {\n                    console.log(params.suite + ' skipping uninteresting event ' + event +\n                      ' \"' + el.lang + '\" \"' + params.lang + '\" \"' + el.effectiveLang + '\" \"' + params.effectiveLang + '\"');\n                  }\n                });\n                //console.log('setup: updateProperty ' + JSON.stringify(params.assign, null, 2));\n                updateProperty(el, params.assign);\n              }\n              else {\n                //console.log('setup: updateProperty ' + JSON.stringify(params.assign, null, 2));\n                //console.log('setup: updateProperty resolving without ' + event);\n                updateProperty(el, params.assign);\n                resolve(el);\n              }\n            });\n          }, function (error) {\n            throw new Error(error);\n          });\n      });\n\n      test('{lang, effectiveLang, templateDefaultLang, observeHtmlLang' +\n            (params.text ? ', text' : '') +\n            (params.model ? ', model' : '') +\n            (params.localDOM ? ', local DOM' : '') +\n            '} properties are set as {' + \n            (isSuppressingSuiteParams ? '' :\n            [ params.lang, params.effectiveLang, params.templateDefaultLang, params.observeHtmlLang].join(', ') +\n            (params.text ? ', ' + JSON.stringify(params.text, null, 2) : '') +\n            (params.model ? ', ' + JSON.stringify(params.model, null, 2) : '') +\n            (!params.setup && params.localDOM ? ', ' + JSON.stringify(params.localDOM, null, 2) : '')) +\n            '}' +\n            (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n        assert.isString(el.lang, 'lang property is a string');\n        assert.equal(el.lang, params.lang, 'lang property is set');\n        if (typeof params.effectiveLang !== 'undefined') {\n          assert.isString(el.effectiveLang, 'effectiveLang property is a string');\n          assert.equal(el.effectiveLang, params.effectiveLang, 'effectiveLang property is set');\n        }\n        if (typeof params.templateDefaultLang !== 'undefined') {\n          assert.isString(el.templateDefaultLang, 'templateDefaultLang property is a string');\n          assert.equal(el.templateDefaultLang, params.templateDefaultLang, 'templateDefaultLang property is set');\n        }\n        if (typeof params.observeHtmlLang !== 'undefined') {\n          assert.isBoolean(el.observeHtmlLang, 'observeHtmlLang property is a Boolean');\n          assert.equal(el.observeHtmlLang, params.observeHtmlLang, 'observeHtmlLang property is set');\n        }\n        if (params.text) {\n          var actual;\n          expected = deepMap(deepcopy(params.text), params.text, minifyText);\n          actual = deepMap(deepcopy(el.text), el.text, minifyText);\n          noProperties = true;\n          assert.isObject(el.text, 'text property is an object');\n          //console.log(JSON.stringify(e.detail, null, 2));\n          //console.log(JSON.stringify(el.text, null, 2));\n          for (p in expected) {\n            if (p === 'meta') {\n              continue;\n            }\n            noProperties = false;\n            assert.deepEqual(actual[p],\n              params.rawText ? expected[p] : translate(params.effectiveLang, null, expected[p]),\n              'text.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(deepMap(deepcopy(el.text), el.text, minifyText),\n              expected,\n              'text property is set');\n          }\n        }\n        if (params.model) {\n          noProperties = true;\n          assert.isObject(el.model, 'model property is an object');\n          for (p in expected) {\n            noProperties = false;\n            //console.log('model.' + p + ' = ' + JSON.stringify(el.model[p]));\n            //console.log('expected model.' + p + ' = ' + JSON.stringify(translate(el.effectiveLang, null, params.model[p])));\n            assert.deepEqual(minifyText(el.model[p]),\n              params.rawText ? params.model[p] : translate(params.effectiveLang, null, params.model[p]),\n              'model.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(el.model, params.model, 'model property is set');\n          }\n        }\n        if (!params.setup && params.localDOM) {\n          params.localDOM.forEach(function (childPath) {\n            var completeStatus;\n            var nodes = Polymer.dom(getLocalDomRoot(el)).querySelectorAll(childPath.select);\n            assert.ok(nodes.length > 0, childPath.select + ' is defined');\n            for (var p in childPath) {\n              if (p === 'select') {\n                continue;\n              }\n              //console.log(p + ' is set as ' + childPath[p]);\n              if (Array.isArray(childPath[p])) {\n                //console.log(nodes);\n                Array.prototype.forEach.call(childPath[p], function (path, i, a) {\n                  assert.equal(minifyText(getProperty(nodes[i], p)),\n                    minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)),\n                    p + ' is set as ' + minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)));\n                });\n              }\n              else {\n                //console.log(nodes[0]);\n                assert.equal(minifyText(getProperty(nodes[0], p)),\n                  minifyText(params.rawText ? childPath[p] : translate(params.effectiveLang, p, childPath[p])),\n                  p + ' is set as ' + translate(params.rawText ? childPath[p] : params.effectiveLang, p, childPath[p]));\n              }\n            }\n            //console.log(childPath);\n          });\n        }\n      });\n\n/*\n      if (params.text) {\n        test('text' + ' property is set as ' + JSON.stringify(params.text,null,2) + \n          (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          expected = deepMap(deepcopy(params.text), params.text, minifyText);\n          noProperties = true;\n          assert.isObject(el.text, 'text property is an object');\n          //console.log(JSON.stringify(e.detail, null, 2));\n          //console.log(JSON.stringify(el.text, null, 2));\n          for (p in expected) {\n            noProperties = false;\n            assert.deepEqual(deepMap(deepcopy(el.text[p]), el.text[p], minifyText),\n              params.rawText ? expected[p] : translate(params.effectiveLang, null, expected[p]),\n              'text.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(deepMap(deepcopy(el.text), el.text, minifyText),\n              expected,\n              'text property is set');\n          }\n        });\n      }\n\n      if (params.model) {\n        test('model' + ' property is set as ' + JSON.stringify(params.model,null,2) + \n          (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          noProperties = true;\n          assert.isObject(el.model, 'model property is an object');\n          for (p in params.model) {\n            noProperties = false;\n            //console.log('model.' + p + ' = ' + JSON.stringify(el.model[p]));\n            //console.log('expected model.' + p + ' = ' + JSON.stringify(translate(el.effectiveLang, null, params.model[p])));\n            assert.deepEqual(el.model[p],\n              params.rawText ? params.model[p] : translate(params.effectiveLang, null, params.model[p]),\n              'model.' + p + ' property is set for ' + params.effectiveLang);\n          }\n          if (noProperties) {\n            assert.deepEqual(el.model, params.model, 'model property is set');\n          }\n        });\n      }\n*/\n\n      if (params.setup && params.localDOM) {\n        test('local DOM ' + (isSuppressingSuiteParams ? '{}' : JSON.stringify(params.localDOM, null, 2)) + ' is set' + \n              (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          params.localDOM.forEach(function (childPath) {\n            var completeStatus;\n            var nodes = Polymer.dom(getLocalDomRoot(el)).querySelectorAll(childPath.select);\n            assert.ok(nodes.length > 0, childPath.select + ' is defined');\n            for (var p in childPath) {\n              if (p === 'select') {\n                continue;\n              }\n              //console.log(p + ' is set as ' + childPath[p]);\n              if (Array.isArray(childPath[p])) {\n                //console.log(nodes);\n                Array.prototype.forEach.call(childPath[p], function (path, i, a) {\n                  assert.equal(minifyText(getProperty(nodes[i], p)),\n                    minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)),\n                    p + ' is set as ' + minifyText(params.rawText ? path : translate(params.effectiveLang, p, path)));\n                });\n              }\n              else {\n                //console.log(nodes[0]);\n                assert.equal(minifyText(getProperty(nodes[0], p)),\n                  minifyText(params.rawText ? childPath[p] : translate(params.effectiveLang, p, childPath[p])),\n                  p + ' is set as ' + translate(params.rawText ? childPath[p] : params.effectiveLang, p, childPath[p]));\n              }\n            }\n            //console.log(childPath);\n          });\n        });\n      }\n\n      if (params.lightDOM) {\n        test('light DOM ' + (isSuppressingSuiteParams ? '{}' : JSON.stringify(params.lightDOM, null, 2)) + ' is set' + \n              (params.assign && params.assign.lang ? ' for ' + params.assign.lang : ''), function () {\n          params.lightDOM.forEach(function (childPath) {\n            var completeStatus;\n            var nodes = Polymer.dom(el).querySelectorAll(childPath.select);\n            assert.ok(nodes.length > 0, childPath.select + ' is defined');\n            for (var p in childPath) {\n              if (p === 'select') {\n                continue;\n              }\n              //console.log(p + ' is set as ' + childPath[p]);\n              if (Array.isArray(childPath[p])) {\n                //console.log(nodes);\n                Array.prototype.forEach.call(childPath[p], function (path, i, a) {\n                  assert.equal(getProperty(nodes[i], p), translate(params.effectiveLang, p, path), p + ' is set as ' + translate(params.effectiveLang, p, path));\n                });\n              }\n              else {\n                //console.log(nodes[0]);\n                assert.equal(getProperty(nodes[0], p), translate(params.effectiveLang, p, childPath[p]), p + ' is set as ' + translate(params.effectiveLang, p, childPath[p]));\n              }\n            }\n            //console.log(childPath);\n          });\n        });\n      }\n\n      (params.setup ? teardown : suiteTeardown)(function () {\n        restoreFixture(params.fixture);\n      });\n    });\n  });\n};\nwindow.Polymer = window.Polymer || {};\n  window.Polymer.version = '2.0-preview';\n(function() {\n\n  var modules = {};\n  var lcModules = {};\n  var findModule = function(id) {\n    return modules[id] || lcModules[id.toLowerCase()];\n  };\n\n  /**\n   * The `dom-module` element registers the dom it contains to the name given\n   * by the module's id attribute. It provides a unified database of dom\n   * accessible via any dom-module element. Use the `import(id, selector)`\n   * method to locate dom within this database. For example,\n   *\n   * <dom-module id=\"foo\">\n   *   <img src=\"stuff.png\">\n   * </dom-module>\n   *\n   * Then in code in some other location that cannot access the dom-module above\n   *\n   * var img = document.createElement('dom-module').import('foo', 'img');\n   *\n   */\n  class DomModule extends HTMLElement {\n\n    static get observedAttributes() { return ['id'] }\n\n    attributeChangedCallback(name, old, value) {\n      if (old !== value) {\n        this.register();\n      }\n    }\n\n    _styleOutsideTemplateCheck() {\n      if (this.querySelector('style')) {\n        console.warn('dom-module %s has style outside template', this.id);\n      }\n    }\n\n    /**\n     * Registers the dom-module at a given id. This method should only be called\n     * when a dom-module is imperatively created. For\n     * example, `document.createElement('dom-module').register('foo')`.\n     * @method register\n     * @param {String} id The id at which to register the dom-module.\n     */\n    register(id) {\n      id = id || this.id;\n      if (id) {\n        this.id = id;\n        // store id separate from lowercased id so that\n        // in all cases mixedCase id will stored distinctly\n        // and lowercase version is a fallback\n        modules[id] = this;\n        lcModules[id.toLowerCase()] = this;\n        this._styleOutsideTemplateCheck();\n      }\n    }\n\n    /**\n     * Retrieves the dom specified by `selector` in the module specified by\n     * `id`. For example, this.import('foo', 'img');\n     * @method register\n     * @param {String} id\n     * @param {String} selector\n     * @return {Object} Returns the dom which matches `selector` in the module\n     * at the specified `id`.\n     */\n    import(id, selector) {\n      if (id) {\n        var m = findModule(id);\n        if (m && selector) {\n          return m.querySelector(selector);\n        }\n        return m;\n      }\n    }\n\n  }\n\n  customElements.define('dom-module', DomModule);\n\n  // export\n  Polymer.DomModule = new DomModule();\n\n  Polymer.DomModule.modules = modules;\n\n})();\nPolymer.CaseMap = {\n\n    _caseMap: {},\n    _rx: {\n      dashToCamel: /-[a-z]/g,\n      camelToDash: /([A-Z])/g\n    },\n\n    dashToCamelCase: function(dash) {\n      return this._caseMap[dash] || (\n        this._caseMap[dash] = dash.indexOf('-') < 0 ? dash : dash.replace(this._rx.dashToCamel,\n          function(m) {\n            return m[1].toUpperCase();\n          }\n        )\n      );\n    },\n\n    camelToDashCase: function(camel) {\n      return this._caseMap[camel] || (\n        this._caseMap[camel] = camel.replace(this._rx.camelToDash, '-$1').toLowerCase()\n      );\n    }\n\n  };\n(function() {\n\n  'use strict';\n\n  var p = Element.prototype;\n   var matchesSelector = p.matches || p.matchesSelector ||\n     p.mozMatchesSelector || p.msMatchesSelector ||\n     p.oMatchesSelector || p.webkitMatchesSelector;\n\n  Polymer.Utils = {\n\n    /**\n     * Copies props from a source object to a target object.\n     *\n     * Note, this method uses a simple `for...in` strategy for enumerating\n     * properties.  To ensure only `ownProperties` are copied from source\n     * to target and that accessor implementations are copied, use `extend`.\n     *\n     * @method mixin\n     * @param {Object} target Target object to copy properties to.\n     * @param {Object} source Source object to copy properties from.\n     * @return {Object} Target object that was passed as first argument.\n     */\n    mixin(target, source) {\n      for (var i in source) {\n        target[i] = source[i];\n      }\n      return target;\n    },\n\n    /**\n     * Copies own properties (including accessor descriptors) from a source\n     * object to a target object.\n     *\n     * @method extend\n     * @param {Object} prototype Target object to copy properties to.\n     * @param {Object} api Source object to copy properties from.\n     * @return {Object} prototype object that was passed as first argument.\n     */\n    extend(prototype, api) {\n      if (prototype && api) {\n        var n$ = Object.getOwnPropertyNames(api);\n        for (var i=0, n; (i<n$.length) && (n=n$[i]); i++) {\n          this.copyOwnProperty(n, api, prototype);\n        }\n      }\n      return prototype || api;\n    },\n\n    copyOwnProperty(name, source, target) {\n      var pd = Object.getOwnPropertyDescriptor(source, name);\n      if (pd) {\n        Object.defineProperty(target, name, pd);\n      }\n    },\n\n    // only needed for v0 native ShadowDOM support\n    getRootNode(node) {\n      if (node.getRootNode) {\n        return node.getRootNode();\n      }\n      if (!node) {\n        return null;\n      }\n      while(node && node.parentNode) {\n        node = node.parentNode;\n      }\n      return node;\n    },\n\n    matchesSelector(node, selector) {\n      return matchesSelector.call(node, selector);\n    },\n\n    cachingMixin(mixin) {\n      return function(base) {\n        if (!mixin.__mixinApplications) {\n          mixin.__mixinApplications = new WeakMap();\n        }\n        let application = mixin.__mixinApplications.get(base);\n        if (!application) {\n          application = mixin(base);\n          mixin.__mixinApplications.set(base, application);\n        }\n        return application;\n      }\n    },\n\n    dedupingMixin(mixin) {\n      mixin = this.cachingMixin(mixin);\n      return function(base) {\n        let baseMap = base.__mixinMap;\n        if (baseMap && baseMap.get(mixin)) {\n          return base;\n        } else {\n          let extended = mixin(base);\n          extended.__mixinMap = new Map(baseMap);\n          extended.__mixinMap.set(mixin, true);\n          return extended;\n        }\n      }\n    },\n\n    /**\n     * Convenience method for importing an HTML document imperatively.\n     *\n     * This method creates a new `<link rel=\"import\">` element with\n     * the provided URL and appends it to the document to start loading.\n     * In the `onload` callback, the `import` property of the `link`\n     * element will contain the imported document contents.\n     *\n     * @method importHref\n     * @param {string} href URL to document to load.\n     * @param {Function} onload Callback to notify when an import successfully\n     *   loaded.\n     * @param {Function} onerror Callback to notify when an import\n     *   unsuccessfully loaded.\n     * @param {boolean} optAsync True if the import should be loaded `async`.\n     *   Defaults to `false`.\n     * @return {HTMLLinkElement} The link element for the URL to be loaded.\n     */\n    importHref(href, onload, onerror, optAsync) {\n      var l = document.createElement('link');\n      l.rel = 'import';\n      l.href = href;\n\n      optAsync = Boolean(optAsync);\n      if (optAsync) {\n        l.setAttribute('async', '');\n      }\n\n      var self = this;\n      if (onload) {\n        l.onload = function(e) {\n          // NOTE: Push load handler until after `HTMLImports.whenReady`,\n          // if available, to better coordinate with use of customElements\n          // polyfill's document upgrade ordering guarantees (ensures,\n          // for example, a dom-module for an element in an async import\n          // customizes before any elements matching a define call).\n          if (window.HTMLImports) {\n            // wait until any other pending imports are ready\n            HTMLImports.whenReady(function() {\n              // wait until the CustomElements polyfill has upgraded elements.\n              // (needed because CE's whenReady is installed afer this one)\n              setTimeout(function() {\n                onload.call(self, e);\n              });\n            });\n          } else {\n            onload.call(self, e);\n          }\n        }\n      }\n      if (onerror) {\n        l.onerror = function(e) {\n          onerror.call(self, e);\n        }\n      }\n      document.head.appendChild(l);\n      return l;\n    }\n\n  };\n\n})();\n(function() {\n\n  'use strict';\n\n  function createNodeEventHandler(context, eventName, methodName) {\n    context = context._rootDataHost || context;\n    var handler = function(e) {\n      if (context[methodName]) {\n        context[methodName](e, e.detail);\n      } else {\n        console.warn('listener method `' + methodName + '` not defined');\n      }\n    };\n    return handler;\n  }\n\n  Polymer.EventListeners = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class EventListeners extends superClass {\n\n      _addMethodEventListenerToNode(node, eventName, methodName, context) {\n        context = context || node;\n        var handler = createNodeEventHandler(context, eventName, methodName);\n        this._addEventListenerToNode(node, eventName, handler);\n        return handler;\n      }\n\n      _addEventListenerToNode(node, eventName, handler) {\n        node.addEventListener(eventName, handler);\n      }\n\n      _removeEventListenerFromNode(node, eventName, handler) {\n        node.removeEventListener(eventName, handler);\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n    // path fixup for urls in cssText that's expected to\n    // come from a given ownerDocument\n    function resolveCss(cssText, ownerDocument) {\n      return cssText.replace(CSS_URL_RX, function(m, pre, url, post) {\n        return pre + '\\'' +\n          resolve(url.replace(/[\"']/g, ''), ownerDocument) +\n          '\\'' + post;\n      });\n    }\n\n    // url fixup for urls in an element's attributes made relative to\n    // ownerDoc's base url\n    function resolveAttrs(element, ownerDocument) {\n      for (var name in URL_ATTRS) {\n        var a$ = URL_ATTRS[name];\n        for (var i=0, l=a$.length, a, at, v; (i<l) && (a=a$[i]); i++) {\n          if (name === '*' || element.localName === name) {\n            at = element.attributes[a];\n            v = at && at.value;\n            if (v && (v.search(BINDING_RX) < 0)) {\n              at.value = (a === 'style') ?\n                resolveCss(v, ownerDocument) :\n                resolve(v, ownerDocument);\n            }\n          }\n        }\n      }\n    }\n\n    function resolve(url, ownerDocument) {\n      // do not resolve '#' links, they are used for routing\n      if (url && ABS_URL.test(url)) {\n        return url;\n      }\n      var resolver = getUrlResolver(ownerDocument);\n      resolver.href = url;\n      return resolver.href || url;\n    }\n\n    var tempDoc;\n    var tempDocBase;\n    function resolveUrl(url, baseUri) {\n      if (!tempDoc) {\n        tempDoc = document.implementation.createHTMLDocument('temp');\n        tempDocBase = tempDoc.createElement('base');\n        tempDoc.head.appendChild(tempDocBase);\n      }\n      tempDocBase.href = baseUri;\n      return resolve(url, tempDoc);\n    }\n\n    function getUrlResolver(ownerDocument) {\n      return ownerDocument.__urlResolver ||\n        (ownerDocument.__urlResolver = ownerDocument.createElement('a'));\n    }\n\n    var CSS_URL_RX = /(url\\()([^)]*)(\\))/g;\n    var URL_ATTRS = {\n      '*': ['href', 'src', 'style', 'url'],\n      form: ['action']\n    };\n    var ABS_URL = /(^\\/)|(^#)|(^[\\w-\\d]*:)/;\n    var BINDING_RX = /\\{\\{|\\[\\[/;\n\n    // exports\n    Polymer.ResolveUrl = {\n      resolveCss: resolveCss,\n      resolveAttrs: resolveAttrs,\n      resolveUrl: resolveUrl\n    };\n\n  })();\n/**\n * Scans a template to produce an annotation list that that associates\n * metadata culled from markup with tree locations\n * metadata and information to associate the metadata with nodes in an instance.\n *\n * Supported expressions include:\n *\n * Double-mustache annotations in text content. The annotation must be the only\n * content in the tag, compound expressions are not supported.\n *\n *     <[tag]>{{annotation}}<[tag]>\n *\n * Double-escaped annotations in an attribute, either {{}} or [[]].\n *\n *     <[tag] someAttribute=\"{{annotation}}\" another=\"[[annotation]]\"><[tag]>\n *\n * `on-` style event declarations.\n *\n *     <[tag] on-<event-name>=\"annotation\"><[tag]>\n *\n * Note that the `annotations` feature does not implement any behaviors\n * associated with these expressions, it only captures the data.\n *\n * Generated data-structure:\n *\n *     [\n *       {\n *         id: '<id>',\n *         events: [\n *           {\n *             name: '<name>'\n *             value: '<annotation>'\n *           }, ...\n *         ],\n *         bindings: [\n *           {\n *             kind: ['text'|'attribute'],\n *             mode: ['{'|'['],\n *             name: '<name>'\n *             value: '<annotation>'\n *           }, ...\n *         ],\n *         // TODO(sjmiles): this is annotation-parent, not node-parent\n *         parent: <reference to parent annotation object>,\n *         index: <integer index in parent's childNodes collection>\n *       },\n *       ...\n *     ]\n *\n * @class Annotations feature\n */\n(function() {\n\n  'use strict';\n\n  // null-array (shared empty array to avoid null-checks)\n  const emptyArray = [];\n\n  let bindingRegex = (function() {\n    let IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$\\\\-*]*' + ')';\n    let NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\n    let SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\n    let DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\n    let STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\n    let ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' +  STRING + '\\\\s*' + ')';\n    let ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\n    let ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                                  '(?:' + ARGUMENTS + '?' + ')' +\n                                '\\\\)\\\\s*' + ')';\n    let BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\n    let OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\n    let CLOSE_BRACKET = '(?:]]|}})';\n    let NEGATE = '(?:(!)\\\\s*)?'; // Group 2\n    let EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\n    return new RegExp(EXPRESSION, \"g\");\n  })();\n\n  let insertionPointTag = 'slot';\n  let currentTemplate;\n\n  function parseTemplateAnnotations(template) {\n    // TODO(kschaaf): File issue and/or remove when fixed\n    // hold a reference to content as _content to prevent odd Chrome gc issue\n    // nested templates also may receive their content as _content\n    let content = (template._content = template._content || template.content);\n    // since a template may be re-used, memo-ize notes.\n    if (!content._notes) {\n      content._notes = [];\n      // TODO(sorvell): whitespace and processAnnotations need to be factored\n      // into plugins\n      // TODO(kschaaf): template should be threaded through rather than implied state\n      currentTemplate = currentTemplate || template;\n      parseNodeAnnotations(content, content._notes,\n        template.hasAttribute('strip-whitespace'));\n    }\n    return content._notes;\n  }\n\n  // add annotations gleaned from subtree at `node` to `list`\n  function parseNodeAnnotations(node, list, stripWhiteSpace) {\n    return node.nodeType === Node.TEXT_NODE ?\n      parseTextNodeAnnotation(node, list) :\n        // TODO(sjmiles): are there other nodes we may encounter\n        // that are not TEXT_NODE but also not ELEMENT?\n        parseElementAnnotations(node, list, stripWhiteSpace);\n  }\n\n  // TODO(kschaaf): We could modify this to allow an escape mechanism by\n  // looking for the escape sequence in each of the matches and converting\n  // the part back to a literal type, and then bailing if only literals\n  // were found\n  function parseBindings(text) {\n    let parts = [];\n    let lastIndex = 0;\n    let m;\n    // Example: \"literal1{{prop}}literal2[[!compute(foo,bar)]]final\"\n    // Regex matches:\n    //        Iteration 1:  Iteration 2:\n    // m[1]: '{{'          '[['\n    // m[2]: ''            '!'\n    // m[3]: 'prop'        'compute(foo,bar)'\n    while ((m = bindingRegex.exec(text)) !== null) {\n      // Add literal part\n      if (m.index > lastIndex) {\n        parts.push({literal: text.slice(lastIndex, m.index)});\n      }\n      // Add binding part\n      // Mode (one-way or two)\n      let mode = m[1][0];\n      let negate = Boolean(m[2]);\n      let value = m[3].trim();\n      let customEvent, notifyEvent, colon;\n      if (mode == '{' && (colon = value.indexOf('::')) > 0) {\n        notifyEvent = value.substring(colon + 2);\n        value = value.substring(0, colon);\n        customEvent = true;\n      }\n      parts.push({\n        compoundIndex: parts.length,\n        value: value,\n        mode: mode,\n        negate: negate,\n        event: notifyEvent,\n        customEvent: customEvent\n      });\n      lastIndex = bindingRegex.lastIndex;\n    }\n    // Add a final literal part\n    if (lastIndex && lastIndex < text.length) {\n      let literal = text.substring(lastIndex);\n      if (literal) {\n        parts.push({\n          literal: literal\n        });\n      }\n    }\n    if (parts.length) {\n      return parts;\n    }\n  }\n\n  function literalFromParts(parts) {\n    let s = '';\n    for (let i=0; i<parts.length; i++) {\n      let literal = parts[i].literal;\n      s += literal || '';\n    }\n    return s;\n  }\n\n  // add annotations gleaned from TextNode `node` to `list`\n  function parseTextNodeAnnotation(node, list) {\n    let parts = parseBindings(node.textContent);\n    if (parts) {\n      // Initialize the textContent with any literal parts\n      // NOTE: default to a space here so the textNode remains; some browsers\n      // (IE) evacipate an empty textNode following cloneNode/importNode.\n      node.textContent = literalFromParts(parts) || ' ';\n      let note = {\n        bindings: [{\n          kind: 'text',\n          name: 'textContent',\n          parts: parts,\n          isCompound: parts.length !== 1\n        }]\n      };\n      list.push(note);\n      return note;\n    }\n  }\n\n  // add annotations gleaned from Element `node` to `list`\n  function parseElementAnnotations(element, list, stripWhiteSpace) {\n    let note = {\n      bindings: [],\n      events: []\n    };\n    if (element.localName === insertionPointTag) {\n      list._hasInsertionPoint = true;\n    }\n    parseChildNodesAnnotations(element, note, list, stripWhiteSpace);\n    // TODO(sjmiles): is this for non-ELEMENT nodes? If so, we should\n    // change the contract of this method, or filter these out above.\n    if (element.attributes) {\n      parseNodeAttributeAnnotations(element, note, list);\n      // TODO(sorvell): ad hoc callback for doing work on elements while\n      // leveraging annotator's tree walk.\n      // Consider adding an node callback registry and moving specific\n      // processing out of this module.\n      prepElement(element);\n    }\n    if (note.bindings.length || note.events.length || note.id) {\n      list.push(note);\n    }\n    return note;\n  }\n\n  // add annotations gleaned from children of `root` to `list`, `root`'s\n  // `note` is supplied as it is the note.parent of added annotations\n  function parseChildNodesAnnotations(root, note, list, stripWhiteSpace) {\n    if (root.firstChild) {\n      let node = root.firstChild;\n      let i = 0;\n      while (node) {\n        // BREAKME(kschaaf): pseudo-bc auto-wrapper for template type extensions\n        if (node.localName === 'template') {\n          let t = node;\n          let is = t.getAttribute('is');\n          // stamp `<dom-*>` elements\n          if (is && is.indexOf('dom-') === 0) {\n            t.removeAttribute('is');\n            node = t.ownerDocument.createElement(is);\n            root.replaceChild(node, t);\n            node.appendChild(t);\n            while(t.attributes.length) {\n              node.setAttribute(t.attributes[0].name, t.attributes[0].value);\n              t.removeAttribute(t.attributes[0].name);\n            }\n          }\n        }\n        if (node.localName === 'template' &&\n          !node.hasAttribute('preserve-content')) {\n          parseTemplate(node, i, list, note);\n        }\n        // collapse adjacent textNodes: fixes an IE issue that can cause\n        // text nodes to be inexplicably split =(\n        // note that root.normalize() should work but does not so we do this\n        // manually.\n        let next = node.nextSibling;\n        if (node.nodeType === Node.TEXT_NODE) {\n          let n = next;\n          while (n && (n.nodeType === Node.TEXT_NODE)) {\n            node.textContent += n.textContent;\n            next = n.nextSibling;\n            root.removeChild(n);\n            n = next;\n          }\n          // optionally strip whitespace\n          if (stripWhiteSpace && !node.textContent.trim()) {\n            root.removeChild(node);\n            // decrement index since node is removed\n            i--;\n          }\n        }\n        // if this node didn't get evacipated, parse it.\n        if (node.parentNode) {\n          let childAnnotation = parseNodeAnnotations(node, list,\n            stripWhiteSpace);\n          if (childAnnotation) {\n            childAnnotation.parent = note;\n            childAnnotation.index = i;\n          }\n        }\n        node = next;\n        i++;\n      }\n    }\n  }\n\n  // 1. Parse annotations from the template and memoize them on\n  //    content._notes (recurses into nested templates)\n  // 2. Remove template.content and store it in annotation list, where it\n  //    will be the responsibility of the host to set it back to the template\n  //    (this is both an optimization to avoid re-stamping nested template\n  //    children and avoids a bug in Chrome where nested template children\n  //    upgrade)\n  function parseTemplate(node, index, list, parent) {\n    let content = document.createDocumentFragment();\n    content._notes = parseTemplateAnnotations(node);\n    content.appendChild(node.content);\n    list.push({\n      bindings: emptyArray,\n      events: emptyArray,\n      templateContent: content,\n      parent: parent,\n      index: index\n    });\n  }\n\n  // add annotation data from attributes to the `annotation` for node `node`\n  // TODO(sjmiles): the distinction between an `annotation` and\n  // `annotation data` is not as clear as it could be\n  function parseNodeAttributeAnnotations(node, annotation) {\n    // Make copy of original attribute list, since the order may change\n    // as attributes are added and removed\n    let attrs = Array.prototype.slice.call(node.attributes);\n    for (let i=attrs.length-1, a; (a=attrs[i]); i--) {\n      let n = a.name;\n      let v = a.value;\n      let b;\n      // events (on-*)\n      if (n.slice(0, 3) === 'on-') {\n        node.removeAttribute(n);\n        annotation.events.push({\n          name: n.slice(3),\n          value: v\n        });\n      }\n      // bindings (other attributes)\n      else if ((b = parseNodeAttributeAnnotation(node, n, v))) {\n        annotation.bindings.push(b);\n      }\n      // static id\n      else if (n === 'id') {\n        annotation.id = v;\n      }\n    }\n  }\n\n  // construct annotation data from a generic attribute, or undefined\n  function parseNodeAttributeAnnotation(node, name, value) {\n    let parts = parseBindings(value);\n    if (parts) {\n      // Attribute or property\n      let origName = name;\n      let kind = 'property';\n      if (name[name.length-1] == '$') {\n        name = name.slice(0, -1);\n        kind = 'attribute';\n      }\n      // Initialize attribute bindings with any literal parts\n      let literal = literalFromParts(parts);\n      if (literal && kind == 'attribute') {\n        node.setAttribute(name, literal);\n      }\n      // Clear attribute before removing, since IE won't allow removing\n      // `value` attribute if it previously had a value (can't\n      // unconditionally set '' before removing since attributes with `$`\n      // can't be set using setAttribute)\n      if (node.localName === 'input' && origName === 'value') {\n        node.setAttribute(origName, '');\n      }\n      // Remove annotation\n      node.removeAttribute(origName);\n      // Case hackery: attributes are lower-case, but bind targets\n      // (properties) are case sensitive. Gambit is to map dash-case to\n      // camel-case: `foo-bar` becomes `fooBar`.\n      // Attribute bindings are excepted.\n      let propertyName = Polymer.CaseMap.dashToCamelCase(name);\n      if (kind === 'property') {\n        name = propertyName;\n      }\n      return {\n        kind: kind,\n        name: name,\n        propertyName: propertyName,\n        parts: parts,\n        literal: literal,\n        isCompound: parts.length !== 1\n      };\n    }\n  }\n\n  // TODO(sorvell): this should be factored into a plugin\n  function prepElement(element) {\n    Polymer.ResolveUrl.resolveAttrs(element, currentTemplate.ownerDocument);\n  }\n\n  Polymer.Annotations = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class Annotations extends superClass {\n\n      // preprocess-time\n\n      // construct and return a list of annotation records\n      // by scanning `template`'s content\n      //\n      // TODO(sorvell): This should just crawl over a template and call\n      // a supplied list of callbacks.\n      _parseTemplateAnnotations(template) {\n        return parseTemplateAnnotations(template);\n      }\n\n      // instance-time\n      // TODO(sorvell): consider trying to use QS instead of this proprietary\n      // search. This would require some unique way to identify a node, a guid.\n      // Is this faster? simpler? Is that worth polluting the node?\n      _findTemplateAnnotatedNode(root, note) {\n        // recursively ascend tree until we hit root\n        let parent = note.parent && this._findTemplateAnnotatedNode(root,\n          note.parent);\n        // unwind the stack, returning the indexed node at each level\n        if (parent) {\n          // note: marginally faster than indexing via childNodes\n          // (http://jsperf.com/childnodes-lookup)\n          for (let n=parent.firstChild, i=0; n; n=n.nextSibling) {\n            if (note.index === i++) {\n              return n;\n            }\n          }\n        } else {\n          return root;\n        }\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n  'use strict';\n\n  /**\n   * Scans a template to produce an annotation object that stores expression\n   * metadata along with information to associate the metadata with nodes in an\n   * instance.\n   *\n   * Elements with `id` in the template are noted and marshaled into an\n   * the `$` hash in an instance.\n   *\n   * Example\n   *\n   *     &lt;template>\n   *       &lt;div id=\"foo\">&lt;/div>\n   *     &lt;/template>\n   *     &lt;script>\n   *      Polymer({\n   *        task: function() {\n   *          this.$.foo.style.color = 'red';\n   *        }\n   *      });\n   *     &lt;/script>\n   *\n   * Other expressions that are noted include:\n   *\n   * Double-mustache annotations in text content. The annotation must be the only\n   * content in the tag, compound expressions are not (currently) supported.\n   *\n   *     <[tag]>{{path.to.host.property}}<[tag]>\n   *\n   * Double-mustache annotations in an attribute.\n   *\n   *     <[tag] someAttribute=\"{{path.to.host.property}}\"><[tag]>\n   *\n   * Only immediate host properties can automatically trigger side-effects.\n   * Setting `host.path` in the example above triggers the binding, setting\n   * `host.path.to.host.property` does not.\n   *\n   * `on-` style event declarations.\n   *\n   *     <[tag] on-<event-name>=\"{{hostMethodName}}\"><[tag]>\n   *\n   * Note: **the `annotations` feature does not actually implement the behaviors\n   * associated with these expressions, it only captures the data**.\n   *\n   * Other optional features contain actual data implementations.\n   *\n   * @class standard feature: annotations\n   */\n\n  /*\n\n  Scans a template to produce an annotation map that stores expression metadata\n  and information that associates the metadata to nodes in a template instance.\n\n  Supported annotations are:\n\n    * id attributes\n    * binding annotations in text nodes\n      * double-mustache expressions: {{expression}}\n      * double-bracket expressions: [[expression]]\n    * binding annotations in attributes\n      * attribute-bind expressions: name=\"{{expression}} || [[expression]]\"\n      * property-bind expressions: name*=\"{{expression}} || [[expression]]\"\n      * property-bind expressions: name:=\"expression\"\n    * event annotations\n      * event delegation directives: on-<eventName>=\"expression\"\n\n  Generated data-structure:\n\n    [\n      {\n        id: '<id>',\n        events: [\n          {\n            mode: ['auto'|''],\n            name: '<name>'\n            value: '<expression>'\n          }, ...\n        ],\n        bindings: [\n          {\n            kind: ['text'|'attribute'|'property'],\n            mode: ['auto'|''],\n            name: '<name>'\n            value: '<expression>'\n          }, ...\n        ],\n        // TODO(sjmiles): confusingly, this is annotation-parent, not node-parent\n        parent: <reference to parent annotation>,\n        index: <integer index in parent's childNodes collection>\n      },\n      ...\n    ]\n\n  TODO(sjmiles): this module should produce either syntactic metadata\n  (e.g. double-mustache, double-bracket, star-attr), or semantic metadata\n  (e.g. manual-bind, auto-bind, property-bind). Right now it's half and half.\n\n  */\n\n  // construct `$` map (from id annotations)\n  function applyIdToMap(inst, map, dom, note) {\n    if (note.id) {\n      map[note.id] = inst._findTemplateAnnotatedNode(dom, note);\n    }\n  }\n\n  // install event listeners (from event annotations)\n  function applyEventListener(inst, dom, note, host) {\n    if (note.events && note.events.length) {\n      var node = inst._findTemplateAnnotatedNode(dom, note);\n      for (var j=0, e$=note.events, e; (j<e$.length) && (e=e$[j]); j++) {\n        inst._addMethodEventListenerToNode(node, e.name, e.value, host);\n      }\n    }\n  }\n\n  // push configuration references at configure time\n  function applyTemplateContent(inst, dom, note) {\n    if (note.templateContent) {\n      var node = inst._findTemplateAnnotatedNode(dom, note);\n      node._content = note.templateContent;\n    }\n  }\n\n  Polymer.TemplateStamp = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class TemplateStamp extends Polymer.Annotations(Polymer.EventListeners(superClass)) {\n\n      constructor() {\n        super();\n        this.$ = null;\n      }\n\n      _stampTemplate(template) {\n        // Polyfill support: bootstrap the template if it has not already been\n        if (template && !template.content &&\n            window.HTMLTemplateElement && HTMLTemplateElement.decorate) {\n          HTMLTemplateElement.decorate(template);\n        }\n        var notes = this._parseTemplateAnnotations(template);\n        var dom = document.importNode(template._content || template.content, true);\n        // NOTE: ShadyDom optimization indicating there is an insertion point\n        dom.__noInsertionPoint = !notes._hasInsertionPoint;\n        this.$ = {};\n        for (var i=0, l=notes.length, note; (i<l) && (note=notes[i]); i++) {\n          applyIdToMap(this, this.$, dom, note);\n          applyTemplateContent(this, dom, note);\n          applyEventListener(this, dom, note, this);\n        }\n        return dom;\n      }\n\n    }\n\n  });\n\n})();\nPolymer.Path = {\n\n    isPath: function(path) {\n      return path.indexOf('.') >= 0;\n    },\n\n    root: function(path) {\n      var dotIndex = path.indexOf('.');\n      if (dotIndex === -1) {\n        return path;\n      }\n      return path.slice(0, dotIndex);\n    },\n\n    isDeep: function(path) {\n      return path.indexOf('.') !== -1;\n    },\n\n    // Given `base` is `foo.bar`, `foo` is an ancestor, `foo.bar` is not\n    isAncestor: function(base, path) {\n      //     base.startsWith(path + '.');\n      return base.indexOf(path + '.') === 0;\n    },\n\n    // Given `base` is `foo.bar`, `foo.bar.baz` is an descendant\n    isDescendant: function(base, path) {\n      //     path.startsWith(base + '.');\n      return path.indexOf(base + '.') === 0;\n    },\n\n    // can be read as:  from  to       path\n    translate: function(base, newBase, path) {\n      // Defense?\n      return newBase + path.slice(base.length);\n    },\n\n    matches: function(base, path) {\n      return (base === path) ||\n             this.isAncestor(base, path) ||\n             this.isDescendant(base, path);\n    },\n\n    // Converts array-based paths to flattened path, optionally split into array\n    normalize: function(path, split) {\n      if (Array.isArray(path)) {\n        var parts = [];\n        for (var i=0; i<path.length; i++) {\n          var args = path[i].toString().split('.');\n          for (var j=0; j<args.length; j++) {\n            parts.push(args[j]);\n          }\n        }\n        return split ? parts : parts.join('.');\n      } else {\n        return split ? path.toString().split('.') : path;\n      }\n    },\n\n    get: function(root, path, info) {\n      var prop = root;\n      var parts = this.normalize(path, true);\n      // Loop over path parts[0..n-1] and dereference\n      for (var i=0; i<parts.length; i++) {\n        if (!prop) {\n          return;\n        }\n        var part = parts[i];\n        prop = prop[part];\n      }\n      if (info) {\n        info.path = parts.join('.');\n      }\n      return prop;\n    },\n\n    set: function(root, path, value) {\n      var prop = root;\n      var parts = this.normalize(path, true);\n      var last = parts[parts.length-1];\n      if (parts.length > 1) {\n        // Loop over path parts[0..n-2] and dereference\n        for (var i=0; i<parts.length-1; i++) {\n          var part = parts[i];\n          prop = prop[part];\n          if (!prop) {\n            return;\n          }\n        }\n        // Set value to object at end of path\n        prop[last] = value;\n      } else {\n        // Simple property set\n        prop[path] = value;\n      }\n      return parts.join('.');\n    }\n\n  };\n(function() {\n\n  'use strict';\n\n  // Save map of native properties; this forms a blacklist or properties\n  // that won't have their values \"saved\" by `saveAccessorValue`, since\n  // reading from an HTMLElement accessor from the context of a prototype throws\n  const nativeProperties = {};\n  let proto = HTMLElement.prototype;\n  while (proto) {\n    let props = Object.getOwnPropertyNames(proto);\n    for (let i=0; i<props.length; i++) {\n      nativeProperties[props[i]] = true;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  /**\n   * Used to save the value of a property that will be overridden with\n   * an accessor. If the `model` is a prototype, the values will be saved\n   * in `__dataProto`, and it's up to the user (or downstream mixin) to\n   * decide how/when to set these values back into the accessors.\n   * If `model` is already an instance (it has a `__data` property), then\n   * the value will be set as a pending property, meaning the user should\n   * call `_invalidateProperties` or `_flushProperties` to take effect\n   *\n   * @param {Object} model Prototype or instance\n   * @param {string} property Name of property\n   * @private\n   */\n  function saveAccessorValue(model, property) {\n    // Don't read/store value for any native properties since they could throw\n    if (!nativeProperties[property]) {\n      let value = model[property];\n      if (value !== undefined) {\n        if (model.__data) {\n          // Adding accessor to instance; update the property\n          // It is the user's responsibility to call _flushProperties\n          model._setPendingProperty(property, value);\n        } else {\n          // Adding accessor to proto; save proto's value for instance-time use\n          if (!model.__dataProto) {\n            model.__dataProto = {};\n          } else if (!model.hasOwnProperty('__dataProto')) {\n            model.__dataProto = Object.create(model.__dataProto);\n          }\n          model.__dataProto[property] = value;          \n        }\n      }      \n    }\n  }\n\n  Polymer.PropertyAccessors = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class PropertyAccessors extends superClass {\n\n      constructor() {\n        super();\n        this._initializeProperties();\n      }\n\n      /**\n       * Initializes the local storage for property accessors.\n       *\n       * Override to initialize with e.g. default values by setting values into\n       * accessors.\n       *\n       * @protected\n       */\n      _initializeProperties() {\n        this.__data = {};\n        this.__dataCounter = 0;\n        this.__dataPending = null;\n        this.__dataOld = null;\n        this.__dataInvalid = false;\n      }\n\n      /**\n       * Creates a setter/getter pair for the named property with its own\n       * local storage.  The getter returns the value in the local storage,\n       * and the setter calls `_setProperty`, which updates the local storage\n       * for the property and enqueues a `_propertiesChanged` callback.\n       *\n       * This method may be called on a prototype or an instance.  Calling\n       * this method may overwrite a property value that already exists on\n       * the prototype/instance by creating the accessor.  When calling on\n       * a prototype, any overwritten values are saved in `__dataProto`,\n       * and it is up to the subclasser to decide how/when to set those\n       * properties back into the accessor.  When calling on an instance,\n       * the overwritten value is set via `_setPendingProperty`, and the\n       * user should call `_invalidateProperties` or `_flushProperties`\n       * for the values to take effect.\n       *\n       * @param {string} property Name of the property\n       * @param {boolean=} readOnly When true, no setter is created; the\n       *   protected `_setProperty` function must be used to set the property\n       * @protected\n       */\n      _createPropertyAccessor(property, readOnly) {\n        saveAccessorValue(this, property);\n        Object.defineProperty(this, property, {\n          get: function() {\n            return this.__data && this.__data[property];\n          },\n          set: readOnly ? function() { } : function(value) {\n            this._setProperty(property, value);\n          }\n        });\n      }\n\n      /**\n       * Updates the local storage for a property (via `_setPendingProperty`)\n       * and enqueues a `_proeprtiesChanged` callback.\n       *\n       * @param {string} property Name of the property\n       * @param {*} value Value to set\n       * @protected\n       */\n      _setProperty(property, value) {\n        if (this._setPendingProperty(property, value)) {\n          this._invalidateProperties();\n        }\n      }\n\n      /**\n       * Updates the local storage for a property, records the previous value,\n       * and adds it to the set of \"pending changes\" that will be passed to the\n       * `_propertiesChanged` callback.  This method does not enqueue the\n       * `_propertiesChanged` callback.\n       *\n       * @param {string} property Name of the property\n       * @param {*} value Value to set\n       * @protected\n       */\n      _setPendingProperty(property, value) {\n        let old = this.__data[property];\n        if (this._shouldPropertyChange(property, value, old)) {\n          if (!this.__dataPending) {\n            this.__dataPending = {};\n            this.__dataOld = {};\n          }\n          // Ensure old is captured from the last turn\n          if (!(property in this.__dataOld)) {\n            this.__dataOld[property] = old;\n          }\n          this.__data[property] = value;\n          this.__dataPending[property] = value;\n          return true;\n        }\n      }\n\n      /**\n       * Returns true if the specified property has a pending change.\n       *\n       * @param {string} prop Property name\n       * @return {boolean} True if property has a pending change\n       * @protected\n       */\n      _isPropertyPending(prop) {\n        return this.__dataPending && (prop in this.__dataPending);\n      }\n\n      /**\n       * Marks the properties as invalid, and enqueues an async\n       * `_propertiesChanged` callback.\n       *\n       * @protected\n       */\n      _invalidateProperties() {\n        if (!this.__dataInvalid) {\n          this.__dataInvalid = true;\n          Promise.resolve().then(() => {\n            if (this.__dataInvalid) {\n              this.__dataInvalid = false;\n              this._flushProperties();\n            }\n          });\n        }\n      }\n\n      /**\n       * Calls the `_propertiesChanged` callback with the current set of\n       * pending changes (and old values recorded when pending changes were\n       * set), and resets the pending set of changes.\n       *\n       * @protected\n       */\n      _flushProperties() {\n        let oldProps = this.__dataOld;\n        let changedProps = this.__dataPending;\n        this.__dataPending = null;\n        this.__dataCounter++;\n        this._propertiesChanged(this.__data, changedProps, oldProps);\n        this.__dataCounter--;\n      }\n\n      /**\n       * Callback called when any properties with accessors created via \n       * `_createPropertyAccessor` have been set.\n       *\n       * @param {Object} currentProps Bag of all current accessor values\n       * @param {Object} changedProps Bag of properties changed since the last\n       *   call to `_propertiesChanged`\n       * @param {Object} oldProps Bag of previous values for each property\n       *   in `changedProps`\n       * @protected\n       */\n      _propertiesChanged(currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n      }\n\n      /**\n       * Method called to determine whether a property value should be\n       * considered as a change and cause the `_propertiesChanged` callback\n       * to be enqueued.\n       *\n       * The default implementation returns `true` for primitive types if a\n       * strict equality check fails, and returns `true` for all Object/Arrays.\n       * The method always returns false for `NaN`.\n       *\n       * Override this method to e.g. provide stricter checking for\n       * Objects/Arrays when using immutable patterns.\n       *\n       * @param {type} name Description\n       * @return {boolean} Whether the property should be considered a change\n       *   and enqueue a `_proeprtiesChanged` callback\n       * @protected\n       */\n      _shouldPropertyChange(property, value, old) {\n        return (\n          // Strict equality check for primitives\n          (old !== value && \n           // This ensures (old==NaN, value==NaN) always returns false\n           (old === old || value === value))\n        );\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n  'use strict';\n\n  var caseMap = Polymer.CaseMap;\n\n  Polymer.Attributes = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class Attributes extends superClass {\n\n      constructor() {\n        super();\n        this.__serializing = false;\n      }\n\n      /**\n       * Ensures the element has the given attribute. If it does not,\n       * assigns the given value to the attribute.\n       *\n       *\n       * @method _ensureAttribute\n       * @param {string} attribute Name of attribute to ensure is set.\n       * @param {string} value of the attribute.\n       */\n      _ensureAttribute(attribute, value) {\n        if (!this.hasAttribute(attribute)) {\n          this._valueToNodeAttribute(this, value, attribute);\n        }\n      }\n\n      /**\n       * Deserializes an attribute to its associated property.\n       *\n       * This method calls the `_deserializeAttribute` method to convert the string to\n       * a typed value.\n       *\n       * @method _attributeToProperty\n       * @param {string} attribute Name of attribute to deserialize.\n       * @param {string} value of the attribute.\n       * @param {*} type type to deserialize to.\n       */\n      _attributeToProperty(attribute, value, type) {\n        // Don't deserialize back to property if currently reflecting\n        if (!this.__serializing) {\n          var property = caseMap.dashToCamelCase(attribute);\n          this[property] = this._deserializeAttribute(value, type);\n        }\n      }\n\n      /**\n       * Serializes a property to its associated attribute.\n       *\n       * @method _propertyToAttribute\n       * @param {string} property Property name to reflect.\n       * @param {*=} attribute Attribute name to reflect.\n       * @param {*=} value Property value to refect.\n       */\n      _propertyToAttribute(property, attribute, value) {\n        this.__serializing = true;\n        value = (arguments.length < 3) ? this[property] : value;\n        this._valueToNodeAttribute(this, value,\n          attribute || caseMap.camelToDashCase(property));\n        this.__serializing = false;\n      }\n\n      /**\n       * Sets a typed value to an HTML attribute on a node.\n       *\n       * This method calls the `_serializeAttribute` method to convert the typed\n       * value to a string.  If the `_serializeAttribute` method returns `undefined`,\n       * the attribute will be removed (this is the default for boolean\n       * type `false`).\n       *\n       * @method _valueToAttribute\n       * @param {Element=} node Element to set attribute to.\n       * @param {*} value Value to serialize.\n       * @param {string} attribute Attribute name to serialize to.\n\n       */\n      _valueToNodeAttribute(node, value, attribute) {\n        var str = this._serializeAttribute(value);\n        if (str === undefined) {\n          node.removeAttribute(attribute);\n        } else {\n          node.setAttribute(attribute, str);\n        }\n      }\n\n      /**\n       * Converts a typed value to a string.\n       *\n       * This method is called by Polymer when setting JS property values to\n       * HTML attributes.  Users may override this method on Polymer element\n       * prototypes to provide serialization for custom types.\n       *\n       * @method _serializeAttribute\n       * @param {*} value Property value to serialize.\n       * @return {string} String serialized from the provided property value.\n       */\n      _serializeAttribute(value) {\n        /* eslint-disable no-fallthrough */\n        switch (typeof value) {\n          case 'boolean':\n            return value ? '' : undefined;\n\n          case 'object':\n            if (value instanceof Date) {\n              return value;\n            } else if (value) {\n              try {\n                return JSON.stringify(value);\n              } catch(x) {\n                return '';\n              }\n            }\n\n          default:\n            return value != null ? value : undefined;\n        }\n      }\n\n      /**\n       * Converts a string to a typed value.\n       *\n       * This method is called by Polymer when reading HTML attribute values to\n       * JS properties.  Users may override this method on Polymer element\n       * prototypes to provide deserialization for custom `type`s.  Note,\n       * the `type` argument is the value of the `type` field provided in the\n       * `properties` configuration object for a given property, and is\n       * by convention the constructor for the type to deserialize.\n       *\n       * Note: The return value of `undefined` is used as a sentinel value to\n       * indicate the attribute should be removed.\n       *\n       * @method _deserializeAttribute\n       * @param {string} value Attribute value to deserialize.\n       * @param {*} type Type to deserialize the string to.\n       * @return {*} Typed value deserialized from the provided string.\n       */\n      _deserializeAttribute(value, type) {\n        switch (type) {\n          case Number:\n            value = Number(value);\n            break;\n\n          case Boolean:\n            value = (value !== null);\n            break;\n\n          case Object:\n            try {\n              value = JSON.parse(value);\n            } catch(x) {\n              // allow non-JSON literals like Strings and Numbers\n            }\n            break;\n\n          case Array:\n            try {\n              value = JSON.parse(value);\n            } catch(x) {\n              value = null;\n              console.warn('Polymer::Attributes: couldn`t decode Array as JSON');\n            }\n            break;\n\n          case Date:\n            value = new Date(value);\n            break;\n\n          case String:\n          default:\n            break;\n        }\n        return value;\n      }\n      /* eslint-enable no-fallthrough */\n    }\n\n  });\n\n\n})();\n(function() {\n\n  'use strict';\n\n  const CaseMap = Polymer.CaseMap;\n  const mixin = Polymer.Utils.mixin;\n\n  // Monotonically increasing unique ID used for de-duping effects triggered\n  // from multiple properties in the same turn\n  let effectUid = 0;\n\n  // Property effect types; effects are stored on the prototype using these keys\n  const TYPES = {\n    ANY: '__propertyEffects',\n    COMPUTE: '__computeEffects',\n    REFLECT: '__reflectEffects',\n    NOTIFY: '__notifyEffects',\n    PROPAGATE: '__propagateEffects',\n    OBSERVE: '__observeEffects',\n    READ_ONLY: '__readOnly'\n  }\n\n  /**\n   * Ensures that the model has an own-property map of effects for the given type.\n   * The model may be a prototype or an instance.\n   * \n   * Property effects are stored as arrays of effects by property in a map,\n   * by named type on the model. e.g.\n   *\n   *   __computeEffects: {\n   *     foo: [ ... ],\n   *     bar: [ ... ]\n   *   }\n   *\n   * If the model does not yet have an effect map for the type, one is created\n   * and returned.  If it does, but it is not an own property (i.e. the\n   * prototype had effects), the the map is deeply cloned and the copy is\n   * set on the model and returned, ready for new effects to be added. \n   *\n   * @param {Object} model Prototype or instance\n   * @param {string} type Property effect type\n   * @return {Object} The own-property map of effects for the given type\n   * @private\n   */\n  function ensureOwnEffectMap(model, type) {\n    let effects = model[type];\n    if (!effects) {\n      effects = model[type] = {};\n    } else if (!model.hasOwnProperty(type)) {\n      effects = model[type] = Object.create(model[type]);\n      for (let p in effects) {\n        // TODO(kschaaf): replace with fast array copy #!%&$!\n        effects[p] = effects[p].slice();\n      }\n    }\n    return effects;\n  }\n\n  // -- effects ----------------------------------------------\n\n  /**\n   * Runs all effects of a given type for the given set of property changes\n   * on an instance.\n   *\n   * @param {Object} inst The instance with effects to run\n   * @param {string} type Type of effect to run\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @private\n   */\n  function runEffects(inst, type, props, oldProps) {\n    let ran;\n    let effects = inst[type];\n    if (effects) {\n      let id = effectUid++;\n      for (let prop in props) {\n        if (runEffectsForProperty(inst, effects, id, prop, props[prop],\n          oldProps && oldProps[prop])) {\n          ran = true;\n        }\n      }\n    }\n    return ran;\n  }\n\n  /**\n   * Runs a list of effects for a given property.\n   *\n   * @param {Object} inst The instance with effects to run\n   * @param {Array} effects Array of effects\n   * @param {number} id Effect run id used for de-duping effects\n   * @param {string} prop Name of changed property\n   * @param {*} value Value of changed property\n   * @param {*} old Previous value of changed property\n   * @private\n   */\n  function runEffectsForProperty(inst, effects, id, prop, value, old) {\n    let ran;\n    // TODO(kschaaf) ideally a system exists to parse path information once\n    // and send structured information through the system for better perf\n    let rootProperty = Polymer.Path.root(prop);\n    let fxs = effects[rootProperty];\n    if (fxs) {\n      let fromAbove = inst.__dataFromAbove;\n      for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n        if (Polymer.Path.matches(fx.path, prop) &&\n          (!fx.info || fx.info.lastRun !== id)) {\n          if (rootProperty !== prop) {\n            // Pull the latest path value to pass to effect\n            let v = Polymer.Path.get(inst, prop);\n            // Fall back to the original changed value; this is mostly to thread\n            // array.splices through without it actually being on the array\n            if (v === undefined) {\n              v = value;\n            }\n          } else {\n            // Pull the latest property value to pass to effect\n            value = inst[prop];\n          }\n          fx.fn(inst, prop, value, old, fx.info, fromAbove);\n          if (fx.info) {\n            fx.info.lastRun = id;\n          }\n          ran = true;\n        }\n      }\n    }\n    return ran;\n  }\n\n  /**\n   * Implements the \"observer\" effect.\n   *\n   * Calls the method with `info.methodName` on the instance, passing the\n   * new and old values.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runObserverEffect(inst, property, value, old, info) {\n    let fn = inst[info.methodName];\n    if (fn) {\n      fn.call(inst, value, old);\n    } else {\n      console.warn('observer method `' + info.methodName + '` not defined');\n    }\n  }\n\n  /**\n   * Runs \"notify\" effects for a set of changed properties.\n   *\n   * This method differs from the generic `runEffects` method in that it\n   * will dispatch path notification events in the case that the property\n   * changed was a path and the root property for that path didn't have a\n   * \"notify\" effect.  This is to maintain 1.0 behavior that did not require\n   * `notify: true` to ensure object sub-property notifications were\n   * sent.\n   *\n   * @param {Object} inst The instance with effects to run\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @private\n   */\n  function runNotifyEffects(inst, props, oldProps) {\n    // Notify\n    let notified;\n    let notifyEffects = inst[TYPES.NOTIFY];\n    let id = effectUid++;\n    // Try normal notify effects; if none, fall back to try path notification\n    // TODO(kschaaf) This is a hot path which we could avoid if (1) no\n    // \"notify\" effects AND (2) if we knew there were no paths to notify. This\n    // 2nd piece of info is not currently available but could be added perhaps\n    // in `_setProperty`.\n    for (let prop in props) {\n      if (notifyEffects && runEffectsForProperty(inst, notifyEffects, id,\n        prop, props[prop], oldProps && oldProps[prop])) {\n        notified = true;\n      } else if (notifyPath(inst, prop, props[prop])) {\n        notified = true;\n      }\n    }\n    // Flush host if we actually notified and host was batching\n    let host;\n    if (notified && (host = inst.__dataHost) && host.setProperties) {\n      host._flushProperties();\n    }\n  }\n\n  /**\n   * Dispatches {property}-changed events with path information in the detail \n   * object to indicate a sub-path of the property was changed.\n   *\n   * @param {Element} inst The element from which to fire the event\n   * @param {string} path The path that was changed\n   * @private\n   */\n  function notifyPath(inst, path, value) {\n    let rootProperty = Polymer.Path.root(path);\n    if (rootProperty !== path) {\n      let eventName = Polymer.CaseMap.camelToDashCase(rootProperty) + '-changed';\n      dispatchNotifyEvent(inst, eventName, value, path);\n      return true;\n    }\n  }\n\n  /**\n   * Dispatches {property}-changed events to indicate a property (or path)\n   * changed.\n   *\n   * @param {Element} inst The element from which to fire the event\n   * @param {string} eventName The name of the event to send ('{property}-changed')\n   * @param {*} value The value of the changed property\n   * @param {string=} path If a sub-path of this property changed, the path\n   *   that changed (optional).\n   * @private\n   */\n  function dispatchNotifyEvent(inst, eventName, value, path) {\n    let detail = {\n      value: value,\n      queueProperty: true\n    };\n    if (path) {\n      detail.path = path;\n    }\n    inst.dispatchEvent(new CustomEvent(eventName, { detail }));\n  }\n\n  /**\n   * Implements the \"notify\" effect.\n   *\n   * Dispatches a non-bubbling event named `info.eventName` on the instance\n   * with a detail object containing the new `value`.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runNotifyEffect(inst, property, value, old, info) {\n    let rootProperty = Polymer.Path.root(property);\n    let path = rootProperty != property ? property : null;\n    dispatchNotifyEvent(inst, info.eventName, value, path);\n  }\n\n  /**\n   * Adds a 2-way binding notification event listener to the node specified\n   *\n   * @param {Object} node Child element to add listener to\n   * @param {Object} inst Host element instance to handle notification event\n   * @param {Object} info Listener metadata stored via addAnnotatedListener\n   * @private\n   */\n  function addNotifyListener(node, inst, info) {\n    node.addEventListener(info.event, function(e) {\n      handleNotification(e, inst, info.property, info.path, info.negate);\n    });\n  }\n\n  /**\n   * Handler function for 2-way notification events. Receives context\n   * information captured in the `addNotifyListener` closure from the\n   * `_bindListeners` metadata.\n   *\n   * Sets the value of the notified property to the host property or path.  If\n   * the event contained path information, translate that path to the host\n   * scope's name for that path first.\n   *\n   * @param {Event} e Notification event (e.g. '<property>-changed')\n   * @param {Object} inst Host element instance handling the notification event\n   * @param {string} property Child element property that was bound\n   * @param {string} path Host property/path that was bound \n   * @param {boolean} negate Whether the binding was negated\n   * @private\n   */\n  function handleNotification(e, inst, property, path, negate) {\n    let value;\n    let targetPath = e.detail && e.detail.path;\n    if (targetPath) {\n      path = Polymer.Path.translate(property, path, targetPath);\n      value = e.detail && e.detail.value;\n    } else {\n      value = e.target[property];\n    }\n    value = negate ? !value : value;\n    setPropertyFromNotification(inst, path, value, e);\n  }\n\n  /**\n   * Called by 2-way binding notification event listeners to set a property\n   * or path to the host based on a notification from a bound child.\n   *\n   * @param {string} path Path on this instance to set\n   * @param {*} value Value to set to given path\n   * @protected\n   */\n  function setPropertyFromNotification(inst, path, value, event) {\n    let detail = event.detail;\n    if (detail && detail.queueProperty) {\n      if (!inst._hasReadOnlyEffect(path)) {\n        if ((path = inst._setPathOrUnmanagedProperty(path, value, Boolean(detail.path)))) {\n          inst._setPendingProperty(path, value);\n        }\n      }\n    } else {\n      inst.set(path, value);\n    }\n  }\n\n  /**\n   * Implements the \"reflect\" effect.\n   *\n   * Sets the attribute named `info.attrName` to the given property value.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runReflectEffect(inst, property, value, old, info) {\n    if (Polymer.sanitizeDOMValue) {\n      value = Polymer.sanitizeDOMValue(value, info.attrName, 'attribute', inst);\n    }\n    inst._propertyToAttribute(property, info.attrName, value);\n  }\n\n  /**\n   * Implements the \"method observer\" effect by running the method with the\n   * values of the arguments specified in the `info` object.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runMethodObserverEffect(inst, property, value, old, info) {\n    runMethodEffect(inst, property, value, old, info);\n  }\n\n  /**\n   * Runs \"computed\" effects for a set of changed properties.\n   *\n   * This method differs from the generic `runEffects` method in that it\n   * continues to run computed effects based on the output of each pass until\n   * there are no more newly computed properties.  This ensures that all\n   * properties that will be computed by the initial set of changes are\n   * computed before other effects (binding propagation, observers, and notify)\n   * run.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {Object} changedProps Bag of changed properties\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @return {Object} Bag of newly computed properties from \"computed\" effects\n   */\n  function runComputedEffects(inst, changedProps, oldProps) {\n    if (inst[TYPES.COMPUTE]) {\n      let inputProps = changedProps;\n      let computedProps;\n      while (runEffects(inst, TYPES.COMPUTE, inputProps)) {\n        mixin(oldProps, inst.__dataOld);\n        mixin(changedProps, inst.__dataPending);\n        computedProps = mixin(computedProps || {}, inst.__dataPending);\n        inputProps = inst.__dataPending;\n        inst.__dataPending = null;\n      }\n      return computedProps;\n    }\n  }\n\n  /**\n   * Implements the \"computed property\" effect by running the method with the\n   * values of the arguments specified in the `info` object and setting the\n   * return value to the computed property specified.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runComputedEffect(inst, property, value, old, info) {\n    var result = runMethodEffect(inst, property, value, old, info);\n    var computedProp = info.methodInfo;\n    if (inst._hasPropertyEffect(computedProp)) {\n      inst._setPendingProperty(computedProp, result);\n    } else {\n      inst[computedProp] = result;\n    }\n  }\n\n  /**\n   * Computes path changes based on path links set up using the `linkPaths`\n   * API.\n   *\n   * @param {Object} inst The instance whose props are changing\n   * @param {Object} changedProps Bag of changed properties\n   * @param {Object} computedProps Bag of properties newly computed this turn\n   *   via \"computed\" effects; any linked paths generated via this method\n   *   will be added both to the set of `changedProps` as well as to the\n   *   set of `computedProps`; this is because the `fromAbove: true` case will \n   *   notify only from the `computedProps` bag.\n   * @private\n   */\n  function computeLinkedPaths(inst, changedProps, computedProps) {\n    const links = inst.__dataLinkedPaths;\n    const cache = inst.__dataTemp;\n    if (links) {\n      computedProps = computedProps || {};\n      let link;\n      for (let a in links) {\n        let b = links[a];\n        for (let path in changedProps) {\n          if (Polymer.Path.isDescendant(a, path)) {\n            link = Polymer.Path.translate(a, b, path);\n            cache[link] = changedProps[link] = computedProps[link] = changedProps[path];\n          } else if (Polymer.Path.isDescendant(b, path)) {\n            link = Polymer.Path.translate(b, a, path);\n            cache[link] = changedProps[link] = computedProps[link] = changedProps[path];\n          }\n        }\n      }\n    }\n    return computedProps;\n  }\n\n  // -- bindings ----------------------------------------------\n\n  /**\n   * Adds \"binding\" property effects for the template annotation\n   * (\"note\" for short) and node index specified.  These may either be normal\n   * \"binding\" effects (property/path bindings) or \"method binding\"\n   * effects, aka inline computing functions, depending on the type of binding\n   * detailed in the note.\n   *\n   * @param {Object} model Prototype or instance\n   * @param {Object} note Annotation note returned from Annotator\n   * @param {number} index Index into `__dataNodes` list of annotated nodes that the\n   *   note applies to\n   * @private\n   */\n  function addBindingEffect(model, note, index) {\n    for (let i=0; i<note.parts.length; i++) {\n      let part = note.parts[i];\n      if (part.signature) {\n        addMethodBindingEffect(model, note, part, index);\n      } else if (!part.literal) {\n        if (note.kind === 'attribute' && note.name[0] === '-') {\n          console.warn('Cannot set attribute ' + note.name +\n            ' because \"-\" is not a valid attribute starting character');\n        } else {\n          model._addPropertyEffect(part.value, TYPES.PROPAGATE, {\n            fn: runBindingEffect,\n            info:  {\n              kind: note.kind,\n              index: index,\n              name: note.name,\n              propertyName: note.propertyName,\n              value: part.value,\n              isCompound: note.isCompound,\n              compoundIndex: part.compoundIndex,\n              event: part.event,\n              customEvent: part.customEvent,\n              negate: part.negate\n            }\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Implements the \"binding\" (property/path binding) effect.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runBindingEffect(inst, path, value, old, info) {\n    let node = inst.__dataNodes[info.index];\n    // Subpath notification: transform path and set to client\n    // e.g.: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo.prop'=obj.sub.prop\n    if ((path.length > info.value.length) &&\n        (info.kind == 'property') && !info.isCompound &&\n        node._hasPropertyEffect && node._hasPropertyEffect(info.name)) {\n      path = Polymer.Path.translate(info.value, info.name, path);\n      setPropertyToNodeFromBinding(inst, node, path, value);\n    } else {\n      // Root or deeper path was set; extract bound path value\n      // e.g.: foo=\"{{obj.sub}}\", path: 'obj', set 'foo'=obj.sub\n      //   or: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo'=obj.sub\n      if (path != info.value) {\n        value = Polymer.Path.get(inst, info.value);\n      }\n      // Propagate value to child\n      applyBindingValue(inst, info, value);\n    }\n  }\n\n  /**\n   * Called by \"binding effect\" to set a property to a node.  Note,\n   * the caller must ensure that the target node has a property effect for\n   * the property in question, otherwise this method will error.\n   *\n   * @param {Node} node Node to set property on\n   * @param {string} prop Property (or path) name to set\n   * @param {*} value Value to set\n   * @protected\n   */\n  function setPropertyToNodeFromBinding(inst, node, prop, value) {\n    if (!node._hasReadOnlyEffect(prop)) {\n      if (node._setPendingProperty(prop, value)) {\n        inst._enqueueClient(node);\n      }\n    }\n  }\n\n  /**\n   * Sets the value for an \"binding\" (binding) effect to a node,\n   * either as a property or attribute.\n   *\n   * @param {Object} inst The instance owning the binding effect\n   * @param {Object} info Effect metadata\n   * @param {*} value Value to set\n   * @private\n   */\n  function applyBindingValue(inst, info, value) {\n    let node = inst.__dataNodes[info.index];\n    value = computeBindingValue(node, value, info);\n    if (Polymer.sanitizeDOMValue) {\n      value = Polymer.sanitizeDOMValue(value, info.name, info.kind, node);\n    }\n    if (info.kind == 'attribute') {\n      // Attribute binding\n      inst._valueToNodeAttribute(node, value, info.name);\n    } else {\n      // Property binding\n      let prop = info.name;\n      if (node._hasPropertyEffect && node._hasPropertyEffect(prop)) {\n        setPropertyToNodeFromBinding(inst, node, prop, value);\n      // The `else` clause is for interop: binding to a non-Polymer element's\n      // property. Some native element properties have side-effects when\n      // re-setting the same value (e.g. setting <input>.value resets the\n      // cursor position), so we do a dirty-check before setting the value.\n      // However, for better interop with non-Polymer custom elements that\n      // accept objects, we explicitly re-set object changes coming from the\n      // Polymer world (which may include deep object changes without the\n      // top reference changing), erring on the side of providing more\n      // information. It is a judgment call that resetting primitives is\n      // \"bad\" and resettings objects is also \"good\"; alternatively we could\n      // implement a whitelist of tag & property values that should never\n      // be reset (e.g. <input>.value && <select>.value)\n      } else if (value !== node[prop] || typeof value == 'object') {\n        node[prop] = value;\n      }\n    }\n  }\n\n  /**\n   * Transforms an \"binding\" effect value based on compound & negation\n   * effect metadata, as well as handling for special-case properties\n   *\n   * @param {Node} node Node the value will be set to\n   * @param {*} value Value to set\n   * @param {Object} info Effect metadata\n   * @return {*} Transformed value to set\n   * @private\n   */\n  function computeBindingValue(node, value, info) {\n    if (info.negate) {\n      value = !value;\n    }\n    if (info.isCompound) {\n      let storage = node.__dataCompoundStorage[info.name];\n      storage[info.compoundIndex] = value;\n      value = storage.join('');\n    }\n    if (info.kind !== 'attribute') {\n      // Some browsers serialize `undefined` to `\"undefined\"`\n      if (info.name === 'textContent' ||\n          (node.localName == 'input' && info.name == 'value')) {\n        value = value == undefined ? '' : value;\n      }\n    }\n    return value;\n  }\n\n  /**\n   * Adds \"binding method\" property effects for the template binding\n   * (\"note\" for short), part metadata, and node index specified.\n   *\n   * @param {Object} model Prototype or instance\n   * @param {Object} note Binding note returned from Annotator\n   * @param {number} part The compound part metadata\n   * @param {number} index Index into `__dataNodes` list of annotated nodes that the\n   *   note applies to\n   * @private\n   */\n  function addMethodBindingEffect(model, note, part, index) {\n    createMethodEffect(model, part.signature, TYPES.PROPAGATE,\n      runMethodBindingEffect, {\n        index: index,\n        isCompound: note.isCompound,\n        compoundIndex: part.compoundIndex,\n        kind: note.kind,\n        name: note.name,\n        negate: part.negate,\n        part: part\n      }, true\n    );\n  }\n\n  /**\n   * Implements the \"binding method\" (inline computed function) effect.\n   *\n   * Runs the method with the values of the arguments specified in the `info`\n   * object and setting the return value to the node property/attribute.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runMethodBindingEffect(inst, property, value, old, info) {\n    let val = runMethodEffect(inst, property, value, old, info);\n    applyBindingValue(inst, info.methodInfo, val);\n  }\n\n  /**\n   * Post-processes template bindings (notes for short) provided by the\n   * Bindings library for use by the effects system:\n   * - Parses bindings for methods into method `signature` objects\n   * - Memoizes the root property for path bindings\n   * - Recurses into nested templates and processes those templates and\n   *   extracts any host properties, which are set to the template's\n   *   `_content._hostProps` \n   * - Adds bindings from the host to <template> elements for any nested\n   *   template's lexically bound \"host properties\"; template handling\n   *   elements can then add accessors to the template for these properties\n   *   to forward host properties into template instances accordingly.\n   *\n   * @param {Array<Object>} notes List of notes to process; the notes are\n   *   modified in place.\n   * @private\n   */\n  function processAnnotations(notes) {\n    if (!notes._processed) {\n      for (let i=0; i<notes.length; i++) {\n        let note = notes[i];\n        // Parse bindings for methods & path roots (models)\n        for (let j=0; j<note.bindings.length; j++) {\n          let b = note.bindings[j];\n          for (let k=0; k<b.parts.length; k++) {\n            let p = b.parts[k];\n            if (!p.literal) {\n              p.signature = parseMethod(p.value);\n              if (!p.signature) {\n                p.rootProperty = Polymer.Path.root(p.value);\n              }\n            }\n          }\n        }\n        // Recurse into nested templates & bind host props\n        if (note.templateContent) {\n          processAnnotations(note.templateContent._notes);\n          let hostProps = note.templateContent._hostProps =\n            discoverTemplateHostProps(note.templateContent._notes);\n          let bindings = [];\n          for (let prop in hostProps) {\n            bindings.push({\n              index: note.index,\n              kind: 'property',\n              name: '_host_' + prop,\n              parts: [{\n                mode: '{',\n                rootProperty: prop,\n                value: prop\n              }]\n            });\n          }\n          note.bindings = note.bindings.concat(bindings);\n        }\n      }\n      notes._processed = true;\n    }\n  }\n\n  /**\n   * Finds all property usage in templates (property/path bindings and function\n   * arguments) and returns the path roots as keys in a map. Each outer template\n   * merges inner _hostProps to propagate inner host property needs to outer\n   * templates.\n   *\n   * @param {Array<Object>} notes List of notes to process for a given template\n   * @return {Object<string,boolean>} Map of host properties that the template\n   *   (or any nested templates) uses\n   * @private\n   */\n  function discoverTemplateHostProps(notes) {\n    let hostProps = {};\n    for (let i=0, n; (i<notes.length) && (n=notes[i]); i++) {\n      // Find all bindings to parent.* and spread them into _parentPropChain\n      for (let j=0, b$=n.bindings, b; (j<b$.length) && (b=b$[j]); j++) {\n        for (let k=0, p$=b.parts, p; (k<p$.length) && (p=p$[k]); k++) {\n          if (p.signature) {\n            let args = p.signature.args;\n            for (let kk=0; kk<args.length; kk++) {\n              let rootProperty = args[kk].rootProperty;\n              if (rootProperty) {\n                hostProps[rootProperty] = true;\n              }\n            }\n            hostProps[p.signature.methodName] = true;\n          } else {\n            if (p.rootProperty) {\n              hostProps[p.rootProperty] = true;\n            }\n          }\n        }\n      }\n      // Merge child _hostProps into this _hostProps\n      if (n.templateContent) {\n        let templateHostProps = n.templateContent._hostProps;\n        Polymer.Base.mixin(hostProps, templateHostProps);\n      }\n    }\n    return hostProps;\n  }\n\n  /**\n   * Returns true if a binding's metadata meets all the requirements to allow\n   * 2-way binding, and therefore a <property>-changed event listener should be\n   * added:\n   * - used curly braces\n   * - is a property (not attribute) binding\n   * - is not a textContent binding\n   * - is not compound\n   *\n   * @param {Object} binding Binding metadata\n   * @return {boolean} True if 2-way listener should be added\n   * @private\n   */\n  function shouldAddListener(binding) {\n    return binding.name &&\n           binding.kind != 'attribute' &&\n           binding.kind != 'text' &&\n           !binding.isCompound &&\n           binding.parts[0].mode === '{';\n  }\n\n  /**\n   * Sets up a prototypical `_bindListeners` metadata array to be used at\n   * instance time to add event listeners for 2-way bindings.\n   *\n   * @param {Object} model Prototype (instances not currently supported)\n   * @param {number} index Index into `__dataNodes` list of annotated nodes that the\n   *   event should be added to\n   * @param {string} property Property of target node to listen for changes\n   * @param {string} path Host path that the change should be propagated to\n   * @param {string=} event A custom event name to listen for (e.g. via the\n   *   `{{prop::eventName}}` syntax)\n   * @param {boolean=} negate Whether the notified value should be negated before\n   *   setting to host path\n   * @private\n   */\n  function addAnnotatedListener(model, index, property, path, event, negate) {\n    if (!model._bindListeners) {\n      model._bindListeners = [];\n    }\n    let eventName = event ||\n      (CaseMap.camelToDashCase(property) + '-changed');\n    model._bindListeners.push({\n      index: index,\n      property: property,\n      path: path,\n      event: eventName,\n      negate: negate\n    });\n  }\n\n  /**\n   * Adds all 2-way binding notification listeners to a host based on\n   * `_bindListeners` metadata recorded by prior calls to`addAnnotatedListener`\n   *\n   * @param {Object} inst Host element instance\n   * @private\n   */\n  function setupBindListeners(inst) {\n    let b$ = inst._bindListeners;\n    for (let i=0, l=b$.length, info; (i<l) && (info=b$[i]); i++) {\n      let node = inst.__dataNodes[info.index];\n      addNotifyListener(node, inst, info);\n    }\n  }\n\n  /**\n   * Finds all bound nodes in the given `dom` fragment that were recorded in the\n   * provided Annotator `notes` array and stores them in `__dataNodes` for this\n   * instance.  The index of nodes in `__dataNodes` corresponds to the index\n   * of a note in the `notes` array, and binding effect metadata uses this\n   * index to identify bound nodes when propagating data.\n   *\n   * Compound binding storage structures are also initialized onto the bound\n   * nodes, and 2-way binding event listeners are also added.\n   *\n   * @param {Object} inst Instance that bas been previously bound\n   * @param {DocumentFragment} dom Document fragment containing stamped nodes\n   * @param {Array<Object>} notes Array of annotation notes provided by\n   *   Polymer.Annotator\n   * @private\n   */\n  function setupBindings(inst, dom, notes) {\n    if (notes.length) {\n      let nodes = new Array(notes.length);\n      for (let i=0; i < notes.length; i++) {\n        let note = notes[i];\n        let node = nodes[i] = inst._findTemplateAnnotatedNode(dom, note);\n        node.__dataHost = inst;\n        if (note.bindings) {\n          setupCompoundBinding(note, node);\n        }\n      }\n      inst.__dataNodes = nodes;\n    }\n    if (inst._bindListeners) {\n      setupBindListeners(inst);\n    }\n  }\n\n  // -- for method-based effects (complexObserver & computed) --------------\n\n  /**\n   * Adds property effects for each argument in the method signature (and\n   * optionally, for the method name if `dynamic` is true) that calls the\n   * provided effect function.\n   *\n   * @param {Object} inst Prototype or instance\n   * @param {Object} sig Method signature metadata\n   * @param {Function} effectFn Function to run when arguments change\n   * @param {boolean=} dynamic Whether the method name should be included as\n   *   a dependency to the effect.\n   * @private\n   */\n  function createMethodEffect(model, sig, type, effectFn, methodInfo, dynamic) {\n    let info = {\n      methodName: sig.methodName,\n      args: sig.args,\n      methodInfo: methodInfo,\n      dynamicFn: dynamic\n    };\n    // TODO(sorvell): why still here?\n    if (sig.static) {\n      model._addPropertyEffect('__static__', type, {\n        fn: effectFn, info: info\n      });\n    } else {\n      for (let i=0, arg; (i<sig.args.length) && (arg=sig.args[i]); i++) {\n        if (!arg.literal) {\n          model._addPropertyEffect(arg.name, type, {\n            fn: effectFn, info: info\n          });\n        }\n      }\n    }\n    if (dynamic) {\n      model._addPropertyEffect(sig.methodName, type, {\n        fn: effectFn, info: info\n      });\n    }\n  }\n\n  /**\n   * Calls a method with arguments marshaled from properties on the instance\n   * based on the method signature contained in the effect metadata.\n   *\n   * Multi-property observers, computed properties, and inline computing\n   * functions call this function to invoke the method, then use the return\n   * value accordingly.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {*} value Current value of property\n   * @param {*} old Previous value of property\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runMethodEffect(inst, property, value, old, info) {\n    // TODO(kschaaf): ideally rootDataHost would be a detail of Templatizer only\n    let context = inst._rootDataHost || inst;\n    let fn = context[info.methodName];\n    if (fn) {\n      let args = marshalArgs(inst.__data, info.args, property, value);\n      return fn.apply(context, args);\n    } else if (!info.dynamicFn) {\n      console.warn('method `' + info.methodName + '` not defined');\n    }\n  }\n\n  const emptyArray = [];\n\n  /**\n   * Parses an expression string for a method signature, and returns a metadata\n   * describing the method in terms of `methodName`, `static` (whether all the\n   * arguments are literals), and an array of `args`\n   *\n   * @param {string} expression The expression to parse\n   * @return {?Object} The method metadata object if a method expression was\n   *   found, otherwise `undefined`\n   * @private\n   */\n  function parseMethod(expression) {\n    // tries to match valid javascript property names\n    let m = expression.match(/([^\\s]+?)\\(([\\s\\S]*)\\)/);\n    if (m) {\n      let sig = { methodName: m[1], static: true };\n      if (m[2].trim()) {\n        // replace escaped commas with comma entity, split on un-escaped commas\n        let args = m[2].replace(/\\\\,/g, '&comma;').split(',');\n        return parseArgs(args, sig);\n      } else {\n        sig.args = emptyArray;\n        return sig;\n      }\n    }\n  }\n\n  /**\n   * Parses an array of arguments and sets the `args` property of the supplied\n   * signature metadata object. Sets the `static` property to false if any\n   * argument is a non-literal.\n   *\n   * @param {Array<string>} argList Array of argument names\n   * @param {Object} sig Method signature metadata object\n   * @return {Object} The updated signature metadata object\n   * @private\n   */\n  function parseArgs(argList, sig) {\n    sig.args = argList.map(function(rawArg) {\n      let arg = parseArg(rawArg);\n      if (!arg.literal) {\n        sig.static = false;\n      }\n      return arg;\n    }, this);\n    return sig;\n  }\n\n  /**\n   * Parses an individual argument, and returns an argument metadata object\n   * with the following fields:\n   *\n   *   {\n   *     value: 'prop',        // property/path or literal value\n   *     literal: false,       // whether argument is a literal\n   *     structured: false,    // whether the property is a path\n   *     rootProperty: 'prop', // the root property of the path\n   *     wildcard: false       // whether the argument was a wildcard '.*' path\n   *   }\n   *\n   * @param {string} rawArg The string value of the argument\n   * @return {Object} Argument metadata object\n   * @private\n   */\n  function parseArg(rawArg) {\n    // clean up whitespace\n    let arg = rawArg.trim()\n      // replace comma entity with comma\n      .replace(/&comma;/g, ',')\n      // repair extra escape sequences; note only commas strictly need\n      // escaping, but we allow any other char to be escaped since its\n      // likely users will do this\n      .replace(/\\\\(.)/g, '\\$1')\n      ;\n    // basic argument descriptor\n    let a = {\n      name: arg\n    };\n    // detect literal value (must be String or Number)\n    let fc = arg[0];\n    if (fc === '-') {\n      fc = arg[1];\n    }\n    if (fc >= '0' && fc <= '9') {\n      fc = '#';\n    }\n    switch(fc) {\n      case \"'\":\n      case '\"':\n        a.value = arg.slice(1, -1);\n        a.literal = true;\n        break;\n      case '#':\n        a.value = Number(arg);\n        a.literal = true;\n        break;\n    }\n    // if not literal, look for structured path\n    if (!a.literal) {\n      a.rootProperty = Polymer.Path.root(arg);\n      // detect structured path (has dots)\n      a.structured = Polymer.Path.isDeep(arg);\n      if (a.structured) {\n        a.wildcard = (arg.slice(-2) == '.*');\n        if (a.wildcard) {\n          a.name = arg.slice(0, -2);\n        }\n      }\n    }\n    return a;\n  }\n\n  /**\n   * Gather the argument values for a method specified in the provided array\n   * of argument metadata.\n   *\n   * The `path` and `value` arguments are used to fill in wildcard descriptor\n   * when the method is being called as a result of a path notification.\n   * \n   * @param {Object} data Instance data storage object to read properties from\n   * @param {Array<Object>} args Array of argument metadata\n   * @return {Array<*>} Array of argument values\n   * @private\n   */\n  function marshalArgs(data, args, path, value) {\n    let values = [];\n    for (let i=0, l=args.length; i<l; i++) {\n      let arg = args[i];\n      let name = arg.name;\n      let v;\n      if (arg.literal) {\n        v = arg.value;\n      } else if (path == name) {\n        v = value;\n      } else {\n        // TODO(kschaaf): confirm design of this\n        v = data[name];\n        if (v === undefined && arg.structured) {\n          v = Polymer.Path.get(data, name);\n        }\n      }\n      if (arg.wildcard) {\n        // Only send the actual path changed info if the change that\n        // caused the observer to run matched the wildcard\n        let baseChanged = (name.indexOf(path + '.') === 0);\n        let matches = (path.indexOf(name) === 0 && !baseChanged);\n        values[i] = {\n          path: matches ? path : name,\n          value: matches ? value : v,\n          base: v\n        };\n      } else {\n        values[i] = v;\n      }\n    }\n    return values;\n  }\n\n  /**\n   * Initializes `__dataCompoundStorage` local storage on a bound node with\n   * initial literal data for compound bindings, and sets the joined\n   * literal parts to the bound property.\n   * \n   * When changes to compound parts occur, they are first set into the compound\n   * storage array for that property, and then the array is joined to result in\n   * the final value set to the property/attribute.\n   *\n   * @param {Object} note Annotation metadata\n   * @param {Node} node Bound node to initialize\n   * @private\n   */\n  function setupCompoundBinding(note, node) {\n    let bindings = note.bindings;\n    for (let i=0; i<bindings.length; i++) {\n      let binding = bindings[i];\n      if (binding.isCompound) {\n        // Create compound storage map\n        let storage = node.__dataCompoundStorage ||\n          (node.__dataCompoundStorage = {});\n        let parts = binding.parts;\n        // Copy literals from parts into storage for this binding\n        let literals = new Array(parts.length);\n        for (let j=0; j<parts.length; j++) {\n          literals[j] = parts[j].literal;\n        }\n        let name = binding.name;\n        storage[name] = literals;\n        // Configure properties with their literal parts\n        if (binding.literal && binding.kind == 'property') {\n          // TODO(kschaaf) config integration\n          // if (node._configValue) {\n          //   node._configValue(name, binding.literal);\n          // } else {\n            node[name] = binding.literal;\n          // }\n        }\n      }\n    }\n  }\n\n  // data api\n\n  /**\n   * Sends array splice notifications (`.splices` and `.length`) \n   *\n   * Note: this implementation only accepts normalized paths\n   *\n   * @param {Object} inst Instance to send notifications to\n   * @param {Array} array The array the mutations occurred on\n   * @param {string} path The path to the array that was mutated\n   * @param {Array} splices Array of splice records\n   * @private\n   */\n  function notifySplices(inst, array, path, splices) {\n    let splicesPath = path + '.splices';\n    inst._setProperty(splicesPath, { indexSplices: splices });\n    inst._setProperty(path + '.length', array.length);\n    // Null here to allow potentially large splice records to be GC'ed.\n    inst.__data[splicesPath] = {indexSplices: null};\n  }\n\n  /**\n   * Creates a splice record and sends an array splice notification for\n   * the described mutation\n   *\n   * Note: this implementation only accepts normalized paths\n   *\n   * @param {Object} inst Instance to send notifications to\n   * @param {Array} array The array the mutations occurred on\n   * @param {string} path The path to the array that was mutated\n   * @param {number} index Index at which the array mutation occurred\n   * @param {number} addedCount Number of added items\n   * @param {Array} removed Array of removed items\n   * @private\n   */\n  function notifySplice(inst, array, path, index, addedCount, removed) {\n    notifySplices(inst, array, path, [{\n      index: index,\n      addedCount: addedCount,\n      removed: removed,\n      object: array,\n      type: 'splice'\n    }]);\n  }\n\n  /**\n   * Returns an upper-cased version of the string.\n   *\n   * @param {string} name String to uppercase\n   * @return {string} Uppercased string\n   * @private\n   */\n  function upper(name) {\n    return name[0].toUpperCase() + name.substring(1);\n  }\n\n  Polymer.PropertyEffects = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class PropertyEffects extends Polymer.TemplateStamp(\n      Polymer.Attributes(Polymer.PropertyAccessors(superClass))) {\n\n      get PROPERTY_EFFECT_TYPES() {\n        return TYPES;\n      }\n\n      constructor() {\n        super();\n        this._asyncEffects = false;\n        this.__dataInitialized = false;\n        this.__dataPendingClients = null;\n        this.__dataFromAbove = false;\n        this.__dataLinkedPaths = null;\n        this.__dataNodes = null;\n        // May be set on instance prior to upgrade\n        this.__dataCompoundStorage = this.__dataCompoundStorage || null;\n        this.__dataHost = this.__dataHost || null;\n      }\n\n      /**\n       * Adds to default initialization in `PropertyAccessors` by initializing\n       * local property & pending data storage with any accessor values saved\n       * in `__dataProto`.  If instance properties had been set before the\n       * element upgraded and gained accessors on its prototype, these values\n       * are set into the prototype's accessors after being deleted from the\n       * instance.\n       *\n       * @override\n       */\n      _initializeProperties() {\n        super._initializeProperties();\n        this.__dataTemp = {};\n        // initialize data with prototype values saved when creating accessors\n        if (this.__dataProto) {\n          this.__data = Object.create(this.__dataProto);\n          this.__dataPending = Object.create(this.__dataProto);\n          this.__dataOld = {};\n        } else {\n          this.__dataPending = null;\n        }\n        // update instance properties\n        for (let p in this.__propertyEffects) {\n          if (this.hasOwnProperty(p)) {\n            let value = this[p];\n            delete this[p];\n            this[p] = value;\n          }\n        }\n      }\n\n      // Prototype setup ----------------------------------------\n\n      /**\n       * Ensures an accessor exists for the specified property, and adds\n       * to a list of \"property effects\" that will run when the accessor for\n       * the specified property is set.  Effects are grouped by \"type\", which\n       * roughly corresponds to a phase in effect processing.  The effect\n       * metadata should be in the following form:\n       *\n       *   {\n       *     fn: effectFunction, // Reference to function to call to perform effect\n       *     info: { ... }       // Effect metadata passed to function\n       *     // path: '...'      // Will be set by this method based on path arg\n       *   }\n       *\n       * Effect functions are called with the following signature:\n       *\n       *   effectFunction(inst, property, currentValue, oldValue, info)\n       *\n       * This method may be called either on the prototype of a class\n       * using the PropertyEffects mixin (for best performance), or on\n       * an instance to add dynamic effects.  When called on an instance or\n       * subclass of a class that has already had property effects added to\n       * its prototype, the property effect lists will be cloned and added as\n       * own properties of the caller.\n       *\n       * @param {string} path Property (or path) that should trigger the effect\n       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n       * @param {Object} effect Effect metadata object\n       * @protected\n       */\n      _addPropertyEffect(path, type, effect) {\n        let property = Polymer.Path.root(path);\n        let effects = ensureOwnEffectMap(this, TYPES.ANY)[property];\n        if (!effects) {\n          effects = this.__propertyEffects[property] = [];\n          this._createPropertyAccessor(property,\n            type == TYPES.READ_ONLY);\n        }\n        // effects are accumulated into arrays per property based on type\n        if (effect) {\n          effect.path = path;\n          effects.push(effect);\n        }\n        effects = ensureOwnEffectMap(this, type)[property];\n        if (!effects) {\n          effects = this[type][property] = [];\n        }\n        effects.push(effect);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a property effect\n       * of a certain type.\n       *\n       * @param {string} property Property name\n       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasPropertyEffect(property, type) {\n        let effects = this[type || TYPES.ANY];\n        return Boolean(effects && effects[property]);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"read only\"\n       * accessor for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasReadOnlyEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.READ_ONLY);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"notify\"\n       * property effect for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasNotifyEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.NOTIFY);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"reflect to attribute\"\n       * property effect for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasReflectEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.REFLECT);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"computed\"\n       * property effect for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasComputedEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.COMPUTE);\n      }\n\n      // Runtime ----------------------------------------\n\n      /**\n       * Sets an unmanaged property (property without accessor) or leaf property\n       * of a path to the given value.  If the path in question was a simple\n       * property with an accessor, no action is taken.\n       *\n       * This function isolates relatively expensive functionality necessary\n       * for the public API, such that it is only done when paths enter the\n       * system, and not in every step of the hot path.\n       *\n       * If `path` is an unmanaged property (property without an accessor)\n       * or a path, sets the value at that path.\n       * \n       * `path` can be a path string or array of path parts as accepted by the\n       * public API.\n       *\n       * @param {string} path Path to set\n       * @param {*} value Value to set\n       * @param {boolean} fromPath If the value being set was from a path; in\n       *   this case the value was shared, so no dirty check is performed.\n       * @return {?string} If the root of the path is a managed property,\n       *   returns a normalized string path suitable for setting into the system\n       *   via `_setProperty`/`_setPendingProperty`. A null path is returned if\n       *   a path was being set and fails a dirty check, unless `fromPath`\n       *   was true (in which case no dirty check is performed since this is a\n       *   notification of change to a shared path).\n       * @protected\n       */\n      _setPathOrUnmanagedProperty(path, value, fromPath) {\n        let rootProperty = Polymer.Path.root(Array.isArray(path) ? path[0] : path);\n        let hasEffect = this._hasPropertyEffect(rootProperty);\n        let isPath = (rootProperty !== path);\n        if (!hasEffect) {\n          Polymer.Path.set(this, path, value);\n        } else if (isPath && !fromPath) {\n          // Dirty check changes being set to a path against the actual object,\n          // since this is the entry point for paths into the system; from here\n          // the only dirty checks are against the `__dataTemp` cache to prevent\n          // duplicate work in the same turn only. Note, if this was a\n          // notification of a change already set to a path (fromPath: true),\n          // we always let the change through and skip the `set` since it was\n          // already dirty checked at the point of entry and the underlying\n          // object has already been updated\n          let old = Polymer.Path.get(this, path);\n          path = Polymer.Path.set(this, path, value);\n          // Use property-accessor's simpler dirty check\n          if (!super._shouldPropertyChange(path, value, old)) {\n            return null;\n          }\n        } \n        if (hasEffect) {\n          return path;\n        }\n      }\n\n      /**\n       * Overrides the `PropertyAccessors` implementation to introduce special\n       * dirty check logic depending on the property & value being set:\n       *\n       * 1. Any value set to a path (e.g. 'obj.prop': 42 or 'obj.prop': {...})\n       *    Stored in `__dataTemp`, dirty checked against `__dataTemp`\n       * 2. Object set to simple property (e.g. 'prop': {...})\n       *    Stored in `__dataTemp` and `__data`, dirty checked against\n       *    `__dataTemp` by default implementation of `_shouldPropertyChange`\n       * 3. Primitive value set to simple property (e.g. 'prop': 42)\n       *    Stored in `__data`, dirty checked against `__data`\n       *\n       * The dirty-check is important to prevent cycles due to two-way\n       * notification, but paths and objects are only dirty checked against any\n       * previous value set during this turn via a \"temporary cache\" that is\n       * cleared when the last `_propertiesChaged` exits. This is so:\n       * a. any cached array paths (e.g. 'array.3.prop') may be invalidated\n       *    due to array mutations like shift/unshift/splice; this is fine\n       *    since path changes are dirty-checked at user entry points like `set`\n       * b. dirty-checking for objects only lasts one turn to allow the user\n       *    to mutate the object in-place and re-set it with the same identity\n       *    and have all sub-properties re-propagated in a subsequent turn.\n       *\n       * The temp cache is not necessarily sufficient to prevent invalid array\n       * paths, since a splice can happen during the same turn (with pathological\n       * user code); we could introduce a \"fixup\" for temporarily cached array\n       * paths if needed: https://github.com/Polymer/polymer/issues/4227\n       *\n       * @override\n       */\n      _setPendingProperty(property, value) {\n        let isPath = Polymer.Path.isPath(property);\n        let prevProps = isPath ? this.__dataTemp : this.__data;\n        if (this._shouldPropertyChange(property, value, prevProps[property])) {\n          if (!this.__dataPending) {\n            this.__dataPending = {};\n            this.__dataOld = {};\n          }\n          // Ensure old is captured from the last turn\n          if (!(property in this.__dataOld)) {\n            this.__dataOld[property] = this.__data[property];\n          }\n          // Paths and objects are stored in temporary cache (cleared at end of\n          // turn), which is used for dirty-checking\n          if (isPath || typeof value == 'object') {\n            this.__dataTemp[property] = value;\n          }\n          // Properties (but not sub-paths) get stored __data cache, used to\n          // return accessor values from getters\n          if (!isPath) {\n            this.__data[property] = value;\n          }\n          // All changes go into pending property bag, passed to _propertiesChanged\n          this.__dataPending[property] = value;\n          return true;\n        }\n      }\n\n      /**\n       * Overrides default PropertyAccessors implementation to pull the value\n       * to dirty check against from the `__dataTemp` cache (rather than the \n       * normal `__data` cache) for Objects.  Since the temp cache is cleared\n       * at the end of a turn, this implementation allows side-effects of deep\n       * object changes to be processed by re-setting the same object (using\n       * the temp cache as a backstop to prevent cycles due to 2-way\n       * notification).\n       *\n       * Override this to provide more strict dirty checking, i.e. immutable\n       * (`value === old`) or based on type.\n       *\n       * @override\n       */\n      _shouldPropertyChange(property, value, old) {\n        if (typeof value == 'object') {\n          old = this.__dataTemp[property];\n        }\n        return super._shouldPropertyChange(property, value, old);\n      }\n\n      /**\n       * Overrides PropertyAccessor's default async queuing of \n       * `_propertiesChanged`: if `__dataInitialized` is false (has not yet been\n       * manually flushed), the function no-ops; otherwise flushes\n       * `_propertiesChanged` synchronously.\n       *\n       * Subclasses may set `this._asyncEffects = true` to cause \n       * `_propertiesChanged` to be flushed asynchronously.\n       *\n       * @override\n       */\n      _invalidateProperties() {\n        if (this.__dataInitialized) {\n          if (this._asyncEffects) {\n            super._invalidateProperties();\n          } else {\n            this._flushProperties();\n          }\n        }\n      }\n\n      /**\n       * Enqueues the given client on a list of pending clients, whose\n       * pending property changes can later be flushed via a call to\n       * `_flushClients`.\n       *\n       * @param {Object} client PropertyEffects client to enqueue\n       * @protected\n       */\n      _enqueueClient(client) {\n        this.__dataPendingClients = this.__dataPendingClients || new Map();\n        if (client !== this) {\n          this.__dataPendingClients.set(client, true);\n        }\n      }\n\n      /**\n       * Flushes any clients previously enqueued via `_enqueueClient`, causing\n       * their `_flushProperties` method to run.\n       *\n       * @protected\n       */\n      _flushClients() {\n        // Flush all clients\n        let clients = this.__dataPendingClients;\n        if (clients) {\n          this.__dataPendingClients = null;\n          clients.forEach((v, client) => {\n            // TODO(kschaaf): more explicit check?\n            if (client._flushProperties) {\n              client._flushProperties(true);\n            }\n          });\n        }\n      }\n\n      /**\n       * Sets a bag of property (or path) changes to this instance, and\n       * synchronously processes all effects of the properties as a batch.\n       *\n       * @param {Object} props Bag of one or more key-value pairs whose key is\n       *   a property (or path, such as `'object.foo'`) and value is the new\n       *   value to set for that property.\n       */\n      setProperties(props) {\n        for (let path in props) {\n          if (!this._hasReadOnlyEffect(path)) {\n            let value = props[path];\n            if ((path = this._setPathOrUnmanagedProperty(path, value))) {\n              this._setPendingProperty(path, value);\n            }\n          }\n        }\n        this._invalidateProperties();\n      }\n      /**\n       * Overrides PropertyAccessor's default async queuing of \n       * `_propertiesChanged`, to instead synchronously flush\n       * `_propertiesChanged` unless the `this._asyncEffects` property is true.\n       *\n       * If this is the first time properties are being flushed, the `ready`\n       * callback will be called.\n       *\n       * Also adds an optional `fromAbove` argument to indicate when properties\n       * are being flushed by a host during data propagation. This information\n       * is used to avoid sending upwards notification events in response to\n       * downward data flow.  This is a performance optimization, but also\n       * critical to avoid infinite looping when an object is notified, since\n       * the default implementation of `_shouldPropertyChange` always returns\n       * true for Objects, and without would result in a notify-propagate-notify\n       * loop.\n       *\n       * @param {boolean=} fromAbove When true, sets `this.__dataFromAbove` to\n       *   `true` for the duration of the call to `_propertiesChanged`.\n       * @override\n       */\n      _flushProperties(fromAbove) {\n        if (!this.__dataInitialized) {\n          this.ready();\n        }\n        if (this.__dataPending || this.__dataPendingClients) {\n          this.__dataFromAbove = fromAbove;\n          super._flushProperties();\n          if (!this.__dataCounter) {\n            // Clear temporary cache at end of turn\n            this.__dataTemp = {};\n          }\n          this.__dataFromAbove = false;\n        }\n      }\n\n      /**\n       * Polymer-specific lifecycle callback called the first time properties\n       * are being flushed.  Prior to `ready`, all property sets through\n       * accessors are queued and their effects are flushed after this method\n       * returns.\n       *\n       * Users may override this function to implement behavior that is\n       * dependent on the element having its properties initialized, e.g.\n       * from defaults (initialized from `constructor`, `_initializeProperties`),\n       * `attributeChangedCallback`, or binding values propagated from host\n       * \"binding effects\".  `super.ready()` must be called to ensure the\n       * data system becomes enabled.\n       *\n       * @public\n       */\n      ready() {\n        this.__dataInitialized = true;\n      }\n\n      /**\n       * Stamps the provided template and performs instance-time setup for\n       * Polymer template features, including data bindings, declarative event\n       * listeners, and the `this.$` map of `id`'s to nodes.  A document fragment\n       * is returned containing the stamped DOM, ready for insertion into the\n       * DOM.\n       * \n       * Note that for host data to be bound into the stamped DOM, the template\n       * must have been previously bound to the prototype via a call to\n       * `_bindTemplate`, which performs one-time template binding work.\n       *\n       * Note that this method currently only supports being called once per\n       * instance.\n       *\n       * @param {HTMLTemplateElement} template Template to stamp\n       * @return {DocumentFragment} Cloned template content\n       * @protected\n       */\n      _stampTemplate(template) {\n        let dom = super._stampTemplate(template);\n        let notes = (template._content || template.content)._notes;\n        setupBindings(this, dom, notes);\n        return dom;\n      }\n\n      /**\n       * Implements `PropertyAccessors`'s properties changed callback.\n       *\n       * Runs each class of effects for the batch of changed properties in\n       * a specific order (compute, propagate, reflect, observe, notify).\n       *\n       * @override\n       */\n      _propertiesChanged(currentProps, changedProps, oldProps) {\n        // ----------------------------\n        // let c = Object.getOwnPropertyNames(changedProps || {});\n        // window.debug && console.group(this.localName + '#' + this.id + ': ' + c);\n        // if (window.debug) { debugger; }\n        // ----------------------------\n        let fromAbove = this.__dataFromAbove;\n        // Compute properties\n        let computedProps = runComputedEffects(this, changedProps, oldProps);\n        // Compute linked paths\n        computedProps = computeLinkedPaths(this, changedProps, computedProps);\n        // Propagate properties to clients\n        runEffects(this, TYPES.PROPAGATE, changedProps);\n        // Flush clients\n        this._flushClients();\n        // Reflect properties\n        runEffects(this, TYPES.REFLECT, changedProps, oldProps);\n        // Observe properties\n        runEffects(this, TYPES.OBSERVE, changedProps, oldProps);\n        // Notify properties to host\n        runNotifyEffects(this, fromAbove ? computedProps : changedProps, oldProps);\n        // ----------------------------\n        // window.debug && console.groupEnd(this.localName + '#' + this.id + ': ' + c);\n        // ----------------------------\n      }\n\n      /**\n       * Aliases one data path as another, such that path notifications from one\n       * are routed to the other.\n       *\n       * @method linkPaths\n       * @param {string} to Target path to link.\n       * @param {string} from Source path to link.\n       * @public\n       */\n      linkPaths(to, from) {\n        to = Polymer.Path.normalize(to);\n        from = Polymer.Path.normalize(from);\n        this.__dataLinkedPaths = this.__dataLinkedPaths || {};\n        if (from) {\n          this.__dataLinkedPaths[to] = from;\n        } else {\n          this.__dataLinkedPaths(to);\n        }\n      }\n\n      /**\n       * Removes a data path alias previously established with `_linkPaths`.\n       *\n       * Note, the path to unlink should be the target (`to`) used when\n       * linking the paths.\n       *\n       * @method unlinkPaths\n       * @param {string} path Target path to unlink.\n       * @public\n       */\n      unlinkPaths(path) {\n        path = Polymer.Path.normalize(path);\n        if (this.__dataLinkedPaths) {\n          delete this.__dataLinkedPaths[path];\n        }\n      }\n\n      /**\n       * Notify that an array has changed.\n       *\n       * Example:\n       *\n       *     this.items = [ {name: 'Jim'}, {name: 'Todd'}, {name: 'Bill'} ];\n       *     ...\n       *     this.items.splice(1, 1, {name: 'Sam'});\n       *     this.items.push({name: 'Bob'});\n       *     this.notifySplices('items', [\n       *       { index: 1, removed: [{name: 'Todd'}], addedCount: 1, obect: this.items, type: 'splice' },\n       *       { index: 3, removed: [], addedCount: 1, object: this.items, type: 'splice'}\n       *     ]);\n       *\n       * @param {string} path Path that should be notified.\n       * @param {Array} splices Array of splice records indicating ordered\n       *   changes that occurred to the array. Each record should have the\n       *   following fields:\n       *    * index: index at which the change occurred\n       *    * removed: array of items that were removed from this index\n       *    * addedCount: number of new items added at this index\n       *    * object: a reference to the array in question\n       *    * type: the string literal 'splice'\n       *\n       *   Note that splice records _must_ be normalized such that they are\n       *   reported in index order (raw results from `Object.observe` are not\n       *   ordered and must be normalized/merged before notifying).\n       * @public\n      */\n      notifySplices(path, splices) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        notifySplices(this, array, info.path, splices);\n      }\n\n      /**\n       * Convenience method for reading a value from a path.\n       *\n       * Note, if any part in the path is undefined, this method returns\n       * `undefined` (this method does not throw when dereferencing undefined\n       * paths).\n       *\n       * @method get\n       * @param {(string|Array<(string|number)>)} path Path to the value\n       *   to read.  The path may be specified as a string (e.g. `foo.bar.baz`)\n       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n       *   bracketed expressions are not supported; string-based path parts\n       *   *must* be separated by dots.  Note that when dereferencing array\n       *   indices, the index may be used as a dotted part directly\n       *   (e.g. `users.12.name` or `['users', 12, 'name']`).\n       * @param {Object=} root Root object from which the path is evaluated.\n       * @return {*} Value at the path, or `undefined` if any part of the path\n       *   is undefined.\n       * @public\n       */\n      get(path, root) {\n        return Polymer.Path.get(root || this, path);\n      }\n\n      /**\n       * Convenience method for setting a value to a path and notifying any\n       * elements bound to the same path.\n       *\n       * Note, if any part in the path except for the last is undefined,\n       * this method does nothing (this method does not throw when\n       * dereferencing undefined paths).\n       *\n       * @method set\n       * @param {(string|Array<(string|number)>)} path Path to the value\n       *   to write.  The path may be specified as a string (e.g. `'foo.bar.baz'`)\n       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n       *   bracketed expressions are not supported; string-based path parts\n       *   *must* be separated by dots.  Note that when dereferencing array\n       *   indices, the index may be used as a dotted part directly\n       *   (e.g. `'users.12.name'` or `['users', 12, 'name']`).\n       * @param {*} value Value to set at the specified path.\n       * @param {Object=} root Root object from which the path is evaluated.\n       *   When specified, no notification will occur.\n       * @public\n      */\n      set(path, value, root) {\n        if (root) {\n          Polymer.Path.set(root, path, value);\n        } else {\n          if (!this._hasReadOnlyEffect(path)) {\n            if ((path = this._setPathOrUnmanagedProperty(path, value))) {\n              this._setProperty(path, value);\n            }\n          }          \n        }\n      }\n\n      /**\n       * Adds items onto the end of the array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.push`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method push\n       * @param {String} path Path to array.\n       * @param {...any} var_args Items to push onto array\n       * @return {number} New length of the array.\n       * @public\n       */\n      push(path, ...items) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let len = array.length;\n        let ret = array.push(...items);\n        if (items.length) {\n          notifySplice(this, array, info.path, len, items.length, []);\n        }\n        return ret;\n      }\n\n      /**\n       * Removes an item from the end of array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.pop`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method pop\n       * @param {String} path Path to array.\n       * @return {any} Item that was removed.\n       * @public\n       */\n      pop(path) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let hadLength = Boolean(array.length);\n        let ret = array.pop();\n        if (hadLength) {\n          notifySplice(this, array, info.path, array.length, 0, [ret]);\n        }\n        return ret;\n      }\n\n      /**\n       * Starting from the start index specified, removes 0 or more items\n       * from the array and inserts 0 or more new items in their place.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.splice`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method splice\n       * @param {String} path Path to array.\n       * @param {number} start Index from which to start removing/inserting.\n       * @param {number} deleteCount Number of items to remove.\n       * @param {...any} var_args Items to insert into array.\n       * @return {Array} Array of removed items.\n       * @public\n       */\n      splice(path, start, deleteCount, ...items) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        // Normalize fancy native splice handling of crazy start values\n        if (start < 0) {\n          start = array.length - Math.floor(-start);\n        } else {\n          start = Math.floor(start);\n        }\n        if (!start) {\n          start = 0;\n        }\n        let ret = array.splice(start, deleteCount, ...items);\n        if (items.length || ret.length) {\n          notifySplice(this, array, info.path, start, items.length, ret);\n        }\n        return ret;\n      }\n\n      /**\n       * Removes an item from the beginning of array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.pop`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method shift\n       * @param {String} path Path to array.\n       * @return {any} Item that was removed.\n       * @public\n       */\n      shift(path) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let hadLength = Boolean(array.length);\n        let ret = array.shift();\n        if (hadLength) {\n          notifySplice(this, array, info.path, 0, 0, [ret]);\n        }\n        return ret;\n      }\n\n      /**\n       * Adds items onto the beginning of the array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.push`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @method unshift\n       * @param {String} path Path to array.\n       * @param {...any} var_args Items to insert info array\n       * @return {number} New length of the array.\n       * @public\n       */\n      unshift(path, ...items) {\n        let info = {};\n        let array = Polymer.Path.get(this, path, info);\n        let ret = array.unshift(...items);\n        if (items.length) {\n          notifySplice(this, array, info.path, 0, items.length, []);\n        }\n        return ret;\n      }\n\n      /**\n       * Notify that a path has changed.\n       *\n       * Example:\n       *\n       *     this.item.user.name = 'Bob';\n       *     this.notifyPath('item.user.name');\n       *\n       * @param {string} path Path that should be notified.\n       * @param {*=} value Value at the path (optional).\n       * @public\n      */\n      notifyPath(path, value) {\n        if (arguments.length == 1) {\n          // Get value if not supplied\n          let info = {};\n          value = Polymer.Path.get(this, path, info);\n          path = info.path;\n        } else if (Array.isArray(path)) {\n          // Normalize path if needed\n          path = Polymer.Path.normalize(path);\n        }\n        this._setProperty(path, value);\n      }\n\n      /**\n       * Creates a read-only accessor for the given property.\n       *\n       * To set the property, use the protected `_setProperty` API.\n       * To create a custom protected setter (e.g. `_setMyProp()` for \n       * property `myProp`), pass `true` for `protectedSetter`.\n       *\n       * Note, if the property will have other property effects, this method\n       * should be called first, before adding other effects.\n       *\n       * @param {string} property Property name\n       * @param {boolean=} protectedSetter Creates a custom protected setter\n       *   when `true`.\n       * @protected\n       */\n      _createReadOnlyProperty(property, protectedSetter) {\n        this._addPropertyEffect(property, TYPES.READ_ONLY);\n        if (protectedSetter) {\n          this['_set' + upper(property)] = function(value) {\n            this._setProperty(property, value);\n          }\n        }\n      }\n\n      /**\n       * Creates a single-property observer for the given property.\n       *\n       * @param {string} property Property name\n       * @param {string} methodName Name of observer method to call\n       * @protected\n       */\n      _createObservedProperty(property, methodName) {\n        this._addPropertyEffect(property, TYPES.OBSERVE, {\n          fn: runObserverEffect,\n          info: {\n            methodName: methodName\n          }\n        });\n      }\n\n      /**\n       * Creates a multi-property \"method observer\" based on the provided\n       * expression, which should be a string in the form of a normal Javascript\n       * function signature: `'methodName(arg1, [..., argn])'`.  Each argument\n       * should correspond to a property or path in the context of this\n       * prototype (or instance), or may be a literal string or number.\n       *\n       * @param {string} expression Method expression\n       * @protected\n       */\n      _createMethodObserver(expression) {\n        let sig = parseMethod(expression);\n        if (!sig) {\n          throw new Error(\"Malformed observer expression '\" + expression + \"'\");\n        }\n        createMethodEffect(this, sig, TYPES.OBSERVE, runMethodObserverEffect);\n      }\n\n      /**\n       * Causes the setter for the given property to dispatch `<property>-changed`\n       * events to notify of changes to the property.\n       *\n       * @param {string} property Property name\n       * @protected\n       */\n      _createNotifyingProperty(property) {\n        this._addPropertyEffect(property, TYPES.NOTIFY, {\n          fn: runNotifyEffect,\n          info: {\n            eventName: CaseMap.camelToDashCase(property) + '-changed',\n            property: property\n          }\n        });\n      }\n\n      /**\n       * Causes the setter for the given property to reflect the property value\n       * to a (dash-cased) attribute of the same name.\n       *\n       * @param {string} property Property name\n       * @protected\n       */\n      _createReflectedProperty(property) {\n        let attr = CaseMap.camelToDashCase(property);\n        if (attr[0] === '-') {\n          console.warn('Property ' + property + ' cannot be reflected to attribute ' +\n            attr + ' because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.');\n        } else {\n          this._addPropertyEffect(property, TYPES.REFLECT, {\n            fn: runReflectEffect,\n            info: {\n              attrName: attr\n            }\n          });\n        }\n      }\n\n      /**\n       * Creates a computed property whose value is set to the result of the\n       * method described by the given `expression` each time one or more\n       * arguments to the method changes.  The expression should be a string\n       * in the form of a normal Javascript function signature:\n       * `'methodName(arg1, [..., argn])'`\n       *\n       * @param {string} property Name of computed property to set\n       * @param {string} expression Method expression\n       * @protected\n       */\n      _createComputedProperty(property, expression) {\n        let sig = parseMethod(expression);\n        if (!sig) {\n          throw new Error(\"Malformed computed expression '\" + expression + \"'\");\n        }\n        createMethodEffect(this, sig, TYPES.COMPUTE, runComputedEffect, property);\n      }\n\n      // -- binding ----------------------------------------------\n\n      /**\n       * Creates \"binding\" property effects for all binding bindings\n       * in the provided template that forward host properties into DOM stamped\n       * from the template via `_stampTemplate`.\n       *\n       * @param {HTMLTemplateElement} template Template containing binding\n       *   bindings\n       * @protected\n       */\n      _bindTemplate(template) {\n        // Clear any existing propagation effects inherited from superClass\n        this[TYPES.PROPAGATE] = {};\n        let notes = this._parseTemplateAnnotations(template);\n        processAnnotations(notes);\n        for (let i=0, note; (i<notes.length) && (note=notes[i]); i++)  {\n          // where to find the node in the concretized list\n          let b$ = note.bindings;\n          for (let j=0, binding; (j<b$.length) && (binding=b$[j]); j++) {\n            if (shouldAddListener(binding)) {\n              addAnnotatedListener(this, i, binding.name,\n                binding.parts[0].value,\n                binding.parts[0].event,\n                binding.parts[0].negate);\n            }\n            addBindingEffect(this, binding, i);\n          }\n        }\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n  'use strict';\n\n  var StyleGather = {\n    MODULE_STYLES_SELECTOR: 'style, link[rel=import][type~=css], template',\n    INCLUDE_ATTR: 'include',\n    _importModule(moduleId) {\n      if (!Polymer.DomModule) {\n        return null;\n      }\n      return Polymer.DomModule.import(moduleId);\n    },\n    cssFromModules(moduleIds, warnIfNotFound) {\n      var modules = moduleIds.trim().split(' ');\n      var cssText = '';\n      for (var i=0; i < modules.length; i++) {\n        cssText += this.cssFromModule(modules[i], warnIfNotFound);\n      }\n      return cssText;\n    },\n\n    // returns cssText of styles in a given module; also un-applies any\n    // styles that apply to the document.\n    cssFromModule(moduleId, warnIfNotFound) {\n      var m = this._importModule(moduleId);\n      if (m && !m._cssText) {\n        m._cssText = this.cssFromElement(m);\n      }\n      if (!m && warnIfNotFound) {\n        console.warn('Could not find style data in module named', moduleId);\n      }\n      return m && m._cssText || '';\n    },\n\n    // support lots of ways to discover css...\n    cssFromElement(element) {\n      var cssText = '';\n      // if element is a template, get content from its .content\n      var content = element.content || element;\n      var e$ = content.querySelectorAll(this.MODULE_STYLES_SELECTOR);\n      for (var i=0, e; i < e$.length; i++) {\n        e = e$[i];\n        // look inside templates for elements\n        if (e.localName === 'template') {\n          cssText += this.cssFromElement(e);\n        } else {\n          // style elements inside dom-modules will apply to the main document\n          // we don't want this, so we remove them here.\n          if (e.localName === 'style') {\n            var include = e.getAttribute(this.INCLUDE_ATTR);\n            // now support module refs on 'styling' elements\n            if (include) {\n              cssText += this.cssFromModules(include, true);\n            }\n            // get style element applied to main doc via HTMLImports polyfill\n            e = e.__appliedElement || e;\n            e.parentNode.removeChild(e);\n            cssText += Polymer.ResolveUrl.resolveCss(e.textContent, element.ownerDocument);\n            // it's an import, assume this is a text file of css content.\n            // TODO(sorvell): plan is to deprecate this way to get styles;\n            // remember to add deprecation warning when this is done.\n          } else if (e.import && e.import.body) {\n            cssText += Polymer.ResolveUrl.resolveCss(e.import.body.textContent, e.import);\n          }\n        }\n      }\n      return cssText;\n    }\n  };\n\n  Polymer.StyleGather = StyleGather;\n})();\n(function() {\n    'use strict';\n\n    var StyleUtil = {\n\n      isTargetedBuild: function(buildType) {\n        return (!window.ShadyDOM || !ShadyDOM.inUse) ?\n          buildType === 'shadow' : buildType === 'shady';\n      },\n\n      cssBuildTypeForModule: function (module) {\n        var dm = Polymer.DomModule.import(module);\n        if (dm) {\n          return this.getCssBuildType(dm);\n        }\n      },\n\n      getCssBuildType: function(element) {\n        return element.getAttribute('css-build');\n      }\n\n    };\n\n    Polymer.StyleUtil = StyleUtil;\n\n  })();\n(function() {\n\n  'use strict';\n\n  let caseMap = Polymer.CaseMap;\n\n  // Same as Polymer.Utils.mixin, but upgrades shorthand type\n  // syntax to { type: Type }\n  function flattenProperties(flattenedProps, props) {\n    for (let p in props) {\n      let o = props[p];\n      if (typeof o == 'function') {\n        o = { type: o };\n      }\n      flattenedProps[p] = o;\n    }\n    return flattenedProps;\n  }\n\n  Polymer.ElementMixin = Polymer.Utils.cachingMixin(function(base) {\n\n    return class PolymerElement extends Polymer.PropertyEffects(base) {\n\n      // returns the config object on specifically on `this` class (not super)\n      // config is used for:\n      // (1) super chain mixes togther to make `flattenedProperties` which is\n      // then used to make observedAttributes and set property defaults\n      // (2) properties effects and observers are created from it at `finalize` time.\n      static get _ownConfig() {\n        if (!this.hasOwnProperty('__ownConfig')) {\n          this.__ownConfig = this.hasOwnProperty('config') ? this.config : {};\n        }\n        return this.__ownConfig;\n      }\n\n      // a flattened list of properties mixed together from the chain of all\n      // constructor's `config.properties`\n      // This list is used to create\n      // (1) observedAttributes,\n      // (2) element default values\n      static get _flattenedProperties() {\n        if (!this.hasOwnProperty('__flattenedProperties')) {\n          // TODO(sorvell): consider optimizing; shorthand type support requires\n          // an extra loop to upgrade shorthand property info to longhand\n          this.__flattenedProperties = flattenProperties({}, this._ownConfig.properties);\n          let superCtor = Object.getPrototypeOf(this.prototype).constructor;\n          if (superCtor.prototype instanceof PolymerElement) {\n            this.__flattenedProperties = flattenProperties(\n              Object.create(superCtor._flattenedProperties),\n              this.__flattenedProperties);\n          }\n        }\n        return this.__flattenedProperties;\n      }\n\n      static get observedAttributes() {\n        if (!this.hasOwnProperty('_observedAttributes')) {\n          // observedAttributes must be finalized at registration time\n          this._observedAttributes = this._addPropertiesToAttributes(\n            this._flattenedProperties, []);\n        }\n        return this._observedAttributes;\n      }\n\n      static _addPropertiesToAttributes(properties, list) {\n        for (let prop in properties) {\n          list.push(Polymer.CaseMap.camelToDashCase(prop));\n        }\n        return list;\n      }\n\n      static get finalized() {\n        return this.hasOwnProperty('_finalized');\n      }\n\n      static set finalized(value) {\n        this._finalized = value;\n      }\n\n      // TODO(sorvell): need to work on public api surrouding `finalize`.\n      // Due to meta-programming, it's awkward to make a subclass impl of this.\n      // However, a user might want to call `finalize` prior to define to do\n      // this work eagerly. Need to also decide on `finalizeConfig(config)` and\n      // `finalizeTemplate(template)`. Both are public but have simiarly\n      // awkward subclassing characteristics.\n      static finalize() {\n        let proto = this.prototype;\n        if (!this.finalized) {\n\n          let superProto = Object.getPrototypeOf(proto);\n          let superCtor = superProto && superProto.constructor;\n          if (superCtor.prototype instanceof PolymerElement) {\n            superCtor.finalize();\n          }\n          this.finalized = true;\n          if (this.hasOwnProperty('is') && this.is) {\n            Polymer.telemetry.register(proto);\n          }\n          let config = this._ownConfig;\n          if (config) {\n            this._finalizeConfig(config);\n          }\n          if (this.template) {\n            let template = this.template.cloneNode(true);\n            this._finalizeTemplate(template);\n          }\n        }\n      }\n\n      static _finalizeConfig(config) {\n        if (config.properties) {\n          // process properties\n          for (let p in config.properties) {\n            this.prototype._createPropertyFromConfig(p, config.properties[p]);\n          }\n        }\n        if (config.observers) {\n          for (let i=0; i < config.observers.length; i++) {\n            this.prototype._createMethodObserver(config.observers[i]);\n          }\n        }\n      }\n\n      static get template() {\n        if (!this.hasOwnProperty('_template')) {\n          // TODO(sorvell): support more ways to acquire template.\n          // this requires `is` on constructor...\n          this._template = Polymer.DomModule.import(this.is, 'template') ||\n            // note: implemented so a subclass can retrieve the super\n            // template; call the super impl this way so that `this` points\n            // to the superclass.\n            Object.getPrototypeOf(this.prototype).constructor.template;\n        }\n        return this._template;\n      }\n\n      static _finalizeTemplate(template) {\n        // support `include=\"module-name\"`\n        let cssText = Polymer.StyleGather.cssFromElement(template);\n        if (cssText) {\n          let style = document.createElement('style');\n          style.textContent = cssText;\n          template.content.insertBefore(style, template.content.firstChild);\n        }\n        if (window.ShadyCSS) {\n          window.ShadyCSS.prepareTemplate(template, this.is, this.extends);\n        }\n        var proto = this.prototype;\n        this.prototype._bindTemplate(template);\n        proto._template = template;\n      }\n\n      constructor() {\n        super();\n        // note: `this.constructor.prototype` is wrong in Safari so make sure to\n        // use `__proto__`\n        Polymer.telemetry.instanceCount++;\n        // add self to host's pending client list\n        hostStack.registerHost(this);\n      }\n\n      _initializeProperties() {\n        if (!this.constructor.finalized) {\n          this.constructor.finalize();\n        }\n        super._initializeProperties();\n        // apply property defaults...\n        let p$ = this.constructor._flattenedProperties;\n        for (let p in p$) {\n          let info = p$[p];\n          if (('value' in info) && !this._isPropertyPending(p)) {\n            var value = typeof info.value == 'function' ?\n              info.value.call(this) :\n              info.value;\n            if (this._hasReadOnlyEffect(p)) {\n              this._setProperty(p, value)\n            } else {\n              this[p] = value;\n            }\n          }\n        }\n      }\n\n      /**\n       * Creates effects for a property.\n       *\n       * Example:\n       *\n       *     this._createPropertyFromConfig('foo', {\n       *       type: String, value: 'foo', reflectToAttribute: true\n       *     });\n       *\n       * Note, once a property has been set to\n       * `readOnly`, `computed`, `reflectToAttribute`, or `notify`\n       * these values may not be changed. For example, a subclass cannot\n       * alter these settings. However, additional `observers` may be added\n       * by subclasses.\n       *\n       * @param {string} name Name of the property.\n       * @param {*=} info Info object from which to create property effects.\n       * Supported keys:\n       *\n       * * type: {function} type to which an attribute matching the property\n       * is deserialized. Note the property is camel-cased from a dash-cased\n       * attribute. For example, 'foo-bar' attribute is dersialized to a\n       * property named 'fooBar'.\n       *\n       * * readOnly: {boolean} creates a readOnly property and\n       * makes a private setter for the private of the form '_setFoo' for a\n       * property 'foo',\n       *\n       * * computed: {string} creates a computed property. A computed property\n       * also automatically is set to `readOnly: true`. The value is calculated\n       * by running a method and arguments parsed from the given string. For\n       * example 'compute(foo)' will compute a given property when the\n       * 'foo' property changes by executing the 'compute' method. This method\n       * must return the computed value.\n       *\n       * * reflectToAttriute: {boolean} If true, the property value is reflected\n       * to an attribute of the same name. Note, the attribute is dash-cased\n       * so a property named 'fooBar' is reflected as 'foo-bar'.\n       *\n       * * notify: {boolean} sends a non-bubbling notification event when\n       * the property changes. For example, a property named 'foo' sends an\n       * event named 'foo-changed' with `event.detail` set to the value of\n       * the property.\n       *\n       * * observer: {string} name of a method that runs when the property\n       * changes. The arguments of the method are (value, previousValue).\n       *\n      */\n      /* TODO(sorvell): Users may want control over modifying property\n       effects via subclassing. For example, a user might want to make a\n       reflectToAttribute property not do so in a subclass. We've chosen to\n       disable this because it leads to additional complication.\n       For example, a readOnly effect generates a special setter. If a subclass\n       disables the effect, the setter would fail unexpectedly.\n       Based on feedback, we may want to try to make effects more malleable\n       and/or provide an advanced api for manipulating them.\n       Also consider adding warnings when an effect cannot be changed.\n      */\n      _createPropertyFromConfig(name, info) {\n        // computed forces readOnly...\n        if (info.computed) {\n          info.readOnly = true;\n        }\n        // Note, since all computed properties are readOnly, this prevents\n        // adding additional computed property effects (which leads to a confusing\n        // setup where multiple triggers for setting a property)\n        // While we do have `hasComputedEffect` this is set on the property's\n        // dependencies rather than itself.\n        if (info.computed  && !this._hasReadOnlyEffect(name)) {\n          this._createComputedProperty(name, info.computed);\n        }\n        if (info.readOnly && !this._hasReadOnlyEffect(name)) {\n          this._createReadOnlyProperty(name, !info.computed);\n        }\n        if (info.reflectToAttribute && !this._hasReflectEffect(name)) {\n          this._createReflectedProperty(name);\n        }\n        if (info.notify && !this._hasNotifyEffect(name)) {\n          this._createNotifyingProperty(name);\n        }\n        // always add observer\n        if (info.observer) {\n          this._createObservedProperty(name, info.observer);\n        }\n      }\n\n      // reserved for canonical behavior\n      connectedCallback() {\n        if (hostStack.isEmpty()) {\n          this._flushProperties();\n          this.updateStyles();\n        }\n      }\n\n      disconnectedCallback() {}\n\n      ready() {\n        super.ready();\n        if (this._template) {\n          hostStack.beginHosting(this);\n          this.root = this._stampTemplate(this._template);\n          this._flushProperties();\n          this.root = this._attachDom(this.root);\n          hostStack.endHosting(this);\n        } else {\n          this.root = this;\n          this._flushProperties();\n        }\n      }\n\n      /**\n       * Attach an element's stamped dom to itself. By default,\n       * this method creates a `shadowRoot` and adds the dom to it.\n       * However, this method may be overridden to allow an element\n       * to put its dom in another location.\n       *\n       * @method _attachDom\n       * @param {NodeList} dom to attach to the element.\n       * @returns {Node} node to which the dom has been attached.\n       */\n      _attachDom(dom) {\n        if (this.attachShadow) {\n          if (dom) {\n            if (!this.shadowRoot) {\n              this.attachShadow({mode: 'open'});\n            }\n            this.shadowRoot.appendChild(dom);\n            return this.shadowRoot;\n          }\n        } else {\n          throw new Error(`ShadowDOM not available. ` +\n            // BREAKME(sorvell): move to developer conditional when supported.\n           `Polymer.Element can\n              create dom as children instead of in ShadowDOM by setting\n              \\`this.root = this;\\` before \\`ready\\`.`);\n        }\n      }\n\n      attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n          let property = caseMap.dashToCamelCase(name);\n          let type = this.constructor._flattenedProperties[property].type;\n          if (!this._hasReadOnlyEffect(property)) {\n            this._attributeToProperty(name, value, type);\n          }\n        }\n      }\n\n      updateStyles(properties) {\n        if (window.ShadyCSS) {\n          ShadyCSS.applyStyle(this, properties);\n        }\n      }\n\n      /**\n       * Rewrites a given URL relative to the original location of the document\n       * containing the `dom-module` for this element.  This method will return\n       * the same URL before and after vulcanization.\n       *\n       * @method resolveUrl\n       * @param {string} url URL to resolve.\n       * @return {string} Rewritten URL relative to the import\n       */\n      resolveUrl(url) {\n        var module = Polymer.DomModule.import(this.constructor.is);\n        var root = '';\n        if (module) {\n          var assetPath = module.getAttribute('assetpath') || '';\n          root = Polymer.ResolveUrl.resolveUrl(\n            assetPath, module.ownerDocument.baseURI);\n        }\n        return Polymer.ResolveUrl.resolveUrl(url, root);\n      }\n\n    }\n\n  });\n\n  let hostStack = {\n\n    stack: [],\n\n    isEmpty() {\n      return !this.stack.length;\n    },\n\n    registerHost(inst) {\n      if (this.stack.length) {\n        let host = this.stack[this.stack.length-1];\n        host._enqueueClient(inst);\n      }\n    },\n\n    beginHosting(inst) {\n      this.stack.push(inst);\n    },\n\n    endHosting(inst) {\n      let stackLen = this.stack.length;\n      if (stackLen && this.stack[stackLen-1] == inst) {\n        this.stack.pop();\n      }\n    }\n\n  }\n\n  // telemetry\n  Polymer.telemetry = {\n    instanceCount: 0,\n    registrations: [],\n    _regLog: function(prototype) {\n      console.log('[' + prototype.is + ']: registered')\n    },\n    register: function(prototype) {\n      this.registrations.push(prototype);\n      Polymer.log && this._regLog(prototype);\n    },\n    dumpRegistrations: function() {\n      this.registrations.forEach(this._regLog);\n    }\n  };\n\n  Polymer.Element = Polymer.ElementMixin(HTMLElement);\n\n  Polymer.updateStyles = function(props) {\n    if (window.ShadyCSS) {\n      ShadyCSS.updateStyles(props);\n    }\n  };\n\n})();\n(function() {\n\n    // TODO(sorvell): There is an implicit depency on `Polymer.Class` here\n    // that would be good to resolve. It's because (elements/class.html)\n    // because this file specially handles `Polymer`.\n\n    // Polymer is a Function, but of course this is also an Object, so we\n    // hang various other objects off of Polymer.*\n\n    var userPolymer = window.Polymer;\n\n    window.Polymer = function(info) {\n      // if input is a `class` (aka a function with a prototype), use the prototype\n      // remember that the `constructor` will never be called\n      var klass;\n      if (typeof info === 'function') {\n        klass = info;\n      } else {\n        klass = Polymer.Class(info);\n      }\n      var options = {};\n      if (klass.extends) {\n        options.extends = klass.extends;\n      }\n      customElements.define(klass.is, klass, options);\n      return klass;\n    };\n\n    if (userPolymer) {\n      for (var i in userPolymer) {\n        Polymer[i] = userPolymer[i];\n      }\n    }\n\n  })();\n(function() {\n\n  'use strict';\n\n  Polymer.Async = {\n\n    _currVal: 0,\n    _lastVal: 0,\n    _callbacks: [],\n    _twiddleContent: 0,\n    _twiddle: document.createTextNode(''),\n\n    run: function (callback, waitTime) {\n      if (waitTime > 0) {\n        return ~setTimeout(callback, waitTime);\n      } else {\n        this._twiddle.textContent = this._twiddleContent++;\n        this._callbacks.push(callback);\n        return this._currVal++;\n      }\n    },\n\n    cancel: function(handle) {\n      if (handle < 0) {\n        clearTimeout(~handle);\n      } else {\n        var idx = handle - this._lastVal;\n        if (idx >= 0) {\n          if (!this._callbacks[idx]) {\n            throw 'invalid async handle: ' + handle;\n          }\n          this._callbacks[idx] = null;\n        }\n      }\n    },\n\n    _atEndOfMicrotask: function() {\n      var len = this._callbacks.length;\n      for (var i=0; i<len; i++) {\n        var cb = this._callbacks[i];\n        if (cb) {\n          try {\n            cb();\n          } catch(e) {\n            // Clear queue up to this point & start over after throwing\n            i++;\n            this._callbacks.splice(0, i);\n            this._lastVal += i;\n            this._twiddle.textContent = this._twiddleContent++;\n            throw e;\n          }\n        }\n      }\n      this._callbacks.splice(0, len);\n      this._lastVal += len;\n    },\n\n    flush: function() {\n      this.observer.takeRecords();\n      this._atEndOfMicrotask();\n    }\n  };\n\n  Polymer.Async.observer = new window.MutationObserver(function() {\n    Polymer.Async._atEndOfMicrotask();\n  });\n  Polymer.Async.observer.observe(Polymer.Async._twiddle, {characterData: true});\n\n})();\nPolymer.Debouncer = function Debouncer(context) {\n  this.context = context;\n  var self = this;\n  this.boundFlush = function() {\n    self.flush();\n  };\n};\n\nPolymer.Utils.mixin(Polymer.Debouncer.prototype, {\n\n  go: function(callback, wait) {\n    var h;\n    this.finish = function() {\n      Polymer.Async.cancel(h);\n    };\n    h = Polymer.Async.run(this.boundFlush, wait);\n    this.callback = callback;\n  },\n\n  cancel: function() {\n    if (this.finish) {\n      this.finish();\n      this.finish = null;\n    }\n  },\n\n  flush: function() {\n    if (this.finish) {\n      this.cancel();\n      this.callback.call(this.context);\n    }\n  },\n\n  isActive: function() {\n    return Boolean(this.finish);\n  }\n\n});\n\nPolymer.Debouncer.debounce = function(debouncer, callback, wait, context) {\n  context = context || this;\n  if (debouncer) {\n    debouncer.cancel();\n  } else {\n    debouncer = new Polymer.Debouncer(context);\n  }\n  debouncer.go(callback, wait);\n  return debouncer;\n};\n(function() {\n\n  'use strict';\n\n  // let DIRECTION_MAP = {\n  //   x: 'pan-x',\n  //   y: 'pan-y',\n  //   none: 'none',\n  //   all: 'auto'\n  // };\n\n  let wrap = function(n) { return n; };\n\n  // detect native touch action support\n  let HAS_NATIVE_TA = typeof document.head.style.touchAction === 'string';\n  let GESTURE_KEY = '__polymerGestures';\n  let HANDLED_OBJ = '__polymerGesturesHandled';\n  let TOUCH_ACTION = '__polymerGesturesTouchAction';\n  // radius for tap and track\n  let TAP_DISTANCE = 25;\n  let TRACK_DISTANCE = 5;\n  // number of last N track positions to keep\n  let TRACK_LENGTH = 2;\n\n  // Disabling \"mouse\" handlers for 2500ms is enough\n  let MOUSE_TIMEOUT = 2500;\n  let MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'click'];\n  // an array of bitmask values for mapping MouseEvent.which to MouseEvent.buttons\n  let MOUSE_WHICH_TO_BUTTONS = [0, 1, 4, 2];\n  let MOUSE_HAS_BUTTONS = (function() {\n    try {\n      return new MouseEvent('test', {buttons: 1}).buttons === 1;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  // Check for touch-only devices\n  let IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);\n\n  // touch will make synthetic mouse events\n  // `preventDefault` on touchend will cancel them,\n  // but this breaks `<input>` focus and link clicks\n  // disable mouse handlers for MOUSE_TIMEOUT ms after\n  // a touchend to ignore synthetic mouse events\n  let mouseCanceller = function(mouseEvent) {\n    // Check for sourceCapabilities, used to distinguish synthetic events\n    // if mouseEvent did not come from a device that fires touch events,\n    // it was made by a real mouse and should be counted\n    // http://wicg.github.io/InputDeviceCapabilities/#dom-inputdevicecapabilities-firestouchevents\n    let sc = mouseEvent.sourceCapabilities;\n    if (sc && !sc.firesTouchEvents) {\n      return;\n    }\n    // skip synthetic mouse events\n    mouseEvent[HANDLED_OBJ] = {skip: true};\n    // disable \"ghost clicks\"\n    if (mouseEvent.type === 'click') {\n      let path = mouseEvent.composedPath && mouseEvent.composedPath();\n      if (path) {\n        for (let i = 0; i < path.length; i++) {\n          if (path[i] === POINTERSTATE.mouse.target) {\n            return;\n          }\n        }\n      }\n      mouseEvent.preventDefault();\n      mouseEvent.stopPropagation();\n    }\n  };\n\n  function setupTeardownMouseCanceller(setup) {\n    let events = IS_TOUCH_ONLY ? ['click'] : MOUSE_EVENTS;\n    for (let i = 0, en; i < events.length; i++) {\n      en = events[i];\n      if (setup) {\n        document.addEventListener(en, mouseCanceller, true);\n      } else {\n        document.removeEventListener(en, mouseCanceller, true);\n      }\n    }\n  }\n\n  function ignoreMouse() {\n    if (!POINTERSTATE.mouse.mouseIgnoreJob) {\n      setupTeardownMouseCanceller(true);\n    }\n    let unset = function() {\n      setupTeardownMouseCanceller();\n      POINTERSTATE.mouse.target = null;\n      POINTERSTATE.mouse.mouseIgnoreJob = null;\n    };\n    POINTERSTATE.mouse.mouseIgnoreJob = Polymer.Debouncer.debounce(\n      POINTERSTATE.mouse.mouseIgnoreJob, unset, MOUSE_TIMEOUT);\n  }\n\n  function hasLeftMouseButton(ev) {\n    let type = ev.type;\n    // exit early if the event is not a mouse event\n    if (MOUSE_EVENTS.indexOf(type) === -1) {\n      return false;\n    }\n    // ev.button is not reliable for mousemove (0 is overloaded as both left button and no buttons)\n    // instead we use ev.buttons (bitmask of buttons) or fall back to ev.which (deprecated, 0 for no buttons, 1 for left button)\n    if (type === 'mousemove') {\n      // allow undefined for testing events\n      let buttons = ev.buttons === undefined ? 1 : ev.buttons;\n      if ((ev instanceof window.MouseEvent) && !MOUSE_HAS_BUTTONS) {\n        buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;\n      }\n      // buttons is a bitmask, check that the left button bit is set (1)\n      return Boolean(buttons & 1);\n    } else {\n      // allow undefined for testing events\n      let button = ev.button === undefined ? 0 : ev.button;\n      // ev.button is 0 in mousedown/mouseup/click for left button activation\n      return button === 0;\n    }\n  }\n\n  function isSyntheticClick(ev) {\n    if (ev.type === 'click') {\n      // ev.detail is 0 for HTMLElement.click in most browsers\n      if (ev.detail === 0) {\n        return true;\n      }\n      // in the worst case, check that the x/y position of the click is within\n      // the bounding box of the target of the event\n      // Thanks IE 10 >:(\n      let t = gestures.findOriginalTarget(ev);\n      let bcr = t.getBoundingClientRect();\n      // use page x/y to account for scrolling\n      let x = ev.pageX, y = ev.pageY;\n      // ev is a synthetic click if the position is outside the bounding box of the target\n      return !((x >= bcr.left && x <= bcr.right) && (y >= bcr.top && y <= bcr.bottom));\n    }\n    return false;\n  }\n\n  let POINTERSTATE = {\n    mouse: {\n      target: null,\n      mouseIgnoreJob: null\n    },\n    touch: {\n      x: 0,\n      y: 0,\n      id: -1,\n      scrollDecided: false\n    }\n  };\n\n  function firstTouchAction(ev) {\n    let ta = 'auto';\n    let path = ev.composedPath && ev.composedPath();\n    if (path) {\n      for (let i = 0, n; i < path.length; i++) {\n        n = path[i];\n        if (n[TOUCH_ACTION]) {\n          ta = n[TOUCH_ACTION];\n          break;\n        }\n      }\n    }\n    return ta;\n  }\n\n  function trackDocument(stateObj, movefn, upfn) {\n    stateObj.movefn = movefn;\n    stateObj.upfn = upfn;\n    document.addEventListener('mousemove', movefn);\n    document.addEventListener('mouseup', upfn);\n  }\n\n  function untrackDocument(stateObj) {\n    document.removeEventListener('mousemove', stateObj.movefn);\n    document.removeEventListener('mouseup', stateObj.upfn);\n    stateObj.movefn = null;\n    stateObj.upfn = null;\n  }\n\n  let gestures = {\n    gestures: {},\n    recognizers: [],\n\n    deepTargetFind: function(x, y) {\n      let node = document.elementFromPoint(x, y);\n      let next = node;\n      // this code path is only taken when native ShadowDOM is used\n      // if there is a shadowroot, it may have a node at x/y\n      // if there is not a shadowroot, exit the loop\n      while (next && next.shadowRoot) {\n        // if there is a node at x/y in the shadowroot, look deeper\n        next = next.shadowRoot.elementFromPoint(x, y);\n        if (next) {\n          node = next;\n        }\n      }\n      return node;\n    },\n    // a cheaper check than ev.composedPath()[0];\n    findOriginalTarget: function(ev) {\n      // shadowdom\n      if (ev.composedPath) {\n        return ev.composedPath()[0];\n      }\n      // shadydom\n      return ev.target;\n    },\n    handleNative: function(ev) {\n      let handled;\n      let type = ev.type;\n      let node = wrap(ev.currentTarget);\n      let gobj = node[GESTURE_KEY];\n      if (!gobj) {\n        return;\n      }\n      let gs = gobj[type];\n      if (!gs) {\n        return;\n      }\n      if (!ev[HANDLED_OBJ]) {\n        ev[HANDLED_OBJ] = {};\n        if (type.slice(0, 5) === 'touch') {\n          let t = ev.changedTouches[0];\n          if (type === 'touchstart') {\n            // only handle the first finger\n            if (ev.touches.length === 1) {\n              POINTERSTATE.touch.id = t.identifier;\n            }\n          }\n          if (POINTERSTATE.touch.id !== t.identifier) {\n            return;\n          }\n          if (!HAS_NATIVE_TA) {\n            if (type === 'touchstart' || type === 'touchmove') {\n              gestures.handleTouchAction(ev);\n            }\n          }\n          if (type === 'touchend') {\n            let rootTarget = ev.composedPath ? ev.composedPath()[0] : ev.target;\n            POINTERSTATE.mouse.target = rootTarget;\n            // ignore syntethic mouse events after a touch\n            ignoreMouse();\n          }\n        }\n      }\n      handled = ev[HANDLED_OBJ];\n      // used to ignore synthetic mouse events\n      if (handled.skip) {\n        return;\n      }\n      let recognizers = gestures.recognizers;\n      // reset recognizer state\n      for (let i = 0, r; i < recognizers.length; i++) {\n        r = recognizers[i];\n        if (gs[r.name] && !handled[r.name]) {\n          if (r.flow && r.flow.start.indexOf(ev.type) > -1 && r.reset) {\n            r.reset();\n          }\n        }\n      }\n      // enforce gesture recognizer order\n      for (let i = 0, r; i < recognizers.length; i++) {\n        r = recognizers[i];\n        if (gs[r.name] && !handled[r.name]) {\n          handled[r.name] = true;\n          r[type](ev);\n        }\n      }\n    },\n\n    handleTouchAction: function(ev) {\n      let t = ev.changedTouches[0];\n      let type = ev.type;\n      if (type === 'touchstart') {\n        POINTERSTATE.touch.x = t.clientX;\n        POINTERSTATE.touch.y = t.clientY;\n        POINTERSTATE.touch.scrollDecided = false;\n      } else if (type === 'touchmove') {\n        if (POINTERSTATE.touch.scrollDecided) {\n          return;\n        }\n        POINTERSTATE.touch.scrollDecided = true;\n        let ta = firstTouchAction(ev);\n        let prevent = false;\n        let dx = Math.abs(POINTERSTATE.touch.x - t.clientX);\n        let dy = Math.abs(POINTERSTATE.touch.y - t.clientY);\n        if (!ev.cancelable) {\n          // scrolling is happening\n        } else if (ta === 'none') {\n          prevent = true;\n        } else if (ta === 'pan-x') {\n          prevent = dy > dx;\n        } else if (ta === 'pan-y') {\n          prevent = dx > dy;\n        }\n        if (prevent) {\n          ev.preventDefault();\n        } else {\n          gestures.prevent('track');\n        }\n      }\n    },\n\n    addListener: function(node, evType, handler) {\n      if (this.gestures[evType]) {\n        this.add(node, evType, handler);\n        return true;\n      }\n    },\n\n    removeListener: function(node, evType, handler) {\n      if (this.gestures[evType]) {\n        this.remove(node, evType, handler);\n        return true;\n      }\n    },\n\n    // automate the event listeners for the native events\n    add: function(node, evType, handler) {\n      // SD polyfill: handle case where `node` is unwrapped, like `document`\n      node = wrap(node);\n      let recognizer = this.gestures[evType];\n      let deps = recognizer.deps;\n      let name = recognizer.name;\n      let gobj = node[GESTURE_KEY];\n      if (!gobj) {\n        node[GESTURE_KEY] = gobj = {};\n      }\n      for (let i = 0, dep, gd; i < deps.length; i++) {\n        dep = deps[i];\n        // don't add mouse handlers on iOS because they cause gray selection overlays\n        if (IS_TOUCH_ONLY && MOUSE_EVENTS.indexOf(dep) > -1 && dep !== 'click') {\n          continue;\n        }\n        gd = gobj[dep];\n        if (!gd) {\n          gobj[dep] = gd = {_count: 0};\n        }\n        if (gd._count === 0) {\n          node.addEventListener(dep, this.handleNative);\n        }\n        gd[name] = (gd[name] || 0) + 1;\n        gd._count = (gd._count || 0) + 1;\n      }\n      node.addEventListener(evType, handler);\n      if (recognizer.touchAction) {\n        this.setTouchAction(node, recognizer.touchAction);\n      }\n    },\n\n    // automate event listener removal for native events\n    remove: function(node, evType, handler) {\n      // SD polyfill: handle case where `node` is unwrapped, like `document`\n      node = wrap(node);\n      let recognizer = this.gestures[evType];\n      let deps = recognizer.deps;\n      let name = recognizer.name;\n      let gobj = node[GESTURE_KEY];\n      if (gobj) {\n        for (let i = 0, dep, gd; i < deps.length; i++) {\n          dep = deps[i];\n          gd = gobj[dep];\n          if (gd && gd[name]) {\n            gd[name] = (gd[name] || 1) - 1;\n            gd._count = (gd._count || 1) - 1;\n            if (gd._count === 0) {\n              node.removeEventListener(dep, this.handleNative);\n            }\n          }\n        }\n      }\n      node.removeEventListener(evType, handler);\n    },\n\n    register: function(recog) {\n      this.recognizers.push(recog);\n      for (let i = 0; i < recog.emits.length; i++) {\n        this.gestures[recog.emits[i]] = recog;\n      }\n    },\n\n    findRecognizerByEvent: function(evName) {\n      for (let i = 0, r; i < this.recognizers.length; i++) {\n        r = this.recognizers[i];\n        for (let j = 0, n; j < r.emits.length; j++) {\n          n = r.emits[j];\n          if (n === evName) {\n            return r;\n          }\n        }\n      }\n      return null;\n    },\n\n    // set scrolling direction on node to check later on first move\n    // must call this before adding event listeners!\n    setTouchAction: function(node, value) {\n      if (HAS_NATIVE_TA) {\n        node.style.touchAction = value;\n      }\n      node[TOUCH_ACTION] = value;\n    },\n\n    fire: function(target, type, detail) {\n      let ev = new Event(type, { bubbles: true, cancelable: true, composed: true });\n      ev.detail = detail;\n      target.dispatchEvent(ev);\n      // forward `preventDefault` in a clean way\n      if (ev.defaultPrevented) {\n        let preventer = detail.preventer || detail.sourceEvent;\n        if (preventer && preventer.preventDefault) {\n          preventer.preventDefault();\n        }\n      }\n    },\n\n    prevent: function(evName) {\n      let recognizer = this.findRecognizerByEvent(evName);\n      if (recognizer.info) {\n        recognizer.info.prevent = true;\n      }\n    },\n\n    /**\n     * Reset the 2500ms timeout on processing mouse input after detecting touch input.\n     *\n     * Touch inputs create synthesized mouse inputs anywhere from 0 to 2000ms after the touch.\n     * This method should only be called during testing with simulated touch inputs.\n     * Calling this method in production may cause duplicate taps or other gestures.\n     *\n     * @method resetMouseCanceller\n     */\n    resetMouseCanceller: function() {\n      if (POINTERSTATE.mouse.mouseIgnoreJob) {\n        POINTERSTATE.mouse.mouseIgnoreJob.flush();\n      }\n    }\n  };\n\n  gestures.register({\n    name: 'downup',\n    deps: ['mousedown', 'touchstart', 'touchend'],\n    flow: {\n      start: ['mousedown', 'touchstart'],\n      end: ['mouseup', 'touchend']\n    },\n    emits: ['down', 'up'],\n\n    info: {\n      movefn: null,\n      upfn: null\n    },\n\n    reset: function() {\n      untrackDocument(this.info);\n    },\n\n    mousedown: function(e) {\n      if (!hasLeftMouseButton(e)) {\n        return;\n      }\n      let t = gestures.findOriginalTarget(e);\n      let self = this;\n      let movefn = function movefn(e) {\n        if (!hasLeftMouseButton(e)) {\n          self.fire('up', t, e);\n          untrackDocument(self.info);\n        }\n      };\n      let upfn = function upfn(e) {\n        if (hasLeftMouseButton(e)) {\n          self.fire('up', t, e);\n        }\n        untrackDocument(self.info);\n      };\n      trackDocument(this.info, movefn, upfn);\n      this.fire('down', t, e);\n    },\n    touchstart: function(e) {\n      this.fire('down', gestures.findOriginalTarget(e), e.changedTouches[0], e);\n    },\n    touchend: function(e) {\n      this.fire('up', gestures.findOriginalTarget(e), e.changedTouches[0], e);\n    },\n    fire: function(type, target, event, preventer) {\n      gestures.fire(target, type, {\n        x: event.clientX,\n        y: event.clientY,\n        sourceEvent: event,\n        preventer: preventer,\n        prevent: function(e) {\n          return gestures.prevent(e);\n        }\n      });\n    }\n  });\n\n  gestures.register({\n    name: 'track',\n    touchAction: 'none',\n    deps: ['mousedown', 'touchstart', 'touchmove', 'touchend'],\n    flow: {\n      start: ['mousedown', 'touchstart'],\n      end: ['mouseup', 'touchend']\n    },\n    emits: ['track'],\n\n    info: {\n      x: 0,\n      y: 0,\n      state: 'start',\n      started: false,\n      moves: [],\n      addMove: function(move) {\n        if (this.moves.length > TRACK_LENGTH) {\n          this.moves.shift();\n        }\n        this.moves.push(move);\n      },\n      movefn: null,\n      upfn: null,\n      prevent: false\n    },\n\n    reset: function() {\n      this.info.state = 'start';\n      this.info.started = false;\n      this.info.moves = [];\n      this.info.x = 0;\n      this.info.y = 0;\n      this.info.prevent = false;\n      untrackDocument(this.info);\n    },\n\n    hasMovedEnough: function(x, y) {\n      if (this.info.prevent) {\n        return false;\n      }\n      if (this.info.started) {\n        return true;\n      }\n      let dx = Math.abs(this.info.x - x);\n      let dy = Math.abs(this.info.y - y);\n      return (dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE);\n    },\n\n    mousedown: function(e) {\n      if (!hasLeftMouseButton(e)) {\n        return;\n      }\n      let t = gestures.findOriginalTarget(e);\n      let self = this;\n      let movefn = function movefn(e) {\n        let x = e.clientX, y = e.clientY;\n        if (self.hasMovedEnough(x, y)) {\n          // first move is 'start', subsequent moves are 'move', mouseup is 'end'\n          self.info.state = self.info.started ? (e.type === 'mouseup' ? 'end' : 'track') : 'start';\n          if (self.info.state === 'start') {\n            // if and only if tracking, always prevent tap\n            gestures.prevent('tap');\n          }\n          self.info.addMove({x: x, y: y});\n          if (!hasLeftMouseButton(e)) {\n            // always fire \"end\"\n            self.info.state = 'end';\n            untrackDocument(self.info);\n          }\n          self.fire(t, e);\n          self.info.started = true;\n        }\n      };\n      let upfn = function upfn(e) {\n        if (self.info.started) {\n          movefn(e);\n        }\n\n        // remove the temporary listeners\n        untrackDocument(self.info);\n      };\n      // add temporary document listeners as mouse retargets\n      trackDocument(this.info, movefn, upfn);\n      this.info.x = e.clientX;\n      this.info.y = e.clientY;\n    },\n\n    touchstart: function(e) {\n      let ct = e.changedTouches[0];\n      this.info.x = ct.clientX;\n      this.info.y = ct.clientY;\n    },\n\n    touchmove: function(e) {\n      let t = gestures.findOriginalTarget(e);\n      let ct = e.changedTouches[0];\n      let x = ct.clientX, y = ct.clientY;\n      if (this.hasMovedEnough(x, y)) {\n        if (this.info.state === 'start') {\n          // if and only if tracking, always prevent tap\n          gestures.prevent('tap');\n        }\n        this.info.addMove({x: x, y: y});\n        this.fire(t, ct);\n        this.info.state = 'track';\n        this.info.started = true;\n      }\n    },\n\n    touchend: function(e) {\n      let t = gestures.findOriginalTarget(e);\n      let ct = e.changedTouches[0];\n      // only trackend if track was started and not aborted\n      if (this.info.started) {\n        // reset started state on up\n        this.info.state = 'end';\n        this.info.addMove({x: ct.clientX, y: ct.clientY});\n        this.fire(t, ct, e);\n      }\n    },\n\n    fire: function(target, touch) {\n      let secondlast = this.info.moves[this.info.moves.length - 2];\n      let lastmove = this.info.moves[this.info.moves.length - 1];\n      let dx = lastmove.x - this.info.x;\n      let dy = lastmove.y - this.info.y;\n      let ddx, ddy = 0;\n      if (secondlast) {\n        ddx = lastmove.x - secondlast.x;\n        ddy = lastmove.y - secondlast.y;\n      }\n      return gestures.fire(target, 'track', {\n        state: this.info.state,\n        x: touch.clientX,\n        y: touch.clientY,\n        dx: dx,\n        dy: dy,\n        ddx: ddx,\n        ddy: ddy,\n        sourceEvent: touch,\n        hover: function() {\n          return gestures.deepTargetFind(touch.clientX, touch.clientY);\n        }\n      });\n    }\n\n  });\n\n  gestures.register({\n    name: 'tap',\n    deps: ['mousedown', 'click', 'touchstart', 'touchend'],\n    flow: {\n      start: ['mousedown', 'touchstart'],\n      end: ['click', 'touchend']\n    },\n    emits: ['tap'],\n    info: {\n      x: NaN,\n      y: NaN,\n      prevent: false\n    },\n    reset: function() {\n      this.info.x = NaN;\n      this.info.y = NaN;\n      this.info.prevent = false;\n    },\n    save: function(e) {\n      this.info.x = e.clientX;\n      this.info.y = e.clientY;\n    },\n\n    mousedown: function(e) {\n      if (hasLeftMouseButton(e)) {\n        this.save(e);\n      }\n    },\n    click: function(e) {\n      if (hasLeftMouseButton(e)) {\n        this.forward(e);\n      }\n    },\n\n    touchstart: function(e) {\n      this.save(e.changedTouches[0], e);\n    },\n    touchend: function(e) {\n      this.forward(e.changedTouches[0], e);\n    },\n\n    forward: function(e, preventer) {\n      let dx = Math.abs(e.clientX - this.info.x);\n      let dy = Math.abs(e.clientY - this.info.y);\n      let t = gestures.findOriginalTarget(e);\n      // dx,dy can be NaN if `click` has been simulated and there was no `down` for `start`\n      if (isNaN(dx) || isNaN(dy) || (dx <= TAP_DISTANCE && dy <= TAP_DISTANCE) || isSyntheticClick(e)) {\n        // prevent taps from being generated if an event has canceled them\n        if (!this.info.prevent) {\n          gestures.fire(t, 'tap', {\n            x: e.clientX,\n            y: e.clientY,\n            sourceEvent: e,\n            preventer: preventer\n          });\n        }\n      }\n    }\n  });\n\n  // expose for bc with Polymer 1.0 (e.g. add `tap` listener to document)\n  Polymer.Gestures = gestures;\n\n  Polymer.GestureEventListeners = Polymer.Utils.dedupingMixin(function(superClass) {\n\n    return class GestureEventListeners extends Polymer.EventListeners(superClass) {\n\n      _addEventListenerToNode(node, eventName, handler) {\n        if (!gestures.addListener(node, eventName, handler)) {\n          super._addEventListenerToNode(node, eventName, handler);\n        }\n      }\n\n      _removeEventListenerFromNode(node, eventName, handler) {\n        if (!gestures.removeListener(node, eventName, handler)) {\n          super._removeEventListenerFromNode(node, eventName, handler);\n        }\n      }\n\n    }\n\n  });\n\n})();\n(function() {\n\n  'use strict';\n\n  Polymer.AsyncRender = {\n\n    _scheduled: false,\n\n    _beforeRenderQueue: [],\n\n    _afterRenderQueue: [],\n\n    beforeRender: function(cb) {\n      if (!this._scheduled) {\n        this._schedule();\n      }\n      this._beforeRenderQueue.push(cb);\n    },\n\n    afterRender: function(cb) {\n      if (!this._scheduled) {\n        this._schedule();\n      }\n      this._afterRenderQueue.push(cb);\n    },\n\n    _schedule: function() {\n      this._scheduled = true;\n      var self = this;\n      // before next render\n      requestAnimationFrame(function() {\n        self._scheduled = false;\n        self._flushQueue(self._beforeRenderQueue);\n        // after the render\n        setTimeout(function() {\n          self._flushQueue(self._afterRenderQueue);\n        });\n      });\n    },\n\n    flush: function() {\n      this.flushBeforeRender();\n      this.flushAfterRender();\n    },\n\n    flushBeforeRender: function() {\n      this._flushQueue(this._beforeRenderQueue);\n    },\n\n    flushAfterRender: function() {\n      this._flushQueue(this._afterRenderQueue);\n    },\n\n    _flushQueue: function(queue) {\n      for (var i=0; i<queue.length; i++) {\n        // TODO(sorvell): include exception handling from Async.\n        try {\n          queue[i]();\n        } catch(e) {\n          console.warn(e);\n        }\n      }\n      queue.splice(0, queue.length);\n    }\n\n  };\n\n  // bc\n  Polymer.RenderStatus = {\n    afterNextRender: function(context, fn, args) {\n      Polymer.AsyncRender.afterRender(function() {\n        fn.apply(context, args);\n      });\n    }\n  }\n\n})();\n(function() {\n\n  'use strict';\n\n  function newSplice(index, removed, addedCount) {\n    return {\n      index: index,\n      removed: removed,\n      addedCount: addedCount\n    };\n  }\n\n  const EDIT_LEAVE = 0;\n  const EDIT_UPDATE = 1;\n  const EDIT_ADD = 2;\n  const EDIT_DELETE = 3;\n\n  let ArraySplice = {\n\n    // Note: This function is *based* on the computation of the Levenshtein\n    // \"edit\" distance. The one change is that \"updates\" are treated as two\n    // edits - not one. With Array splices, an update is really a delete\n    // followed by an add. By retaining this, we optimize for \"keeping\" the\n    // maximum array items in the original array. For example:\n    //\n    //   'xxxx123' -> '123yyyy'\n    //\n    // With 1-edit updates, the shortest path would be just to update all seven\n    // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n    // leaves the substring '123' intact.\n    calcEditDistances(current, currentStart, currentEnd,\n                                old, oldStart, oldEnd) {\n      // \"Deletion\" columns\n      let rowCount = oldEnd - oldStart + 1;\n      let columnCount = currentEnd - currentStart + 1;\n      let distances = new Array(rowCount);\n\n      // \"Addition\" rows. Initialize null column.\n      for (let i = 0; i < rowCount; i++) {\n        distances[i] = new Array(columnCount);\n        distances[i][0] = i;\n      }\n\n      // Initialize null row\n      for (let j = 0; j < columnCount; j++)\n        distances[0][j] = j;\n\n      for (let i = 1; i < rowCount; i++) {\n        for (let j = 1; j < columnCount; j++) {\n          if (this.equals(current[currentStart + j - 1], old[oldStart + i - 1]))\n            distances[i][j] = distances[i - 1][j - 1];\n          else {\n            let north = distances[i - 1][j] + 1;\n            let west = distances[i][j - 1] + 1;\n            distances[i][j] = north < west ? north : west;\n          }\n        }\n      }\n\n      return distances;\n    },\n\n    // This starts at the final weight, and walks \"backward\" by finding\n    // the minimum previous weight recursively until the origin of the weight\n    // matrix.\n    spliceOperationsFromEditDistances(distances) {\n      let i = distances.length - 1;\n      let j = distances[0].length - 1;\n      let current = distances[i][j];\n      let edits = [];\n      while (i > 0 || j > 0) {\n        if (i == 0) {\n          edits.push(EDIT_ADD);\n          j--;\n          continue;\n        }\n        if (j == 0) {\n          edits.push(EDIT_DELETE);\n          i--;\n          continue;\n        }\n        let northWest = distances[i - 1][j - 1];\n        let west = distances[i - 1][j];\n        let north = distances[i][j - 1];\n\n        let min;\n        if (west < north)\n          min = west < northWest ? west : northWest;\n        else\n          min = north < northWest ? north : northWest;\n\n        if (min == northWest) {\n          if (northWest == current) {\n            edits.push(EDIT_LEAVE);\n          } else {\n            edits.push(EDIT_UPDATE);\n            current = northWest;\n          }\n          i--;\n          j--;\n        } else if (min == west) {\n          edits.push(EDIT_DELETE);\n          i--;\n          current = west;\n        } else {\n          edits.push(EDIT_ADD);\n          j--;\n          current = north;\n        }\n      }\n\n      edits.reverse();\n      return edits;\n    },\n\n    /**\n     * Splice Projection functions:\n     *\n     * A splice map is a representation of how a previous array of items\n     * was transformed into a new array of items. Conceptually it is a list of\n     * tuples of\n     *\n     *   <index, removed, addedCount>\n     *\n     * which are kept in ascending index order of. The tuple represents that at\n     * the |index|, |removed| sequence of items were removed, and counting forward\n     * from |index|, |addedCount| items were added.\n     */\n\n    /**\n     * Lacking individual splice mutation information, the minimal set of\n     * splices can be synthesized given the previous state and final state of an\n     * array. The basic approach is to calculate the edit distance matrix and\n     * choose the shortest path through it.\n     *\n     * Complexity: O(l * p)\n     *   l: The length of the current array\n     *   p: The length of the old array\n     */\n    calcSplices(current, currentStart, currentEnd,\n                          old, oldStart, oldEnd) {\n      let prefixCount = 0;\n      let suffixCount = 0;\n      let splice;\n\n      let minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n      if (currentStart == 0 && oldStart == 0)\n        prefixCount = this.sharedPrefix(current, old, minLength);\n\n      if (currentEnd == current.length && oldEnd == old.length)\n        suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n      currentStart += prefixCount;\n      oldStart += prefixCount;\n      currentEnd -= suffixCount;\n      oldEnd -= suffixCount;\n\n      if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n        return [];\n\n      if (currentStart == currentEnd) {\n        splice = newSplice(currentStart, [], 0);\n        while (oldStart < oldEnd)\n          splice.removed.push(old[oldStart++]);\n\n        return [ splice ];\n      } else if (oldStart == oldEnd)\n        return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n      let ops = this.spliceOperationsFromEditDistances(\n          this.calcEditDistances(current, currentStart, currentEnd,\n                                 old, oldStart, oldEnd));\n\n      splice = undefined;\n      let splices = [];\n      let index = currentStart;\n      let oldIndex = oldStart;\n      for (let i = 0; i < ops.length; i++) {\n        switch(ops[i]) {\n          case EDIT_LEAVE:\n            if (splice) {\n              splices.push(splice);\n              splice = undefined;\n            }\n\n            index++;\n            oldIndex++;\n            break;\n          case EDIT_UPDATE:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.addedCount++;\n            index++;\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n          case EDIT_ADD:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.addedCount++;\n            index++;\n            break;\n          case EDIT_DELETE:\n            if (!splice)\n              splice = newSplice(index, [], 0);\n\n            splice.removed.push(old[oldIndex]);\n            oldIndex++;\n            break;\n        }\n      }\n\n      if (splice) {\n        splices.push(splice);\n      }\n      return splices;\n    },\n\n    sharedPrefix(current, old, searchLength) {\n      for (let i = 0; i < searchLength; i++)\n        if (!this.equals(current[i], old[i]))\n          return i;\n      return searchLength;\n    },\n\n    sharedSuffix(current, old, searchLength) {\n      let index1 = current.length;\n      let index2 = old.length;\n      let count = 0;\n      while (count < searchLength && this.equals(current[--index1], old[--index2]))\n        count++;\n\n      return count;\n    },\n\n    calculateSplices(current, previous) {\n      return this.calcSplices(current, 0, current.length, previous, 0,\n                              previous.length);\n    },\n\n    equals(currentValue, previousValue) {\n      return currentValue === previousValue;\n    }\n\n  };\n\n  Polymer.ArraySplice = {\n    calculateSplices(current, previous) {\n      return ArraySplice.calculateSplices(current, previous);\n    }\n  }\n\n})();\n(function() {\n\n  function isSlot(node) {\n    return (node.localName === 'slot');\n  }\n\n  function getEffectiveNodes(node) {\n    if (isSlot(node)) {\n      return node.assignedNodes({flatten: true});\n    } else {\n      return Array.from(node.childNodes).map(node => {\n        if (isSlot(node)) {\n          return node.assignedNodes({flatten: true});\n        } else {\n          return [node];\n        }\n      }).reduce((a, b) => a.concat(b), []);\n    }\n  }\n\n  let effectiveNodesObserverPromise = Promise.resolve();\n\n  class EffectiveNodesObserver {\n\n    constructor(target, callback) {\n      this.target = target;\n      this.callback = callback;\n      this.effectiveNodes = [];\n      this.observer = null;\n      this.scheduled = false;\n      this._boundSchedule = () => {\n        this.schedule();\n      }\n      this.connect();\n      this.schedule();\n    }\n\n    connect() {\n      if (isSlot(this.target)) {\n        this.listenSlots([this.target]);\n      } else {\n        this.listenSlots(this.target.children);\n        if (window.ShadyDOM) {\n          this.shadyChildrenObserver =\n            ShadyDOM.observeChildren(this.target, (mutations) => {\n              this.processMutations(mutations);\n            });\n        } else {\n          this.nativeChildrenObserver =\n            new MutationObserver((mutations) => {\n              this.processMutations(mutations);\n            });\n          this.nativeChildrenObserver.observe(this.target, {childList: true});\n        }\n      }\n      this.connected = true;\n    }\n\n    disconnect() {\n      if (isSlot(this.target)) {\n        this.unlistenSlots([this.target]);\n      } else {\n        this.unlistenSlots(this.target.children);\n        if (window.ShadyDOM && this.shadyChildrenObserver) {\n          ShadyDOM.unobserveChildren(this.shadyChildrenObserver);\n          this.shadyChildrenObserver = null;\n        } else if (this.nativeChildrenObserver) {\n          this.nativeChildrenObserver.disconnect();\n          this.nativeChildrenObserver = null;\n        }\n      }\n      this.connected = false;\n    }\n\n    schedule() {\n      if (!this.scheduled) {\n        this.scheduled = true;\n        effectiveNodesObserverPromise.then(() => {\n          this.flush();\n        });\n      }\n    }\n\n    processMutations(mutations) {\n      this.processSlotMutations(mutations);\n      this.flush();\n    }\n\n    processSlotMutations(mutations) {\n      if (mutations) {\n        for (let i=0; i < mutations.length; i++) {\n          let mutation = mutations[i];\n          if (mutation.addedNodes) {\n            this.listenSlots(mutation.addedNodes);\n          }\n          if (mutation.removedNodes) {\n            this.unlistenSlots(mutation.removedNodes);\n          }\n        }\n      }\n    }\n\n    flush() {\n      if (!this.connected) {\n        return;\n      }\n      if (window.ShadyDOM) {\n        ShadyDOM.flush();\n      }\n      if (this.nativeChildrenObserver) {\n        this.processSlotMutations(this.nativeChildrenObserver.takeRecords());\n      } else if (this.shadyChildrenObserver) {\n        this.processSlotMutations(this.shadyChildrenObserver.takeRecords());\n      }\n      this.scheduled = false;\n      let info = {\n        target: this.target,\n        addedNodes: [],\n        removedNodes: []\n      };\n      let newNodes = getEffectiveNodes(this.target);\n      let splices = Polymer.ArraySplice.calculateSplices(newNodes,\n        this.effectiveNodes);\n      // process removals\n      for (let i=0, s; (i<splices.length) && (s=splices[i]); i++) {\n        for (let j=0, n; (j < s.removed.length) && (n=s.removed[j]); j++) {\n          info.removedNodes.push(n);\n        }\n      }\n      // process adds\n      for (let i=0, s; (i<splices.length) && (s=splices[i]); i++) {\n        for (let j=s.index; j < s.index + s.addedCount; j++) {\n          info.addedNodes.push(newNodes[j]);\n        }\n      }\n      // update cache\n      this.effectiveNodes = newNodes;\n      if (info.addedNodes.length || info.removedNodes.length) {\n        this.callback.call(this.target, info);\n      }\n    }\n\n    listenSlots(nodeList) {\n      for (let i=0; i < nodeList.length; i++) {\n        let n = nodeList[i];\n        if (isSlot(n)) {\n          n.addEventListener('slotchange', this._boundSchedule);\n        }\n      }\n    }\n\n    unlistenSlots(nodeList) {\n      for (let i=0; i < nodeList.length; i++) {\n        let n = nodeList[i];\n        if (isSlot(n)) {\n          n.removeEventListener('slotchange', this._boundSchedule);\n        }\n      }\n    }\n\n  }\n\n  class DomApi {\n\n    constructor(node) {\n      if (window.ShadyDOM) {\n        ShadyDOM.patch(node);\n      }\n      this.node = node;\n    }\n\n    observeNodes(callback) {\n      return new EffectiveNodesObserver(this.node, callback);\n    }\n\n    unobserveNodes(observerHandle) {\n      observerHandle.disconnect();\n    }\n\n    notifyObserver() {}\n\n    deepContains(node) {\n      if (this.node.contains(node)) {\n        return true;\n      }\n      let n = node;\n      let doc = node.ownerDocument;\n      // walk from node to `this` or `document`\n      while (n && n !== doc && n !== this.node) {\n        // use logical parentnode, or native ShadowRoot host\n        n = Polymer.dom(n).parentNode || n.host;\n      }\n      return n === this.node;\n    }\n\n    getOwnerRoot() {\n      return this.node.getRootNode();\n    }\n\n    getDistributedNodes() {\n      return (this.node.localName === 'slot') ?\n        this.node.assignedNodes({flatten: true}) :\n        [];\n    }\n\n    getDestinationInsertionPoints() {\n      let ip$ = [];\n      let n = this.node.assignedSlot;\n      while (n) {\n        ip$.push(n);\n        n = n.assignedSlot;\n      }\n      return ip$;\n    }\n\n    importNode(externalNode, deep) {\n      let doc = this.node instanceof Document ? this.node :\n        this.node.ownerDocument;\n      return doc.importNode(externalNode, deep);\n    }\n\n    getEffectiveChildNodes() {\n      return getEffectiveNodes(this.node);\n    }\n\n    queryDistributedElements(selector) {\n      let c$ = this.getEffectiveChildNodes();\n      let list = [];\n      for (let i=0, l=c$.length, c; (i<l) && (c=c$[i]); i++) {\n        if ((c.nodeType === Node.ELEMENT_NODE) &&\n            Polymer.Utils.matchesSelector(c, selector)) {\n          list.push(c);\n        }\n      }\n      return list;\n    }\n\n    get activeElement() {\n      let node = this.node;\n      return node._activeElement !== undefined ? node._activeElement : node.activeElement;\n    }\n  }\n\n  function forwardMethods(proto, methods) {\n    for (let i=0; i < methods.length; i++) {\n      let method = methods[i];\n      proto[method] = function() {\n        return this.node[method].apply(this.node, arguments);\n      }\n    }\n  }\n\n  function forwardReadOnlyProperties(proto, properties) {\n    for (let i=0; i < properties.length; i++) {\n      let name = properties[i];\n      Object.defineProperty(proto, name, {\n        get: function() {\n          return this.node[name];\n        },\n        configurable: true\n      });\n    }\n  }\n\n  function forwardProperties(proto, properties) {\n    for (let i=0; i < properties.length; i++) {\n      let name = properties[i];\n      Object.defineProperty(proto, name, {\n        get: function() {\n          return this.node[name];\n        },\n        set: function(value) {\n          this.node[name] = value;\n        },\n        configurable: true\n      });\n    }\n  }\n\n  forwardMethods(DomApi.prototype, [\n    'cloneNode', 'appendChild', 'insertBefore', 'removeChild',\n    'replaceChild', 'setAttribute', 'removeAttribute',\n    'querySelector', 'querySelectorAll'\n  ]);\n\n  forwardReadOnlyProperties(DomApi.prototype, [\n    'parentNode', 'firstChild', 'lastChild',\n    'nextSibling', 'previousSibling', 'firstElementChild',\n    'lastElementChild', 'nextElementSibling', 'previousElementSibling',\n    'childNodes', 'children', 'classList'\n  ]);\n\n  forwardProperties(DomApi.prototype, [\n    'textContent', 'innerHTML'\n  ]);\n\n\n  class EventApi {\n    constructor(event) {\n      this.event = event;\n    }\n\n    get rootTarget() {\n      return this.event.composedPath()[0];\n    }\n\n    get localTarget() {\n      return this.event.target;\n    }\n\n    get path() {\n      return this.event.composedPath();\n    }\n  }\n\n  Polymer.dom = function(obj) {\n    obj = obj || document;\n    let ctor = obj instanceof Event ? EventApi : DomApi;\n    if (!obj.__domApi) {\n      obj.__domApi = new ctor(obj);\n    }\n    return obj.__domApi;\n  };\n\n  Polymer.dom.flush = function() {\n    if (window.ShadyDOM) {\n      ShadyDOM.flush();\n    }\n    if (window.ShadyCSS) {\n      ShadyCSS.flush();\n    }\n    if (customElements.flush) {\n      customElements.flush();\n    }\n  }\n\n  Polymer.Settings = {\n    useShadow: true\n  };\n\n})();\n(function() {\n\n  // unresolved\n\n  function resolve() {\n    document.body.removeAttribute('unresolved');\n  }\n\n  if (window.WebComponents) {\n    addEventListener('WebComponentsReady', resolve);\n  } else {\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      resolve();\n    } else {\n      addEventListener('DOMContentLoaded', resolve);\n    }\n  }\n\n})();\n(function() {\n  'use strict';\n  Polymer.Logging = Polymer.Utils.dedupingMixin(function(superClass) {\n    const hasColor = (window.chrome && !(/edge/i.test(navigator.userAgent))) || (/firefox/i.test(navigator.userAgent));\n    const prefix = hasColor ? ['%c[%s::%s]:', 'font-weight: bold; background-color:#EEEE00;'] : ['[%s::%s]:']\n\n    return class Logging extends superClass {\n      _logger(level, args) {\n        // accept ['foo', 'bar'] and [['foo', 'bar']]\n        if (Array.isArray(args) && args.length === 1) {\n          args = args[0];\n        }\n        switch(level) {\n          case 'log':\n          case 'warn':\n          case 'error':\n            console[level](...args);\n        }\n      }\n      _log(...args) {\n        this._logger('log', args);\n      }\n      _warn(...args) {\n        this._logger('warn', args);\n      }\n      _error(...args) {\n        this._logger('error', args)\n      }\n      _logf(...args) {\n        return prefix.concat(this.is).concat(args);\n      }\n    };\n  });\n})();\n(function() {\n\n  'use strict';\n\n  var utils = Polymer.Utils;\n\n  Polymer.LegacyElementMixin = Polymer.Utils.cachingMixin(function(base) {\n\n    return class LegacyElement extends Polymer.Logging(\n      Polymer.GestureEventListeners(Polymer.ElementMixin(base))) {\n\n      constructor() {\n        super();\n        this.created();\n      }\n\n      _applyListeners() {\n        this._applyConfigListeners(this.constructor._ownConfig);\n      }\n\n      _applyConfigListeners(config) {\n        if (config.listeners) {\n          for (let l in config.listeners) {\n            this._addMethodEventListenerToNode(this, l, config.listeners[l]);\n          }\n        }\n      }\n\n      _ensureAttributes() {\n        this._ensureConfigAttributes(this.constructor._ownConfig);\n      }\n\n      _ensureConfigAttributes(config) {\n        if (config.hostAttributes) {\n          for (let a in config.hostAttributes) {\n            this._ensureAttribute(a, config.hostAttributes[a]);\n          }\n        }\n      }\n\n      ready() {\n        this._applyListeners();\n        this._ensureAttributes();\n        super.ready();\n      }\n\n      connectedCallback() {\n        super.connectedCallback();\n        this.isAttached = true;\n        this.attached();\n      }\n\n      disconnectedCallback() {\n        this.isAttached = false;\n        super.disconnectedCallback();\n        this.detached();\n      }\n\n      attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n          super.attributeChangedCallback(name, old, value);\n          this.attributeChanged(name, old, value);\n        }\n      }\n\n      created() {}\n\n      attached() {}\n\n      detached() {}\n\n      attributeChanged() {}\n\n      serialize(value) {\n        return this._serializeAttribute(value);\n      }\n\n      deserialize(value, type) {\n        return this._deserializeAttribute(value, type);\n      }\n\n      reflectPropertyToAttribute(property, attribute, value) {\n        this._propertyToAttribute(this, property, attribute, value);\n      }\n\n      serializeValueToAttribute(value, attribute, node) {\n        this._valueToNodeAttribute(node || this, value, attribute);\n      }\n\n      /**\n       * Copies own properties (including accessor descriptors) from a source\n       * object to a target object.\n       *\n       * @method extend\n       * @param {Object} prototype Target object to copy properties to.\n       * @param {Object} api Source object to copy properties from.\n       * @return {Object} prototype object that was passed as first argument.\n       */\n      extend(prototype, api) {\n        return utils.extend(prototype, api);\n      }\n\n      /**\n       * Copies props from a source object to a target object.\n       *\n       * Note, this method uses a simple `for...in` strategy for enumerating\n       * properties.  To ensure only `ownProperties` are copied from source\n       * to target and that accessor implementations are copied, use `extend`.\n       *\n       * @method mixin\n       * @param {Object} target Target object to copy properties to.\n       * @param {Object} source Source object to copy properties from.\n       * @return {Object} Target object that was passed as first argument.\n       */\n      mixin(target, source) {\n        return utils.mixin(target, source);\n      }\n\n      chainObject(object, inherited) {\n        if (object && inherited && object !== inherited) {\n          if (!Object.__proto__) {\n            object = this.extend(Object.create(inherited), object);\n          }\n          object.__proto__ = inherited;\n        }\n        return object;\n      }\n\n      /* **** Begin Template **** */\n      /**\n       * Calls `importNode` on the `content` of the `template` specified and\n       * returns a document fragment containing the imported content.\n       *\n       * @method instanceTemplate\n       * @param {HTMLTemplateElement} template HTML template element to instance.\n       * @return {DocumentFragment} Document fragment containing the imported\n       *   template content.\n      */\n      instanceTemplate(template) {\n        var dom =\n          document.importNode(template._content || template.content, true);\n        return dom;\n      }\n\n      /* **** Begin Events **** */\n      /**\n       * Dispatches a custom event with an optional detail value.\n       *\n       * @method fire\n       * @param {String} type Name of event type.\n       * @param {*=} detail Detail value containing event-specific\n       *   payload.\n       * @param {Object=} options Object specifying options.  These may include:\n       *  `bubbles` (boolean, defaults to `true`),\n       *  `cancelable` (boolean, defaults to false), and\n       *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n       * @return {CustomEvent} The new event that was fired.\n       */\n      fire(type, detail, options) {\n        options = options || {};\n        detail = (detail === null || detail === undefined) ? {} : detail;\n        var event = new Event(type, {\n          bubbles: options.bubbles === undefined ? true : options.bubbles,\n          cancelable: Boolean(options.cancelable),\n          composed: options.composed === undefined ? true: options.composed\n        });\n        event.detail = detail;\n        var node = options.node || this;\n        node.dispatchEvent(event)\n        return event;\n      }\n\n      /**\n       * Convenience method to add an event listener on a given element,\n       * late bound to a named method on this element.\n       *\n       * @method listen\n       * @param {Element} node Element to add event listener to.\n       * @param {string} eventName Name of event to listen for.\n       * @param {string} methodName Name of handler method on `this` to call.\n       */\n      listen(node, eventName, methodName) {\n        node = node || this;\n        var hbl = this.__boundListeners ||\n          (this.__boundListeners = new WeakMap());\n        var bl = hbl.get(node);\n        if (!bl) {\n          bl = {};\n          hbl.set(node, bl);\n        }\n        var key = eventName + methodName;\n        if (!bl[key]) {\n          bl[key] = this._addMethodEventListenerToNode(\n            node, eventName, methodName, this);\n        }\n      }\n\n      /**\n       * Convenience method to remove an event listener from a given element,\n       * late bound to a named method on this element.\n       *\n       * @method unlisten\n       * @param {Element} node Element to remove event listener from.\n       * @param {string} eventName Name of event to stop listening to.\n       * @param {string} methodName Name of handler method on `this` to not call\n       anymore.\n       */\n      unlisten(node, eventName, methodName) {\n        node = node || this;\n        var bl = this.__boundListeners && this.__boundListeners.get(node);\n        var key = eventName + methodName;\n        var handler = bl && bl[key];\n        if (handler) {\n          this._removeEventListenerFromNode(node, eventName, handler);\n          bl[key] = null;\n        }\n      }\n\n      /**\n       * Override scrolling behavior to all direction, one direction, or none.\n       *\n       * Valid scroll directions:\n       *   - 'all': scroll in any direction\n       *   - 'x': scroll only in the 'x' direction\n       *   - 'y': scroll only in the 'y' direction\n       *   - 'none': disable scrolling for this node\n       *\n       * @method setScrollDirection\n       * @param {String=} direction Direction to allow scrolling\n       * Defaults to `all`.\n       * @param {HTMLElement=} node Element to apply scroll direction setting.\n       * Defaults to `this`.\n       */\n      setScrollDirection(direction, node) {\n        Polymer.Gestures.setTouchAction(node || this, direction || 'auto');\n      }\n      /* **** End Events **** */\n\n      /**\n       * Convenience method to run `querySelector` on this local DOM scope.\n       *\n       * This function calls `Polymer.dom(this.root).querySelector(slctr)`.\n       *\n       * @method $$\n       * @param {string} slctr Selector to run on this local DOM scope\n       * @return {Element} Element found by the selector, or null if not found.\n       */\n      $$(slctr) {\n        return this.root.querySelector(slctr);\n      }\n\n      /**\n       * Return the element whose local dom within which this element\n       * is contained. This is a shorthand for\n       * `this.getRootNode().host`.\n       */\n      get domHost() {\n        var root = this.getRootNode();\n        return (root instanceof DocumentFragment) ? root.host : root;\n      }\n\n      /**\n       * Force this element to distribute its children to its local dom.\n       * This is necessary only when ShadyDOM is used and only in cases that\n       * are not automatically handled. For example,\n       * a user should call `distributeContent` if distribution has been\n       * invalidated due to an element being added or removed from the shadowRoot\n       * that contains an insertion point (<slot>) inside its subtree.\n       * @method distributeContent\n       */\n      distributeContent() {\n        if (window.ShadyDOM && this.shadowRoot) {\n          this.shadowRoot.forceRender();\n        }\n      }\n\n      /**\n       * Returns a list of nodes that are the effective childNodes. The effective\n       * childNodes list is the same as the element's childNodes except that\n       * any `<content>` elements are replaced with the list of nodes distributed\n       * to the `<content>`, the result of its `getDistributedNodes` method.\n       *\n       * @method getEffectiveChildNodes\n       * @return {Array<Node>} List of effctive child nodes.\n       */\n      getEffectiveChildNodes() {\n        return Polymer.dom(this).getEffectiveChildNodes();\n      }\n\n      /**\n       * Returns a list of nodes distributed within this element that match\n       * `selector`. These can be dom children or elements distributed to\n       * children that are insertion points.\n       * @method queryDistributedElements\n       * @param {string} selector Selector to run.\n       * @return {Array<Node>} List of distributed elements that match selector.\n       */\n      queryDistributedElements(selector) {\n        return Polymer.dom(this).queryDistributedElements(selector);\n      }\n\n      /**\n       * Returns a list of elements that are the effective children. The effective\n       * children list is the same as the element's children except that\n       * any `<content>` elements are replaced with the list of elements\n       * distributed to the `<content>`.\n       *\n       * @method getEffectiveChildren\n       * @return {Array<Node>} List of effctive children.\n       */\n      getEffectiveChildren() {\n        var list = this.getEffectiveChildNodes();\n        return list.filter(function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      }\n\n      /**\n       * Returns a string of text content that is the concatenation of the\n       * text content's of the element's effective childNodes (the elements\n       * returned by <a href=\"#getEffectiveChildNodes>getEffectiveChildNodes</a>.\n       *\n       * @method getEffectiveTextContent\n       * @return {Array<Node>} List of effctive children.\n       */\n      getEffectiveTextContent() {\n        var cn = this.getEffectiveChildNodes();\n        var tc = [];\n        for (var i=0, c; (c = cn[i]); i++) {\n          if (c.nodeType !== Node.COMMENT_NODE) {\n            tc.push(c.textContent);\n          }\n        }\n        return tc.join('');\n      }\n\n      /**\n       * Returns the first effective childNode within this element that\n       * match `selector`. These can be dom child nodes or elements distributed\n       * to children that are insertion points.\n       * @method queryEffectiveChildren\n       * @param {string} selector Selector to run.\n       * @return {Object<Node>} First effective child node that matches selector.\n       */\n      queryEffectiveChildren(selector) {\n        var e$ = this.queryDistributedElements(selector);\n        return e$ && e$[0];\n      }\n\n      /**\n       * Returns a list of effective childNodes within this element that\n       * match `selector`. These can be dom child nodes or elements distributed\n       * to children that are insertion points.\n       * @method queryEffectiveChildren\n       * @param {string} selector Selector to run.\n       * @return {Array<Node>} List of effective child nodes that match selector.\n       */\n      queryAllEffectiveChildren(selector) {\n        return this.queryDistributedElements(selector);\n      }\n\n      /**\n       * Returns a list of nodes distributed to this element's `<content>`.\n       *\n       * If this element contains more than one `<content>` in its local DOM,\n       * an optional selector may be passed to choose the desired content.\n       *\n       * @method getContentChildNodes\n       * @param {String=} slctr CSS selector to choose the desired\n       *   `<content>`.  Defaults to `content`.\n       * @return {Array<Node>} List of distributed nodes for the `<content>`.\n       */\n      getContentChildNodes(slctr) {\n        var content = this.root.querySelector(slctr || 'content');\n        return content ? content.getDistributedNodes() : [];\n      }\n\n      /**\n       * Returns a list of element children distributed to this element's\n       * `<content>`.\n       *\n       * If this element contains more than one `<content>` in its\n       * local DOM, an optional selector may be passed to choose the desired\n       * content.  This method differs from `getContentChildNodes` in that only\n       * elements are returned.\n       *\n       * @method getContentChildNodes\n       * @param {String=} slctr CSS selector to choose the desired\n       *   `<content>`.  Defaults to `content`.\n       * @return {Array<HTMLElement>} List of distributed nodes for the\n       *   `<content>`.\n       */\n      getContentChildren(slctr) {\n        return this.getContentChildNodes(slctr).filter(function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      }\n\n      /**\n       * Checks whether an element is in this element's light DOM tree.\n       *\n       * @method isLightDescendant\n       * @param {?Node} node The element to be checked.\n       * @return {Boolean} true if node is in this element's light DOM tree.\n       */\n      isLightDescendant(node) {\n        return this !== node && this.contains(node) &&\n            this.getRootNode() === node.getRootNode();\n      }\n\n      /**\n       * Checks whether an element is in this element's local DOM tree.\n       *\n       * @method isLocalDescendant\n       * @param {HTMLElement=} node The element to be checked.\n       * @return {Boolean} true if node is in this element's local DOM tree.\n       */\n      isLocalDescendant(node) {\n        return this.root === node.getRootNode();\n      }\n\n      // NOTE: should now be handled by ShadyCss library.\n      scopeSubtree(container, shouldObserve) { // eslint-disable-line no-unused-vars\n      }\n\n      /**\n       * Returns the computed style value for the given property.\n       * @param {String} property\n       * @return {String} the computed value\n       */\n      getComputedStyleValue(property) {\n        return ShadyCSS.getComputedStyleValue(this, property);\n      }\n\n      // debounce\n\n      /**\n       * Call `debounce` to collapse multiple requests for a named task into\n       * one invocation which is made after the wait time has elapsed with\n       * no new request.  If no wait time is given, the callback will be called\n       * at microtask timing (guaranteed before paint).\n       *\n       *     debouncedClickAction(e) {\n       *       // will not call `processClick` more than once per 100ms\n       *       this.debounce('click', function() {\n       *        this.processClick();\n       *       } 100);\n       *     }\n       *\n       * @method debounce\n       * @param {String} jobName String to indentify the debounce job.\n       * @param {Function} callback Function that is called (with `this`\n       *   context) when the wait time elapses.\n       * @param {number} wait Optional wait time in milliseconds (ms) after the\n       *   last signal that must elapse before invoking `callback`\n       */\n      debounce(jobName, callback, wait) {\n        this._debouncers = this._debouncers || {};\n        return this._debouncers[jobName] = Polymer.Debouncer.debounce(\n          this._debouncers[jobName], callback, wait, this);\n      }\n\n      /**\n       * Returns whether a named debouncer is active.\n       *\n       * @method isDebouncerActive\n       * @param {String} jobName The name of the debouncer started with `debounce`\n       * @return {boolean} Whether the debouncer is active (has not yet fired).\n       */\n      isDebouncerActive(jobName) {\n        this._debouncers = this._debouncers || {};\n        var debouncer = this._debouncers[jobName];\n        return !!(debouncer && debouncer.isActive());\n      }\n\n      /**\n       * Immediately calls the debouncer `callback` and inactivates it.\n       *\n       * @method flushDebouncer\n       * @param {String} jobName The name of the debouncer started with `debounce`\n       */\n      flushDebouncer(jobName) {\n        this._debouncers = this._debouncers || {};\n        var debouncer = this._debouncers[jobName];\n        if (debouncer) {\n          debouncer.flush();\n        }\n      }\n\n      /**\n       * Cancels an active debouncer.  The `callback` will not be called.\n       *\n       * @method cancelDebouncer\n       * @param {String} jobName The name of the debouncer started with `debounce`\n       */\n      cancelDebouncer(jobName) {\n        this._debouncers = this._debouncers || {}\n        var debouncer = this._debouncers[jobName];\n        if (debouncer) {\n          debouncer.cancel();\n        }\n      }\n\n      /**\n       * Runs a callback function asyncronously.\n       *\n       * By default (if no waitTime is specified), async callbacks are run at\n       * microtask timing, which will occur before paint.\n       *\n       * @method async\n       * @param {Function} callback The callback function to run, bound to `this`.\n       * @param {number=} waitTime Time to wait before calling the\n       *   `callback`.  If unspecified or 0, the callback will be run at microtask\n       *   timing (before paint).\n       * @return {number} Handle that may be used to cancel the async job.\n       */\n      async(callback, waitTime) {\n        var self = this;\n        return Polymer.Async.run(function() {\n          callback.call(self);\n        }, waitTime);\n      }\n\n      /**\n       * Cancels an async operation started with `async`.\n       *\n       * @method cancelAsync\n       * @param {number} handle Handle returned from original `async` call to\n       *   cancel.\n       */\n      cancelAsync(handle) {\n        Polymer.Async.cancel(handle);\n      }\n\n      // other\n\n      /**\n       * Convenience method for creating an element and configuring it.\n       *\n       * @method create\n       * @param {string} tag HTML element tag to create.\n       * @param {Object} props Object of properties to configure on the\n       *    instance.\n       * @return {Element} Newly created and configured element.\n       */\n      create(tag, props) {\n        var elt = document.createElement(tag);\n        if (props) {\n          if (elt.setProperties) {\n            elt.setProperties(props);\n          } else {\n            for (var n in props) {\n              elt[n] = props[n];\n            }\n          }\n        }\n        return elt;\n      }\n\n      /**\n       * Convenience method for importing an HTML document imperatively.\n       *\n       * This method creates a new `<link rel=\"import\">` element with\n       * the provided URL and appends it to the document to start loading.\n       * In the `onload` callback, the `import` property of the `link`\n       * element will contain the imported document contents.\n       *\n       * @method importHref\n       * @param {string} href URL to document to load.\n       * @param {Function} onload Callback to notify when an import successfully\n       *   loaded.\n       * @param {Function} onerror Callback to notify when an import\n       *   unsuccessfully loaded.\n       * @param {boolean} optAsync True if the import should be loaded `async`.\n       *   Defaults to `false`.\n       * @return {HTMLLinkElement} The link element for the URL to be loaded.\n       */\n      importHref(href, onload, onerror, optAsync) { // eslint-disable-line no-unused-vars\n        return Polymer.Utils.importHref.apply(this, arguments);\n      }\n\n      /**\n       * Polyfill for Element.prototype.matches, which is sometimes still\n       * prefixed.\n       *\n       * @method elementMatches\n       * @param {string} selector Selector to test.\n       * @param {Element=} node Element to test the selector against.\n       * @return {boolean} Whether the element matches the selector.\n       */\n      elementMatches(selector, node) {\n        return Polymer.Utils.matchesSelector(node || this, selector);\n      }\n\n      /**\n       * Toggles an HTML attribute on or off.\n       *\n       * @method toggleAttribute\n       * @param {String} name HTML attribute name\n       * @param {boolean=} bool Boolean to force the attribute on or off.\n       *    When unspecified, the state of the attribute will be reversed.\n       * @param {HTMLElement=} node Node to target.  Defaults to `this`.\n       */\n      toggleAttribute(name, bool, node) {\n        node = node || this;\n        if (arguments.length == 1) {\n          bool = !node.hasAttribute(name);\n        }\n        if (bool) {\n          node.setAttribute(name, '');\n        } else {\n          node.removeAttribute(name);\n        }\n      }\n\n\n      /**\n       * Toggles a CSS class on or off.\n       *\n       * @method toggleClass\n       * @param {String} name CSS class name\n       * @param {boolean=} bool Boolean to force the class on or off.\n       *    When unspecified, the state of the class will be reversed.\n       * @param {HTMLElement=} node Node to target.  Defaults to `this`.\n       */\n      toggleClass(name, bool, node) {\n        node = node || this;\n        if (arguments.length == 1) {\n          bool = !node.classList.contains(name);\n        }\n        if (bool) {\n          node.classList.add(name);\n        } else {\n          node.classList.remove(name);\n        }\n      }\n\n      /**\n       * Cross-platform helper for setting an element's CSS `transform` property.\n       *\n       * @method transformText\n       * @param {String} transform Transform setting.\n       * @param {HTMLElement=} node Element to apply the transform to.\n       * Defaults to `this`\n       */\n      transform(transformText, node) {\n        node = node || this;\n        node.style.webkitTransform = transformText;\n        node.style.transform = transformText;\n      }\n\n      /**\n       * Cross-platform helper for setting an element's CSS `translate3d`\n       * property.\n       *\n       * @method translate3d\n       * @param {number} x X offset.\n       * @param {number} y Y offset.\n       * @param {number} z Z offset.\n       * @param {HTMLElement=} node Element to apply the transform to.\n       * Defaults to `this`.\n       */\n      translate3d(x, y, z, node) {\n        node = node || this;\n        this.transform('translate3d(' + x + ',' + y + ',' + z + ')', node);\n      }\n\n      /**\n       * Removes an item from an array, if it exists.\n       *\n       * If the array is specified by path, a change notification is\n       * generated, so that observers, data bindings and computed\n       * properties watching that path can update.\n       *\n       * If the array is passed directly, **no change\n       * notification is generated**.\n       *\n       * @method arrayDelete\n       * @param {String|Array} path Path to array from which to remove the item\n       *   (or the array itself).\n       * @param {any} item Item to remove.\n       * @return {Array} Array containing item removed.\n       */\n      arrayDelete(arrayOrPath, item) {\n        var index;\n        if (Array.isArray(arrayOrPath)) {\n          index = arrayOrPath.indexOf(item);\n          if (index >= 0) {\n            return arrayOrPath.splice(index, 1);\n          }\n        } else {\n          var arr = Polymer.Path.get(this, arrayOrPath);\n          index = arr.indexOf(item);\n          if (index >= 0) {\n            return this.splice(arrayOrPath, index, 1);\n          }\n        }\n      }\n\n    }\n\n  });\n\n  // bc\n  Polymer.LegacyElement = Polymer.LegacyElementMixin(HTMLElement);\n  Polymer.Base = Polymer.LegacyElement.prototype;\n\n})();\n(function() {\n\n    'use strict';\n\n    var utils = Polymer.Utils;\n    var LegacyElementMixin = Polymer.LegacyElementMixin;\n\n    var metaProps = {\n      attached: true,\n      detached: true,\n      ready: true,\n      created: true,\n      beforeRegister: true,\n      registered: true,\n      attributeChanged: true,\n      // meta objects\n      behaviors: true,\n      hostAttributes: true,\n      properties: true,\n      observers: true,\n      listeners: true\n    }\n\n    var mixinBehaviors = function(behaviors, klass) {\n      for (var i=0; i<behaviors.length; i++) {\n        var b = behaviors[i];\n        if (b) {\n          klass = Array.isArray(b) ? mixinBehaviors(b, klass) :\n            MixinBehavior(b, klass);\n        }\n      }\n      return klass;\n    }\n\n    var flattenBehaviors = function(behaviors, list) {\n      list = list || [];\n      if (behaviors) {\n        for (var i=0; i < behaviors.length; i++) {\n          var b = behaviors[i];\n          if (b) {\n            if (Array.isArray(b)) {\n              flattenBehaviors(b, list);\n            } else {\n              if (list.indexOf(b) < 0) {\n                list.push(b);\n              }\n            }\n          } else {\n            Polymer._warn('behavior is null, check for missing or 404 import');\n          }\n        }\n      }\n      return list;\n    }\n\n    var MixinBehavior = function(behavior, Base) {\n\n      var config = {\n        properties: behavior.properties,\n        observers: behavior.observers,\n        generatedFrom: behavior\n      };\n\n      class PolymerGenerated extends Base {\n\n        static get config() {\n          return config;\n        }\n\n        static get template() {\n          return behavior._template || super.template || this.prototype._template;\n        }\n\n        _invokeFunction(fn, args) {\n          if (fn) {\n            fn.apply(this, args);\n          }\n        }\n\n        _initializeProperties() {\n          // call `registered` only if it was not called for *this* constructor\n          if (!PolymerGenerated.hasOwnProperty('__registered')) {\n            PolymerGenerated.__registered = true;\n            if (behavior.registered) {\n              behavior.registered.call(Object.getPrototypeOf(this));\n            }\n          }\n          super._initializeProperties();\n        }\n\n        created() {\n          super.created();\n          this._invokeFunction(behavior.created);\n        }\n\n        _applyListeners() {\n          super._applyListeners();\n          this._applyConfigListeners(behavior);\n        }\n\n        _ensureAttributes() {\n          // ensure before calling super so that subclasses can override defaults\n          this._ensureConfigAttributes(behavior);\n          super._ensureAttributes();\n        }\n\n        ready() {\n          super.ready();\n          this._invokeFunction(behavior.ready);\n        }\n\n        attached() {\n          super.attached();\n          this._invokeFunction(behavior.attached);\n        }\n\n        detached() {\n          super.detached();\n          this._invokeFunction(behavior.detached);\n        }\n\n        attributeChanged(name, old, value) {\n          super.attributeChanged(name, old, value);\n          this._invokeFunction(behavior.attributeChanged, [name, old, value]);\n        }\n      }\n\n      for (var p in behavior) {\n        if (!(p in metaProps))\n          utils.copyOwnProperty(p, behavior, PolymerGenerated.prototype);\n      }\n\n      return PolymerGenerated;\n    }\n\n    //var nativeConstructors = {};\n\n    /**\n     * Returns the native element constructor for the tag specified.\n     *\n     * @method getNativeConstructor\n     * @param {string} tag  HTML tag name.\n     * @return {Object} Native constructor for specified tag.\n    */\n    var getNativeConstructor = function(tag) {\n      if (tag) {\n        // TODO(kschaaf): hack, for now, needs to be removed; needed to allow\n        // subclassing from overwridden constructors in CEv1 polyfill\n        return window['HTML' + tag[0].toUpperCase() + tag.slice(1) + 'Element'];\n        // var c = nativeConstructors[tag];\n        // if (!c) {\n        //   c = document.createElement(tag).constructor;\n        //   nativeConstructors[tag] = c;\n        // }\n        // return c;\n      } else {\n        return HTMLElement;\n      }\n    }\n\n    Polymer.Class = function(info) {\n      if (!info) {\n        Polymer._warn('Polymer.Class requires `info` argument');\n      }\n      var klass = LegacyElementMixin(getNativeConstructor(info.extends));\n      var behaviors = flattenBehaviors(info.behaviors);\n      if (behaviors.length) {\n        klass = mixinBehaviors(behaviors, klass);\n      }\n      klass = MixinBehavior(info, klass);\n      // decorate klass with registration info\n      klass.is = info.is;\n      klass.extends = info.extends;\n      // behaviors on prototype for BC...\n      behaviors.reverse();\n      klass.prototype.behaviors = behaviors;\n      // NOTE: while we could call `beforeRegister` here to maintain\n      // some BC, the state of the element at this point is not as it was in 1.0\n      // In 1.0, the method was called *after* mixing prototypes together\n      // but before processing of meta-objects. Since this is now done\n      // in 1 step via `MixinBehavior`, this is no longer possible.\n      // However, *most* work (not setting `is`) that was previously done in\n      // `beforeRegister` should be possible in `registered`.\n      return klass;\n    }\n\n  })();\n(function() {\n\n    class DomBind extends Polymer.PropertyEffects(HTMLElement) {\n\n      connectedCallback() {\n        this.render();\n      }\n\n      disconnectedCallback() {\n        this._removeChildren();\n      }\n\n      _insertChildren() {\n        this.parentNode.insertBefore(this.root, this);\n      }\n\n      _removeChildren() {\n        if (this._children) {\n          for (var i=0; i<this._children.length; i++) {\n            this.root.appendChild(this._children[i]);\n          }\n        }\n      }\n\n      /**\n       * Forces the element to render its content. This is typically only\n       * necessary to call if HTMLImports with the async attribute are used.\n       */\n      render() {\n        if (!this._children) {\n          var template = this.querySelector('template');\n          if (!template) {\n            throw new Error('dom-bind requires a <template> child');\n          }\n          this._bindTemplate(template);\n          this.root = this._stampTemplate(template);\n          this._children = [];\n          for (var n=this.root.firstChild; n; n=n.nextSibling) {\n            this._children[this._children.length] = n;\n          }\n          this._flushProperties(this);\n        }\n        this._insertChildren();\n        this.dispatchEvent(new CustomEvent('dom-change', {bubbles: true}));\n      }\n\n    }\n\n    customElements.define('dom-bind', DomBind);\n\n  })();\n(function() {\n    'use strict';\n\n    let TemplateInstanceBase = Polymer.PropertyEffects(class{});\n\n    function PatchedHTMLTemplateElement() {\n      return PatchedHTMLTemplateElement._newInstance;\n    }\n    PatchedHTMLTemplateElement.prototype = Object.create(HTMLTemplateElement.prototype, {\n      constructor: {\n        value: PatchedHTMLTemplateElement\n      }\n    });\n    PatchedHTMLTemplateElement._newInstance = null;\n\n    class DataTemplate extends Polymer.PropertyEffects(PatchedHTMLTemplateElement) {\n      static upgradeTemplate(template) {\n        PatchedHTMLTemplateElement._newInstance = template;\n        Object.setPrototypeOf(template, DataTemplate.prototype);\n        new DataTemplate();\n        PatchedHTMLTemplateElement._newInstance = null;\n      }\n    }\n\n    class Templatizer {\n\n      static enqueueDebouncer(debouncer) {\n        this._debouncerQueue = this._debouncerQueue || [];\n        this._debouncerQueue.push(debouncer);\n      }\n\n      static flush() {\n        if (this._debouncerQueue) {\n          while (this._debouncerQueue.length) {\n            this._debouncerQueue.shift().flush();\n          }\n        }\n      }\n\n      templatize(template, options) {\n        let klass = template.__templatizerClass;\n        // Return memoized class if already templatized (allows calling\n        // templatize on same template more than once)\n        if (klass) {\n          return klass;\n        }\n        // Ensure template has _content\n        template._content = template._content || template.content;\n        // Get memoized base class for the prototypical template\n        let baseClass = template._content.__templatizerClass;\n        if (!baseClass) {\n          baseClass = template._content.__templatizerClass =\n            this._createTemplatizerClass(template, options);\n        }\n        // Host property forwarding must be installed onto template instance\n        this._prepHostProperties(template, options);\n        // Subclass base class to add template reference for this specific\n        // template\n        klass = class TemplateInstance extends baseClass {};\n        klass.prototype.__template = template;\n        klass.instCount = 0;\n        template.__templatizerClass = klass;\n        return klass;\n      }\n\n      _createTemplatizerClass(template, options) {\n        // Anonymous class created by the templatizer\n        var klass = class extends TemplateInstanceBase {\n          //TODO(kschaaf): for debugging; remove?\n          get localName() { return 'template#' + this.__template.id + '/TemplateInstance' }\n          constructor(host, props) {\n            super();\n            //TODO(kschaaf): for debugging; remove?\n            this.id = this.constructor.instCount;\n            this.constructor.instCount++;\n            this.__dataHost = this.__template;\n            // Root data host is always calculated based on the template, which\n            // is guaranteed to have a __dataHost (due to being in __dataNodes for\n            // purposes of getting templateContent)\n            let templateHost = this.__template.__dataHost;\n            this._rootDataHost =\n              templateHost && templateHost._rootDataHost || templateHost;\n            this._hostProps = template._content._hostProps;\n            this._configureProperties(props);\n            //TODO(kschaaf): id marshalling unnecessary\n            this.root = this._stampTemplate(template);\n            // Save list of stamped children\n            var children = this.children = [];\n            for (var n = this.root.firstChild; n; n=n.nextSibling) {\n              children.push(n);\n              n._templateInstance = this;\n            }\n            if (host.__hideTemplateChildren__) {\n              this._showHideChildren(true);\n            }\n            // Flush props only when props are passed if instance props exist\n            // or when there isn't instance props.\n            if ((props && options.instanceProps) || !options.instanceProps) {\n              this._flushProperties(true);\n            }\n          }\n          _showHideChildren(hide) {\n            var c = this.children;\n            for (var i=0; i<c.length; i++) {\n              var n = c[i];\n              // Ignore non-changes\n              if (Boolean(hide) != Boolean(n.__hideTemplateChildren__)) {\n                if (n.nodeType === Node.TEXT_NODE) {\n                  if (hide) {\n                    n.__polymerTextContent__ = n.textContent;\n                    n.textContent = '';\n                  } else {\n                    n.textContent = n.__polymerTextContent__;\n                  }\n                } else if (n.style) {\n                  if (hide) {\n                    n.__polymerDisplay__ = n.style.display;\n                    n.style.display = 'none';\n                  } else {\n                    n.style.display = n.__polymerDisplay__;\n                  }\n                }\n              }\n              n.__hideTemplateChildren__ = hide;\n              if (n._showHideChildren) {\n                n._showHideChildren(hide);\n              }\n            }\n          }\n          _configureProperties(props) {\n            if (props) {\n              for (var iprop in options.instanceProps) {\n                if (iprop in props) {\n                  this[iprop] = props[iprop];\n                }\n              }\n            }\n            for (var hprop in this._hostProps) {\n              this[hprop] = this.__template['_host_' + hprop];\n            }\n          }\n          forwardProperty(prop, value, host) {\n            this._setPendingProperty(prop, value);\n            if (host) {\n              host._enqueueClient(this);\n            }\n          }\n          flushProperties() {\n            this._flushProperties(true);\n          }\n          dispatchEvent() { }\n          _addEventListenerToNode(node, eventName, handler) {\n            if (this._rootDataHost) {\n              this._rootDataHost._addEventListenerToNode(node, eventName, (e) => {\n                e.model = this;\n                handler(e);\n              });\n            }\n          }\n        }\n        klass.prototype._bindTemplate(template);\n        this._prepInstanceProperties(klass, template, options);\n        return klass;\n      }\n\n      _prepHostProperties(template, options) {\n        if (options.fwdHostPropToInstance) {\n          // Provide data API\n          // TODO(kschaaf): memoize template proto\n          DataTemplate.upgradeTemplate(template);\n          // Add template - >instances effects\n          // and host <- template effects\n          var hostProps = template._content._hostProps;\n          for (var prop in hostProps) {\n            template._addPropertyEffect('_host_' + prop,\n              template.PROPERTY_EFFECT_TYPES.PROPAGATE,\n              {fn: this._createHP2IEffector(prop, options)});\n            template._createNotifyingProperty('_host_' + prop);\n          }\n          // Mix any pre-bound data into __data; no need to flush this to\n          // instances since they pull from the template at instance-time\n          if (template.__dataProto) {\n            Polymer.Utils.mixin(template.__data, template.__dataProto);\n          }\n          // Clear any pending data since we're eliding a flush for performance\n          template.__dataOld = {};\n          template.__dataTemp = {};\n          template.__dataPending = {};\n        }\n      }\n\n      _createHP2IEffector(hostProp, options) {\n        return function(template, prop, value) {\n          options.fwdHostPropToInstance.call(template, template,\n            prop.substring('_host_'.length), value);\n        }\n      }\n\n      _prepInstanceProperties(klass, template, options) {\n        var hostProps = template._content._hostProps || {};\n        for (var iprop in options.instanceProps) {\n          delete hostProps[iprop];\n          if (options.fwdInstancePropToHost) {\n            klass.prototype._addPropertyEffect(iprop,\n              klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,\n              {fn: this._createIP2HEffector(iprop, options)});\n          }\n        }\n        if (options.fwdHostPropToInstance && template.__dataHost) {\n          for (var hprop in hostProps) {\n            klass.prototype._addPropertyEffect(hprop,\n              klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,\n              {fn: this._createHP2HEffector()})\n          }\n        }\n      }\n\n      _createIP2HEffector(instProp, options) {\n        return function fwdInstPropToHost(inst, prop, value, old, info, fromAbove) {\n          if (!fromAbove) {\n            options.fwdInstancePropToHost.call(inst, inst, prop, value);\n          }\n        }\n      }\n\n      _createHP2HEffector() {\n        return function fwdHostPropToHost(inst, prop, value, old, info, fromAbove) {\n          if (!fromAbove) {\n            // TODO(kschaaf) This does not take advantage of the efficient\n            // upward flow in batched effects\n            inst.__template._setProperty('_host_' + prop, value);\n          }\n        }\n      }\n\n      /**\n       * Returns the template \"model\" associated with a given element, which\n       * serves as the binding scope for the template instance the element is\n       * contained in. A template model is an instance of `Polymer.Base`, and\n       * should be used to manipulate data associated with this template instance.\n       *\n       * Example:\n       *\n       *   var model = modelForElement(el);\n       *   if (model.index < 10) {\n       *     model.set('item.checked', true);\n       *   }\n       *\n       * @method modelForElement\n       * @param {HTMLElement} el Element for which to return a template model.\n       * @return {Object<Polymer.Base>} Model representing the binding scope for\n       *   the element.\n       */\n      modelForElement(host, el) {\n        var model;\n        while (el) {\n          // An element with a _templateInstance marks the top boundary\n          // of a scope; walk up until we find one, and then ensure that\n          // its __dataHost matches `this`, meaning this dom-repeat stamped it\n          if ((model = el._templateInstance)) {\n            // Found an element stamped by another template; keep walking up\n            // from its __dataHost\n            if (model.__dataHost != host) {\n              el = model.__dataHost;\n            } else {\n              return model;\n            }\n          } else {\n            // Still in a template scope, keep going up until\n            // a _templateInstance is found\n            el = el.parentNode;\n          }\n        }\n      }\n    }\n\n    Polymer.Templatizer = Templatizer;\n\n  })();\n(function() {\n  'use strict';\n\n  var templatizer = new Polymer.Templatizer();\n\n  class DomRepeat extends Polymer.Element {\n\n    static get template() { return null; }\n\n    static get config() { \n\n      return {\n\n        /**\n         * Fired whenever DOM is added or removed by this template (by\n         * default, rendering occurs lazily).  To force immediate rendering, call\n         * `render`.\n         *\n         * @event dom-change\n         */\n\n        properties: {\n\n          /**\n           * An array containing items determining how many instances of the template\n           * to stamp and that that each template instance should bind to.\n           */\n          items: {\n            type: Array\n          },\n\n          /**\n           * The name of the variable to add to the binding scope for the array\n           * element associated with a given template instance.\n           */\n          as: {\n            type: String,\n            value: 'item'\n          },\n\n          /**\n           * The name of the variable to add to the binding scope with the index\n           * for the inst.  If `sort` is provided, the index will reflect the\n           * sorted order (rather than the original array order).\n           */\n          indexAs: {\n            type: String,\n            value: 'index'\n          },\n\n          /**\n           * The name of the variable to add to the binding scope with the index\n           * for the inst.  If `sort` is provided, the index will reflect the\n           * sorted order (rather than the original array order).\n           */\n          itemsIndexAs: {\n            type: String,\n            value: 'itemsIndex'\n          },\n\n          /**\n           * A function that should determine the sort order of the items.  This\n           * property should either be provided as a string, indicating a method\n           * name on the element's host, or else be an actual function.  The\n           * function should match the sort function passed to `Array.sort`.\n           * Using a sort function has no effect on the underlying `items` array.\n           */\n          sort: {\n            type: Function,\n            observer: '_sortChanged'\n          },\n\n          /**\n           * A function that can be used to filter items out of the view.  This\n           * property should either be provided as a string, indicating a method\n           * name on the element's host, or else be an actual function.  The\n           * function should match the sort function passed to `Array.filter`.\n           * Using a filter function has no effect on the underlying `items` array.\n           */\n          filter: {\n            type: Function,\n            observer: '_filterChanged'\n          },\n\n          /**\n           * When using a `filter` or `sort` function, the `observe` property\n           * should be set to a space-separated list of the names of item\n           * sub-fields that should trigger a re-sort or re-filter when changed.\n           * These should generally be fields of `item` that the sort or filter\n           * function depends on.\n           */\n          observe: {\n            type: String,\n            observer: '_observeChanged'\n          },\n\n          /**\n           * When using a `filter` or `sort` function, the `delay` property\n           * determines a debounce time after a change to observed item\n           * properties that must pass before the filter or sort is re-run.\n           * This is useful in rate-limiting shuffing of the view when\n           * item changes may be frequent.\n           */\n          delay: Number,\n\n          /**\n           * Count of currently rendered items after `filter` (if any) has been applied.\n           * If \"chunking mode\" is enabled, `renderedItemCount` is updated each time a\n           * set of template instances is rendered.\n           *\n           */\n          renderedItemCount: {\n            type: Number,\n            notify: true,\n            readOnly: true\n          },\n\n          /**\n           * Defines an initial count of template instances to render after setting\n           * the `items` array, before the next paint, and puts the `dom-repeat`\n           * into \"chunking mode\".  The remaining items will be created and rendered\n           * incrementally at each animation frame therof until all instances have\n           * been rendered.\n           */\n          initialCount: {\n            type: Number,\n            observer: '_initializeChunking'\n          },\n\n          /**\n           * When `initialCount` is used, this property defines a frame rate to\n           * target by throttling the number of instances rendered each frame to\n           * not exceed the budget for the target frame rate.  Setting this to a\n           * higher number will allow lower latency and higher throughput for\n           * things like event handlers, but will result in a longer time for the\n           * remaining items to complete rendering.\n           */\n          targetFramerate: {\n            type: Number,\n            value: 20\n          },\n\n          _targetFrameTime: {\n            type: Number,\n            computed: '_computeFrameTime(targetFramerate)'\n          }\n\n        },\n\n        observers: [\n          '_itemsChanged(items.*)'\n        ]\n\n      }\n\n    }\n\n\n    constructor() {\n      super();\n      this._instances = [];\n      this._pool = [];\n      this._limit = Infinity;\n      this._renderDebouncer = null;\n      this._itemsIdxToInstIdx = {};\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.__isDetached = true;\n      for (var i=0; i<this._instances.length; i++) {\n        this._detachInstance(i);\n      }\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      // only perform attachment if the element was previously detached.\n      if (this.__isDetached) {\n        this.__isDetached = false;\n        var parent = this.parentNode;\n        for (var i=0; i<this._instances.length; i++) {\n          this._attachInstance(i, parent);\n        }\n      }\n    }\n\n    ensureTemplatized() {\n      // Templatizing (generating the instance constructor) needs to wait\n      // until ready, since won't have its template content handed back to\n      // it until then\n      if (!this._ctor) {\n        var template = this.template = this.querySelector('template');\n        template.__domRepeat = this;\n        if (!template) {\n          throw new Error('dom-repeat requires a <template> child');\n        }\n        // Template instance props that should be excluded from forwarding\n        var instanceProps = {};\n        instanceProps[this.as] = true;\n        instanceProps[this.indexAs] = true;\n        instanceProps[this.itemsIndexAs] = true;\n        this._ctor = templatizer.templatize(template, {\n          instanceProps: instanceProps,\n          fwdHostPropToInstance: function(template, prop, value) {\n            let repeater = template.__domRepeat;\n            var i$ = repeater._instances;\n            for (var i=0, inst; (i<i$.length) && (inst=i$[i]); i++) {\n              inst.forwardProperty(prop, value, template);\n            }\n          },\n          fwdInstancePropToHost: function(inst, prop, value) {\n            let repeater = inst.__template.__domRepeat;\n            if (Polymer.Path.matches(repeater.as, prop)) {\n              let idx = inst[repeater.itemsIndexAs];\n              if (prop == repeater.as) {\n                repeater.items[idx] = value;\n              }\n              let path = Polymer.Path.translate(repeater.as, 'items.' + idx, prop);\n              repeater.notifyPath(path, value);\n            }\n          }\n        });\n      }\n    }\n\n    _getRootDataHost() {\n      return this.__dataHost._rootDataHost || this.__dataHost;\n    }\n\n    _sortChanged(sort) {\n      var dataHost = this._getRootDataHost();\n      this._sortFn = sort && (typeof sort == 'function' ? sort :\n        function() { return dataHost[sort].apply(dataHost, arguments); });\n      this._needFullRefresh = true;\n      if (this.items) {\n        this._debounceRender(this._render);\n      }\n    }\n\n    _filterChanged(filter) {\n      var dataHost = this._getRootDataHost();\n      this._filterFn = filter && (typeof filter == 'function' ? filter :\n        function() { return dataHost[filter].apply(dataHost, arguments); });\n      this._needFullRefresh = true;\n      if (this.items) {\n        this._debounceRender(this._render);\n      }\n    }\n\n    _computeFrameTime(rate) {\n      return Math.ceil(1000/rate);\n    }\n\n    _initializeChunking() {\n      if (this.initialCount) {\n        this._limit = this.initialCount;\n        this._chunkCount = this.initialCount;\n        this._lastChunkTime = performance.now();\n      }\n    }\n\n    _tryRenderChunk() {\n      // Debounced so that multiple calls through `_render` between animation\n      // frames only queue one new rAF (e.g. array mutation & chunked render)\n      if (this.items && this._limit < this.items.length) {\n        this._debounceRender(this._requestRenderChunk);\n      }\n    }\n\n    _requestRenderChunk() {\n      requestAnimationFrame(()=>this._renderChunk());\n    }\n\n    _renderChunk() {\n      // Simple auto chunkSize throttling algorithm based on feedback loop:\n      // measure actual time between frames and scale chunk count by ratio\n      // of target/actual frame time\n      var currChunkTime = performance.now();\n      var ratio = this._targetFrameTime / (currChunkTime - this._lastChunkTime);\n      this._chunkCount = Math.round(this._chunkCount * ratio) || 1;\n      this._limit += this._chunkCount;\n      this._lastChunkTime = currChunkTime;\n      this._debounceRender(this._render);\n    }\n\n    _observeChanged() {\n      this._observePaths = this.observe &&\n        this.observe.replace('.*', '.').split(' ');\n    }\n\n    _itemsChanged(change) {\n      if (this.items && !Array.isArray(this.items)) {\n        console.warn('dom-repeat expected array for `items`, found', this.items);\n      }\n      // If path was to an item (e.g. 'items.3' or 'items.3.foo'), forward the\n      // path to that instance synchronously (retuns false for non-item paths)\n      if (!this._handleItemPath(change.path, change.value)) {\n        // Otherwise, the array was reset ('items') or spliced ('items.splices'),\n        // so queue a full refresh\n        this._needFullRefresh = true;\n        this._initializeChunking();\n        this._debounceRender(this._render);\n      }\n    }\n\n    _handleObservedPaths(path) {\n      if (this._observePaths) {\n        path = path.substring(path.indexOf('.') + 1);\n        var paths = this._observePaths;\n        for (var i=0; i<paths.length; i++) {\n          if (path.indexOf(paths[i]) === 0) {\n            this._needFullRefresh = true;\n            this._debounceRender(this._render, this.delay);\n            return true;\n          }\n        }\n      }\n    }\n\n    _debounceRender(fn, delay) {\n      this._renderDebouncer =\n        Polymer.Debouncer.debounce(this._renderDebouncer, fn, delay, this);\n      Polymer.Templatizer.enqueueDebouncer(this._renderDebouncer);\n    }\n\n    /**\n     * Forces the element to render its content. Normally rendering is\n     * asynchronous to a provoking change. This is done for efficiency so\n     * that multiple changes trigger only a single render. The render method\n     * should be called if, for example, template rendering is required to\n     * validate application state.\n     */\n    render() {\n      // Queue this repeater, then flush all in order\n      this._needFullRefresh = true;\n      this._debounceRender(this._render);\n      Polymer.Templatizer.flush();\n    }\n\n    _render() {\n      this.ensureTemplatized();\n      this._applyFullRefresh();\n      // Reset the pool\n      // TODO(kschaaf): Reuse pool across turns and nested templates\n      // Requires updating hostProps and dealing with the fact that path\n      // notifications won't reach instances sitting in the pool, which\n      // could result in out-of-sync instances since simply re-setting\n      // `item` may not be sufficient if the pooled instance happens to be\n      // the same item.\n      this._pool.length = 0;\n      // Set rendered item count\n      this._setRenderedItemCount(this._instances.length);\n      // Notify users\n      this.dispatchEvent(new CustomEvent('dom-change', {bubbles: true}));\n      // Check to see if we need to render more items\n      this._tryRenderChunk();\n    }\n\n    _applyFullRefresh() {\n      const items = this.items || [];\n      let isntIdxToItemsIdx = new Array(items.length);\n      for (let i=0; i<items.length; i++) {\n        isntIdxToItemsIdx[i] = i;\n      }\n      // Apply user filter\n      if (this._filterFn) {\n        isntIdxToItemsIdx = isntIdxToItemsIdx.filter((i, idx, array) =>\n          this._filterFn(items[i], idx, array));\n      }\n      // Apply user sort\n      if (this._sortFn) {\n        isntIdxToItemsIdx.sort((a, b) => this._sortFn(items[a], items[b]));\n      }\n      // items->inst map kept for item path forwarding\n      const itemsIdxToInstIdx = this._itemsIdxToInstIdx = {};\n      let instIdx = 0;\n      // Generate instances and assign items\n      const limit = Math.min(isntIdxToItemsIdx.length, this._limit);\n      for (; instIdx<limit; instIdx++) {\n        let inst = this._instances[instIdx];\n        let itemIdx = isntIdxToItemsIdx[instIdx];\n        let item = items[itemIdx];\n        itemsIdxToInstIdx[itemIdx] = instIdx;\n        if (inst && instIdx < this._limit) {\n          inst.forwardProperty(this.as, item);\n          inst.forwardProperty(this.indexAs, instIdx);\n          inst.forwardProperty(this.itemsIndexAs, itemIdx);\n          inst.flushProperties();\n        } else {\n          this._insertInstance(item, instIdx, itemIdx);\n        }\n      }\n      // Remove any extra instances from previous state\n      for (let i=this._instances.length-1; i>=instIdx; i--) {\n        this._detachAndRemoveInstance(i);\n      }\n    }\n\n    _detachInstance(idx) {\n      var inst = this._instances[idx];\n      //TODO(sorvell): why is this necessary?\n      if (inst.children) {\n        for (var i=0; i<inst.children.length; i++) {\n          var el = inst.children[i];\n          inst.root.appendChild(el);\n        }\n      }\n      return inst;\n    }\n\n    _attachInstance(idx, parent) {\n      var inst = this._instances[idx];\n      parent.insertBefore(inst.root, this);\n    }\n\n    _detachAndRemoveInstance(idx) {\n      var inst = this._detachInstance(idx);\n      if (inst) {\n        this._pool.push(inst);\n      }\n      this._instances.splice(idx, 1);\n    }\n\n    _stampInstance(item, instIdx, itemIdx) {\n      var model = {};\n      model[this.as] = item;\n      model[this.indexAs] = instIdx;\n      model[this.itemsIndexAs] = itemIdx;\n      return new this._ctor(this, model);\n    }\n\n    _insertInstance(item, instIdx, itemIdx) {\n      var inst = this._pool.pop();\n      if (inst) {\n        // TODO(kschaaf): If the pool is shared across turns, hostProps\n        // need to be re-set to reused instances in addition to item\n        inst.forwardProperty(this.as, item);\n        inst.forwardProperty(this.indexAs, instIdx);\n        inst.forwardProperty(this.itemsIndexAs, itemIdx);\n      } else {\n        inst = this._stampInstance(item, instIdx, itemIdx);\n      }\n      var beforeRow = this._instances[instIdx + 1];\n      var beforeNode = beforeRow ? beforeRow.children[0] : this;\n      // TODO(sorvell): remove when fragment patching is auto-magic.\n      if (window.ShadyDOM) {\n        ShadyDOM.patch(inst.root);\n      }\n      this.parentNode.insertBefore(inst.root, beforeNode);\n      this._instances[instIdx] = inst;\n      return inst;\n    }\n\n    // Implements extension point from Templatizer mixin\n    _showHideChildren(hidden) {\n      for (var i=0; i<this._instances.length; i++) {\n        this._instances[i]._showHideChildren(hidden);\n      }\n    }\n\n    // Called as a side effect of a host items.<key>.<path> path change,\n    // responsible for notifying item.<path> changes to inst for key\n    _handleItemPath(path, value) {\n      var itemsPath = path.slice(6); // 'items.'.length == 6\n      var dot = itemsPath.indexOf('.');\n      var itemsIdx = dot < 0 ? itemsPath : itemsPath.substring(0, dot);\n      // If path was index into array...\n      if (itemsIdx == parseInt(itemsIdx)) {\n        var itemPath = dot < 0 ? '' : itemsPath.substring(dot+1);\n        // See if the item subpath should trigger a full refresh...\n        if (!this._handleObservedPaths(itemPath)) {\n          // If not, forward to the instance for that index\n          var instIdx = this._itemsIdxToInstIdx[itemsIdx];\n          var inst = this._instances[instIdx];\n          if (inst) {\n            inst.forwardProperty(this.as + (itemPath ? '.' + itemPath : ''), value);\n            inst.flushProperties();\n          }\n        }        \n        return true;\n      }\n    }\n\n    /**\n     * Returns the item associated with a given element stamped by\n     * this `dom-repeat`.\n     *\n     * Note, to modify sub-properties of the item,\n     * `modelForElement(el).set('item.<sub-prop>', value)`\n     * should be used.\n     *\n     * @method itemForElement\n     * @param {HTMLElement} el Element for which to return the item.\n     * @return {any} Item associated with the element.\n     */\n    itemForElement(el) {\n      var instance = this.modelForElement(el);\n      return instance && instance[this.as];\n    }\n\n    /**\n     * Returns the inst index for a given element stamped by this `dom-repeat`.\n     * If `sort` is provided, the index will reflect the sorted order (rather\n     * than the original array order).\n     *\n     * @method indexForElement\n     * @param {HTMLElement} el Element for which to return the index.\n     * @return {any} Row index associated with the element (note this may\n     *   not correspond to the array index if a user `sort` is applied).\n     */\n    indexForElement(el) {\n      var instance = this.modelForElement(el);\n      return instance && instance[this.indexAs];\n    }\n\n    /**\n     * Returns the template \"model\" associated with a given element, which\n     * serves as the binding scope for the template instance the element is\n     * contained in. A template model is an instance of `Polymer.Base`, and\n     * should be used to manipulate data associated with this template instance.\n     *\n     * Example:\n     *\n     *   var model = modelForElement(el);\n     *   if (model.index < 10) {\n     *     model.set('item.checked', true);\n     *   }\n     *\n     * @method modelForElement\n     * @param {HTMLElement} el Element for which to return a template model.\n     * @return {Object<Polymer.Base>} Model representing the binding scope for\n     *   the element.\n     */\n    modelForElement(el) {\n      return templatizer.modelForElement(this.template, el);\n    }\n\n  }\n\n  customElements.define('dom-repeat', DomRepeat);\n\n  Polymer.DomRepeat = DomRepeat;\n\n})();\n(function() {\n\n  var templatizer = new Polymer.Templatizer();\n\n  /**\n   * Stamps the template iff the `if` property is truthy.\n   *\n   * When `if` becomes falsey, the stamped content is hidden but not\n   * removed from dom. When `if` subsequently becomes truthy again, the content\n   * is simply re-shown. This approach is used due to its favorable performance\n   * characteristics: the expense of creating template content is paid only\n   * once and lazily.\n   *\n   * Set the `restamp` property to true to force the stamped content to be\n   * created / destroyed when the `if` condition changes.\n   */\n  class DomIf extends Polymer.Element {\n\n    static get template() { return null; }\n\n    static get config() { \n\n      return {\n\n        /**\n         * Fired whenever DOM is added or removed/hidden by this template (by\n         * default, rendering occurs lazily).  To force immediate rendering, call\n         * `render`.\n         *\n         * @event dom-change\n         */\n\n        properties: {\n\n          /**\n           * A boolean indicating whether this template should stamp.\n           */\n          'if': {\n            type: Boolean,\n            observer: '_debounceRender'\n          },\n\n          /**\n           * When true, elements will be removed from DOM and discarded when `if`\n           * becomes false and re-created and added back to the DOM when `if`\n           * becomes true.  By default, stamped elements will be hidden but left\n           * in the DOM when `if` becomes false, which is generally results\n           * in better performance.\n           */\n          restamp: {\n            type: Boolean,\n            observer: '_debounceRender'\n          }\n\n        }\n\n      };\n\n    }\n\n    constructor() {\n      super();\n      this._renderDebouncer = null;\n    }\n\n    _debounceRender() {\n      this._renderDebouncer =\n        Polymer.Debouncer.debounce(this._renderDebouncer, this._render, null, this);\n      Polymer.Templatizer.enqueueDebouncer(this._renderDebouncer);\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      if (!this.parentNode ||\n          (this.parentNode.nodeType == Node.DOCUMENT_FRAGMENT_NODE &&\n           !this.parentNode.host)) {\n        this._teardownInstance();\n      }\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      if (this.if) {\n        this._debounceRender();\n      }\n    }\n\n    /**\n     * Forces the element to render its content. Normally rendering is\n     * asynchronous to a provoking change. This is done for efficiency so\n     * that multiple changes trigger only a single render. The render method\n     * should be called if, for example, template rendering is required to\n     * validate application state.\n     */\n    render() {\n      Polymer.Templatizer.flush();\n    }\n\n    _render() {\n      if (this.if) {\n        this._ensureInstance();\n        this._showHideChildren();\n      } else if (this.restamp) {\n        this._teardownInstance();\n      }\n      if (!this.restamp && this._instance) {\n        this._showHideChildren();\n      }\n      if (this.if != this._lastIf) {\n        this.dispatchEvent(new CustomEvent('dom-change', {bubbles: true}));\n        this._lastIf = this.if;\n      }\n    }\n\n    _ensureInstance() {\n      var parentNode = this.parentNode;\n      // Guard against element being detached while render was queued\n      if (parentNode) {\n        if (!this._ctor) {\n          var template = this.querySelector('template');\n          template.__domIf = this;\n          if (!template) {\n            throw new Error('dom-if requires a <template> child');\n          }\n          this._ctor = templatizer.templatize(template, {\n            fwdHostPropToInstance: function(host, prop, value) {\n              let domif = template.__domIf;\n              if (domif._instance) {\n                domif._instance.forwardProperty(prop, value, host);\n              }\n            }\n          });\n        }\n        if (!this._instance) {\n          this._instance = new this._ctor(this);\n          var root = this._instance.root;\n          parentNode.insertBefore(root, this);\n        } else {\n          var c$ = this._instance.children;\n          if (c$ && c$.length) {\n            // Detect case where dom-if was re-attached in new position\n            var lastChild = this.previousSibling;\n            if (lastChild !== c$[c$.length-1]) {\n              for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n                parentNode.insertBefore(n, this);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    _teardownInstance() {\n      if (this._instance) {\n        var c$ = this._instance.children;\n        if (c$ && c$.length) {\n          // use first child parent, for case when dom-if may have been detached\n          var parent = c$[0].parentNode;\n          for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n            parent.removeChild(n);\n          }\n        }\n        this._instance = null;\n      }\n    }\n\n    _showHideChildren() {\n      var hidden = this.__hideTemplateChildren__ || !this.if;\n      if (this._instance) {\n        this._instance._showHideChildren(hidden);\n      }\n    }\n\n  }\n\n  customElements.define('dom-if', DomIf);\n\n  Polymer.DomIf = DomIf;\n\n})();\n(function() {\n  'use strict';\n  // NOTE: CustomStyle must be loaded prior to loading Polymer.\n  // To support asynchronous loading of custom-style, an async import\n  // can be made that loads custom-style and then polymer.\n  if (window.CustomStyle) {\n    var attr = 'include';\n    window.CustomStyle.processHook = function(style) {\n      var include = style.getAttribute(attr);\n      if (!include) {\n        return;\n      }\n      style.removeAttribute(attr);\n      style.textContent = Polymer.StyleGather.cssFromModules(include) + style.textContent;\n    };\n  }\n\n})();\n(function () {\n  var _bindingRegex_patch = {\n    // Issue with https://github.com/Polymer/polymer/issues/3349 \n    _bindingRegex_1_2_4: (function() {\n      var IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$-*]*' + ')';\n      var NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\n      var SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\n      var DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\n      var STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\n      var ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' +  STRING + '\\\\s*' + ')';\n      var ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\n      var ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                                    '(?:' + ARGUMENTS + '?' + ')' +\n                                  '\\\\)\\\\s*' + ')';\n      var BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\n      var OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\n      var CLOSE_BRACKET = '(?:]]|}})';\n      var NEGATE = '(?:(!)\\\\s*)?'; // Group 2\n      var EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\n      return new RegExp(EXPRESSION, \"g\");\n    })(),\n\n    // Fix from https://github.com/TimvdLippe/polymer/blob/fix-binding-with-dash/src/lib/annotations/annotations.html\n    _bindingRegex_1_2_4_patched: (function() {\n      var IDENT  = '(?:' + '[a-zA-Z_\\\\$][\\\\w\\\\.:\\\\$\\\\-\\\\*]*' + ')';\n      var NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\n      var SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\n      var DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\n      var STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\n      var ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' +  STRING + '\\\\s*' + ')';\n      var ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\n      var ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                                    '(?:' + ARGUMENTS + '?' + ')' +\n                                  '\\\\)\\\\s*' + ')';\n      var BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\n      var OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\n      var CLOSE_BRACKET = '(?:]]|}})';\n      var NEGATE = '(?:(!)\\\\s*)?'; // Group 2\n      var EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\n      return new RegExp(EXPRESSION, \"g\");\n    })()\n  };\n    \n  if (!Polymer.ElementMixin && Polymer.Annotations._bindingRegex.toString() === \n      _bindingRegex_patch._bindingRegex_1_2_4.toString()) {\n    console.log('Fixing Polymer issue#3349 by patching Polymer.Annotations._bindingRegex for Polymer 1.2.4');\n    Polymer.Annotations._bindingRegex = _bindingRegex_patch._bindingRegex_1_2_4_patched;\n  }\n})();\n'use strict';\n\n  Polymer({\n    is: 'iron-request',\n\n    hostAttributes: {\n      hidden: true\n    },\n\n    properties: {\n\n      /**\n       * A reference to the XMLHttpRequest instance used to generate the\n       * network request.\n       *\n       * @type {XMLHttpRequest}\n       */\n      xhr: {\n        type: Object,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return new XMLHttpRequest();\n        }\n      },\n\n      /**\n       * A reference to the parsed response body, if the `xhr` has completely\n       * resolved.\n       *\n       * @type {*}\n       * @default null\n       */\n      response: {\n        type: Object,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return null;\n        }\n      },\n\n      /**\n       * A reference to the status code, if the `xhr` has completely resolved.\n       */\n      status: {\n        type: Number,\n        notify: true,\n        readOnly: true,\n        value: 0\n      },\n\n      /**\n       * A reference to the status text, if the `xhr` has completely resolved.\n       */\n      statusText: {\n        type: String,\n        notify: true,\n        readOnly: true,\n        value: ''\n      },\n\n      /**\n       * A promise that resolves when the `xhr` response comes back, or rejects\n       * if there is an error before the `xhr` completes.\n       *\n       * @type {Promise}\n       */\n      completes: {\n        type: Object,\n        readOnly: true,\n        notify: true,\n        value: function() {\n          return new Promise(function (resolve, reject) {\n            this.resolveCompletes = resolve;\n            this.rejectCompletes = reject;\n          }.bind(this));\n        }\n      },\n\n      /**\n       * An object that contains progress information emitted by the XHR if\n       * available.\n       *\n       * @default {}\n       */\n      progress: {\n        type: Object,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return {};\n        }\n      },\n\n      /**\n       * Aborted will be true if an abort of the request is attempted.\n       */\n      aborted: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        value: false,\n      },\n\n      /**\n       * Errored will be true if the browser fired an error event from the\n       * XHR object (mainly network errors).\n       */\n      errored: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        value: false\n      },\n\n      /**\n       * TimedOut will be true if the XHR threw a timeout event.\n       */\n      timedOut: {\n        type: Boolean,\n        notify: true,\n        readOnly: true,\n        value: false\n      }\n    },\n\n    /**\n     * Succeeded is true if the request succeeded. The request succeeded if it\n     * loaded without error, wasn't aborted, and the status code is  200, and\n     * < 300, or if the status code is 0.\n     *\n     * The status code 0 is accepted as a success because some schemes - e.g.\n     * file:// - don't provide status codes.\n     *\n     * @return {boolean}\n     */\n    get succeeded() {\n      if (this.errored || this.aborted || this.timedOut) {\n        return false;\n      }\n      var status = this.xhr.status || 0;\n\n      // Note: if we are using the file:// protocol, the status code will be 0\n      // for all outcomes (successful or otherwise).\n      return status === 0 ||\n        (status >= 200 && status < 300);\n    },\n\n    /**\n     * Sends an HTTP request to the server and returns the XHR object.\n     *\n     * The handling of the `body` parameter will vary based on the Content-Type\n     * header. See the docs for iron-ajax's `body` param for details.\n     *\n     * @param {{\n     *   url: string,\n     *   method: (string|undefined),\n     *   async: (boolean|undefined),\n     *   body: (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object),\n     *   headers: (Object|undefined),\n     *   handleAs: (string|undefined),\n     *   jsonPrefix: (string|undefined),\n     *   withCredentials: (boolean|undefined)}} options -\n     *     url The url to which the request is sent.\n     *     method The HTTP method to use, default is GET.\n     *     async By default, all requests are sent asynchronously. To send synchronous requests,\n     *         set to false.\n     *     body The content for the request body for POST method.\n     *     headers HTTP request headers.\n     *     handleAs The response type. Default is 'text'.\n     *     withCredentials Whether or not to send credentials on the request. Default is false.\n     *   timeout: (Number|undefined)\n     * @return {Promise}\n     */\n    send: function (options) {\n      var xhr = this.xhr;\n\n      if (xhr.readyState > 0) {\n        return null;\n      }\n\n      xhr.addEventListener('progress', function (progress) {\n        this._setProgress({\n          lengthComputable: progress.lengthComputable,\n          loaded: progress.loaded,\n          total: progress.total\n        });\n      }.bind(this))\n\n      xhr.addEventListener('error', function (error) {\n        this._setErrored(true);\n        this._updateStatus();\n        this.rejectCompletes(error);\n      }.bind(this));\n\n      xhr.addEventListener('timeout', function (error) {\n        this._setTimedOut(true);\n        this._updateStatus();\n        this.rejectCompletes(error);\n      }.bind(this));\n\n      xhr.addEventListener('abort', function () {\n        this._updateStatus();\n        this.rejectCompletes(new Error('Request aborted.'));\n      }.bind(this));\n\n      // Called after all of the above.\n      xhr.addEventListener('loadend', function () {\n        this._updateStatus();\n        this._setResponse(this.parseResponse());\n\n        if (!this.succeeded) {\n          this.rejectCompletes(new Error('The request failed with status code: ' + this.xhr.status));\n          return;\n        }\n\n        this.resolveCompletes(this);\n      }.bind(this));\n\n      this.url = options.url;\n      xhr.open(\n        options.method || 'GET',\n        options.url,\n        options.async !== false\n      );\n\n      var acceptType = {\n        'json': 'application/json',\n        'text': 'text/plain',\n        'html': 'text/html',\n        'xml': 'application/xml',\n        'arraybuffer': 'application/octet-stream'\n      }[options.handleAs];\n      var headers = options.headers || Object.create(null);\n      var newHeaders = Object.create(null);\n      for (var key in headers) {\n        newHeaders[key.toLowerCase()] = headers[key];\n      }\n      headers = newHeaders;\n\n      if (acceptType && !headers['accept']) {\n        headers['accept'] = acceptType;\n      }\n      Object.keys(headers).forEach(function (requestHeader) {\n        if (/[A-Z]/.test(requestHeader)) {\n          Polymer.Base._error('Headers must be lower case, got', requestHeader);\n        }\n        xhr.setRequestHeader(\n          requestHeader,\n          headers[requestHeader]\n        );\n      }, this);\n\n      if (options.async !== false) {\n        if (options.async) {\n          xhr.timeout = options.timeout;\n        }\n\n        var handleAs = options.handleAs;\n\n        // If a JSON prefix is present, the responseType must be 'text' or the\n        // browser wont be able to parse the response.\n        if (!!options.jsonPrefix || !handleAs) {\n          handleAs = 'text';\n        }\n\n        // In IE, `xhr.responseType` is an empty string when the response\n        // returns. Hence, caching it as `xhr._responseType`.\n        xhr.responseType = xhr._responseType = handleAs;\n\n        // Cache the JSON prefix, if it exists.\n        if (!!options.jsonPrefix) {\n          xhr._jsonPrefix = options.jsonPrefix;\n        }\n      }\n\n      xhr.withCredentials = !!options.withCredentials;\n\n\n      var body = this._encodeBodyObject(options.body, headers['content-type']);\n\n      xhr.send(\n        /** @type {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|\n                   null|string|undefined} */\n        (body));\n\n      return this.completes;\n    },\n\n    /**\n     * Attempts to parse the response body of the XHR. If parsing succeeds,\n     * the value returned will be deserialized based on the `responseType`\n     * set on the XHR.\n     *\n     * @return {*} The parsed response,\n     * or undefined if there was an empty response or parsing failed.\n     */\n    parseResponse: function () {\n      var xhr = this.xhr;\n      var responseType = xhr.responseType || xhr._responseType;\n      var preferResponseText = !this.xhr.responseType;\n      var prefixLen = (xhr._jsonPrefix && xhr._jsonPrefix.length) || 0;\n\n      try {\n        switch (responseType) {\n          case 'json':\n            // If the xhr object doesn't have a natural `xhr.responseType`,\n            // we can assume that the browser hasn't parsed the response for us,\n            // and so parsing is our responsibility. Likewise if response is\n            // undefined, as there's no way to encode undefined in JSON.\n            if (preferResponseText || xhr.response === undefined) {\n              // Try to emulate the JSON section of the response body section of\n              // the spec: https://xhr.spec.whatwg.org/#response-body\n              // That is to say, we try to parse as JSON, but if anything goes\n              // wrong return null.\n              try {\n                return JSON.parse(xhr.responseText);\n              } catch (_) {\n                return null;\n              }\n            }\n\n            return xhr.response;\n          case 'xml':\n            return xhr.responseXML;\n          case 'blob':\n          case 'document':\n          case 'arraybuffer':\n            return xhr.response;\n          case 'text':\n          default: {\n            // If `prefixLen` is set, it implies the response should be parsed\n            // as JSON once the prefix of length `prefixLen` is stripped from\n            // it. Emulate the behavior above where null is returned on failure\n            // to parse.\n            if (prefixLen) {\n              try {\n                return JSON.parse(xhr.responseText.substring(prefixLen));\n              } catch (_) {\n                return null;\n              }\n            }\n            return xhr.responseText;\n          }\n        }\n      } catch (e) {\n        this.rejectCompletes(new Error('Could not parse response. ' + e.message));\n      }\n    },\n\n    /**\n     * Aborts the request.\n     */\n    abort: function () {\n      this._setAborted(true);\n      this.xhr.abort();\n    },\n\n    /**\n     * @param {*} body The given body of the request to try and encode.\n     * @param {?string} contentType The given content type, to infer an encoding\n     *     from.\n     * @return {*} Either the encoded body as a string, if successful,\n     *     or the unaltered body object if no encoding could be inferred.\n     */\n    _encodeBodyObject: function(body, contentType) {\n      if (typeof body == 'string') {\n        return body;  // Already encoded.\n      }\n      var bodyObj = /** @type {Object} */ (body);\n      switch(contentType) {\n        case('application/json'):\n          return JSON.stringify(bodyObj);\n        case('application/x-www-form-urlencoded'):\n          return this._wwwFormUrlEncode(bodyObj);\n      }\n      return body;\n    },\n\n    /**\n     * @param {Object} object The object to encode as x-www-form-urlencoded.\n     * @return {string} .\n     */\n    _wwwFormUrlEncode: function(object) {\n      if (!object) {\n        return '';\n      }\n      var pieces = [];\n      Object.keys(object).forEach(function(key) {\n        // TODO(rictic): handle array values here, in a consistent way with\n        //   iron-ajax params.\n        pieces.push(\n            this._wwwFormUrlEncodePiece(key) + '=' +\n            this._wwwFormUrlEncodePiece(object[key]));\n      }, this);\n      return pieces.join('&');\n    },\n\n    /**\n     * @param {*} str A key or value to encode as x-www-form-urlencoded.\n     * @return {string} .\n     */\n    _wwwFormUrlEncodePiece: function(str) {\n      // Spec says to normalize newlines to \\r\\n and replace %20 spaces with +.\n      // jQuery does this as well, so this is likely to be widely compatible.\n      if (str === null) {\n        return '';\n      }\n      return encodeURIComponent(str.toString().replace(/\\r?\\n/g, '\\r\\n'))\n          .replace(/%20/g, '+');\n    },\n\n    /**\n     * Updates the status code and status text.\n     */\n    _updateStatus: function() {\n      this._setStatus(this.xhr.status);\n      this._setStatusText((this.xhr.statusText === undefined) ? '' : this.xhr.statusText);\n    }\n  });\n'use strict';\n\n  Polymer({\n\n    is: 'iron-ajax',\n\n    /**\n     * Fired when a request is sent.\n     *\n     * @event request\n     * @event iron-ajax-request\n     */\n\n    /**\n     * Fired when a response is received.\n     *\n     * @event response\n     * @event iron-ajax-response\n     */\n\n    /**\n     * Fired when an error is received.\n     *\n     * @event error\n     * @event iron-ajax-error\n     */\n\n    hostAttributes: {\n      hidden: true\n    },\n\n    properties: {\n      /**\n       * The URL target of the request.\n       */\n      url: {\n        type: String\n      },\n\n      /**\n       * An object that contains query parameters to be appended to the\n       * specified `url` when generating a request. If you wish to set the body\n       * content when making a POST request, you should use the `body` property\n       * instead.\n       */\n      params: {\n        type: Object,\n        value: function() {\n          return {};\n        }\n      },\n\n      /**\n       * The HTTP method to use such as 'GET', 'POST', 'PUT', or 'DELETE'.\n       * Default is 'GET'.\n       */\n      method: {\n        type: String,\n        value: 'GET'\n      },\n\n      /**\n       * HTTP request headers to send.\n       *\n       * Example:\n       *\n       *     <iron-ajax\n       *         auto\n       *         url=\"http://somesite.com\"\n       *         headers='{\"X-Requested-With\": \"XMLHttpRequest\"}'\n       *         handle-as=\"json\"></iron-ajax>\n       *\n       * Note: setting a `Content-Type` header here will override the value\n       * specified by the `contentType` property of this element.\n       */\n      headers: {\n        type: Object,\n        value: function() {\n          return {};\n        }\n      },\n\n      /**\n       * Content type to use when sending data. If the `contentType` property\n       * is set and a `Content-Type` header is specified in the `headers`\n       * property, the `headers` property value will take precedence.\n       *\n       * Varies the handling of the `body` param.\n       */\n      contentType: {\n        type: String,\n        value: null\n      },\n\n      /**\n       * Body content to send with the request, typically used with \"POST\"\n       * requests.\n       *\n       * If body is a string it will be sent unmodified.\n       *\n       * If Content-Type is set to a value listed below, then\n       * the body will be encoded accordingly.\n       *\n       *    * `content-type=\"application/json\"`\n       *      * body is encoded like `{\"foo\":\"bar baz\",\"x\":1}`\n       *    * `content-type=\"application/x-www-form-urlencoded\"`\n       *      * body is encoded like `foo=bar+baz&x=1`\n       *\n       * Otherwise the body will be passed to the browser unmodified, and it\n       * will handle any encoding (e.g. for FormData, Blob, ArrayBuffer).\n       *\n       * @type (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object)\n       */\n      body: {\n        type: Object,\n        value: null\n      },\n\n      /**\n       * Toggle whether XHR is synchronous or asynchronous. Don't change this\n       * to true unless You Know What You Are Doing.\n       */\n      sync: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Specifies what data to store in the `response` property, and\n       * to deliver as `event.detail.response` in `response` events.\n       *\n       * One of:\n       *\n       *    `text`: uses `XHR.responseText`.\n       *\n       *    `xml`: uses `XHR.responseXML`.\n       *\n       *    `json`: uses `XHR.responseText` parsed as JSON.\n       *\n       *    `arraybuffer`: uses `XHR.response`.\n       *\n       *    `blob`: uses `XHR.response`.\n       *\n       *    `document`: uses `XHR.response`.\n       */\n      handleAs: {\n        type: String,\n        value: 'json'\n      },\n\n      /**\n       * Set the withCredentials flag on the request.\n       */\n      withCredentials: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set the timeout flag on the request.\n       */\n      timeout: {\n        type: Number,\n        value: 0\n      },\n\n      /**\n       * If true, automatically performs an Ajax request when either `url` or\n       * `params` changes.\n       */\n      auto: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * If true, error messages will automatically be logged to the console.\n       */\n      verbose: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * The most recent request made by this iron-ajax element.\n       */\n      lastRequest: {\n        type: Object,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * True while lastRequest is in flight.\n       */\n      loading: {\n        type: Boolean,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * lastRequest's response.\n       *\n       * Note that lastResponse and lastError are set when lastRequest finishes,\n       * so if loading is true, then lastResponse and lastError will correspond\n       * to the result of the previous request.\n       *\n       * The type of the response is determined by the value of `handleAs` at\n       * the time that the request was generated.\n       *\n       * @type {Object}\n       */\n      lastResponse: {\n        type: Object,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * lastRequest's error, if any.\n       *\n       * @type {Object}\n       */\n      lastError: {\n        type: Object,\n        notify: true,\n        readOnly: true\n      },\n\n      /**\n       * An Array of all in-flight requests originating from this iron-ajax\n       * element.\n       */\n      activeRequests: {\n        type: Array,\n        notify: true,\n        readOnly: true,\n        value: function() {\n          return [];\n        }\n      },\n\n      /**\n       * Length of time in milliseconds to debounce multiple automatically generated requests.\n       */\n      debounceDuration: {\n        type: Number,\n        value: 0,\n        notify: true\n      },\n\n      /**\n       * Prefix to be stripped from a JSON response before parsing it.\n       *\n       * In order to prevent an attack using CSRF with Array responses\n       * (http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx/)\n       * many backends will mitigate this by prefixing all JSON response bodies\n       * with a string that would be nonsensical to a JavaScript parser.\n       *\n       */\n      jsonPrefix: {\n        type: String,\n        value: ''\n      },\n\n      /**\n       * By default, iron-ajax's events do not bubble. Setting this attribute will cause its\n       * request and response events as well as its iron-ajax-request, -response,  and -error\n       * events to bubble to the window object. The vanilla error event never bubbles when\n       * using shadow dom even if this.bubbles is true because a scoped flag is not passed with\n       * it (first link) and because the shadow dom spec did not used to allow certain events,\n       * including events named error, to leak outside of shadow trees (second link).\n       * https://www.w3.org/TR/shadow-dom/#scoped-flag\n       * https://www.w3.org/TR/2015/WD-shadow-dom-20151215/#events-that-are-not-leaked-into-ancestor-trees\n       */\n      bubbles: {\n        type: Boolean,\n        value: false\n      },\n\n      _boundHandleResponse: {\n        type: Function,\n        value: function() {\n          return this._handleResponse.bind(this);\n        }\n      }\n    },\n\n    observers: [\n      '_requestOptionsChanged(url, method, params.*, headers, contentType, ' +\n          'body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)'\n    ],\n\n    /**\n     * The query string that should be appended to the `url`, serialized from\n     * the current value of `params`.\n     *\n     * @return {string}\n     */\n    get queryString () {\n      var queryParts = [];\n      var param;\n      var value;\n\n      for (param in this.params) {\n        value = this.params[param];\n        param = window.encodeURIComponent(param);\n\n        if (Array.isArray(value)) {\n          for (var i = 0; i < value.length; i++) {\n            queryParts.push(param + '=' + window.encodeURIComponent(value[i]));\n          }\n        } else if (value !== null) {\n          queryParts.push(param + '=' + window.encodeURIComponent(value));\n        } else {\n          queryParts.push(param);\n        }\n      }\n\n      return queryParts.join('&');\n    },\n\n    /**\n     * The `url` with query string (if `params` are specified), suitable for\n     * providing to an `iron-request` instance.\n     *\n     * @return {string}\n     */\n    get requestUrl() {\n      var queryString = this.queryString;\n      var url = this.url || '';\n\n      if (queryString) {\n        var bindingChar = url.indexOf('?') >= 0 ? '&' : '?';\n        return url + bindingChar + queryString;\n      }\n\n      return url;\n    },\n\n    /**\n     * An object that maps header names to header values, first applying the\n     * the value of `Content-Type` and then overlaying the headers specified\n     * in the `headers` property.\n     *\n     * @return {Object}\n     */\n    get requestHeaders() {\n      var headers = {};\n      var contentType = this.contentType;\n      if (contentType == null && (typeof this.body === 'string')) {\n        contentType = 'application/x-www-form-urlencoded';\n      }\n      if (contentType) {\n        headers['content-type'] = contentType;\n      }\n      var header;\n\n      if (this.headers instanceof Object) {\n        for (header in this.headers) {\n          headers[header] = this.headers[header].toString();\n        }\n      }\n\n      return headers;\n    },\n\n    /**\n     * Request options suitable for generating an `iron-request` instance based\n     * on the current state of the `iron-ajax` instance's properties.\n     *\n     * @return {{\n     *   url: string,\n     *   method: (string|undefined),\n     *   async: (boolean|undefined),\n     *   body: (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object),\n     *   headers: (Object|undefined),\n     *   handleAs: (string|undefined),\n     *   jsonPrefix: (string|undefined),\n     *   withCredentials: (boolean|undefined)}}\n     */\n    toRequestOptions: function() {\n      return {\n        url: this.requestUrl || '',\n        method: this.method,\n        headers: this.requestHeaders,\n        body: this.body,\n        async: !this.sync,\n        handleAs: this.handleAs,\n        jsonPrefix: this.jsonPrefix,\n        withCredentials: this.withCredentials,\n        timeout: this.timeout\n      };\n    },\n\n    /**\n     * Performs an AJAX request to the specified URL.\n     *\n     * @return {!IronRequestElement}\n     */\n    generateRequest: function() {\n      var request = /** @type {!IronRequestElement} */ (document.createElement('iron-request'));\n      var requestOptions = this.toRequestOptions();\n\n      this.push('activeRequests', request);\n\n      request.completes.then(\n        this._boundHandleResponse\n      ).catch(\n        this._handleError.bind(this, request)\n      ).then(\n        this._discardRequest.bind(this, request)\n      );\n\n      request.send(requestOptions);\n\n      this._setLastRequest(request);\n      this._setLoading(true);\n\n      this.fire('request', {\n        request: request,\n        options: requestOptions\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n\n      this.fire('iron-ajax-request', {\n        request: request,\n        options: requestOptions\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n\n      return request;\n    },\n\n    _handleResponse: function(request) {\n      if (request === this.lastRequest) {\n        this._setLastResponse(request.response);\n        this._setLastError(null);\n        this._setLoading(false);\n      }\n      this.fire('response', request, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n      this.fire('iron-ajax-response', request, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n    },\n\n    _handleError: function(request, error) {\n      if (this.verbose) {\n        Polymer.Base._error(error);\n      }\n\n      if (request === this.lastRequest) {\n        this._setLastError({\n          request: request,\n          error: error,\n          status: request.xhr.status,\n          statusText: request.xhr.statusText,\n          response: request.xhr.response\n        });\n        this._setLastResponse(null);\n        this._setLoading(false);\n      }\n\n      // Tests fail if this goes after the normal this.fire('error', ...)\n      this.fire('iron-ajax-error', {\n        request: request,\n        error: error\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n\n      this.fire('error', {\n        request: request,\n        error: error\n      }, {\n        bubbles: this.bubbles,\n        composed: true\n      });\n    },\n\n    _discardRequest: function(request) {\n      var requestIndex = this.activeRequests.indexOf(request);\n\n      if (requestIndex > -1) {\n        this.splice('activeRequests', requestIndex, 1);\n      }\n    },\n\n    _requestOptionsChanged: function() {\n      this.debounce('generate-request', function() {\n        if (this.url == null) {\n          return;\n        }\n\n        if (this.auto) {\n          this.generateRequest();\n        }\n      }, this.debounceDuration);\n    },\n\n  });\n(function () {\n  var intlLibraryScript;\n  var intlLibraryLoadingStatus = 'initializing';\n  var _setupIntlPolyfillCalled = false;\n\n  /**\n   * Set up Intl polyfill if required\n   */\n  function _setupIntlPolyfill () {\n    // Polyfill Intl if required\n    var intlLibraryUrl = this.resolveUrl('../intl/dist/Intl.min.js');\n    if (window.Intl) {\n      if (window.IntlPolyfill && window.Intl === window.IntlPolyfill) {\n        intlLibraryLoadingStatus = 'loaded';\n      }\n      else {\n        intlLibraryLoadingStatus = 'native';\n      }\n    }\n    else {\n      intlLibraryLoadingStatus = 'loading';\n      intlLibraryScript = document.createElement('script');\n      intlLibraryScript.setAttribute('src', intlLibraryUrl);\n      intlLibraryScript.setAttribute('id', 'intl-js-library');\n      intlLibraryScript.addEventListener('load', function intlLibraryLoaded (e) {\n        intlLibraryLoadingStatus = 'loaded';\n        e.target.removeEventListener('load', intlLibraryLoaded);\n        return false;\n      });\n      var s = document.querySelector('script') || document.body;\n      s.parentNode.insertBefore(intlLibraryScript, s);\n    }\n  }\n\n  /**\n   * Set up polyfill locale of Intl if required\n   *\n   * @param {String} locale Target locale to polyfill\n   * @param {Function} callback Callback function to handle locale load\n   * @return {Boolean} true if supported; false if callback will be called\n   */\n  function _setupIntlPolyfillLocale (locale, callback) {\n    if (!window.IntlPolyfill) {\n      switch (intlLibraryLoadingStatus) {\n      case 'loading':\n        if (intlLibraryScript) {\n          var libraryLoadedBindThis = function (e) {\n            _setupIntlPolyfillLocale.call(this, locale, callback);\n            e.target.removeEventListener('load', libraryLoadedBindThis);\n          }.bind(this);\n          intlLibraryScript.addEventListener('load', libraryLoadedBindThis);\n          return false;\n        }\n        else {\n          console.error('Intl.js is not being loaded');\n        }\n        break;\n      // impossible cases\n      case 'initializing':\n      case 'loaded':\n      case 'native':\n      default:\n        /* istanbul ignore next: these cases are impossible */\n        break;\n      }\n    }\n    else {\n      if (intlLibraryLoadingStatus !== 'native') {\n        var supported = Intl.NumberFormat.supportedLocalesOf(locale, { localeMatcher: 'lookup' });\n        var script;\n        var intlScript;\n        if (supported.length === 0) {\n          // load the locale\n          var fallbackLanguages = _enumerateFallbackLanguages(locale);\n          locale = fallbackLanguages.shift();\n          script = document.querySelector('script#intl-js-locale-' + locale);\n          if (!script) {\n            script = document.createElement('script');\n            script.setAttribute('id', 'intl-js-locale-' + locale);\n            script.setAttribute('src', this.resolveUrl('../intl/locale-data/jsonp/' + locale + '.js'));\n            var intlLocaleLoadedBindThis = function (e) {\n              if (e.target === script) {\n                e.target.removeEventListener('load', intlLocaleLoadedBindThis);\n                callback.call(this, locale);\n              }\n              return false;\n            }.bind(this);\n            var intlLocaleLoadErrorBindThis = function (e) {\n              if (e.target === script) {\n                e.target.removeEventListener('error', intlLocaleLoadErrorBindThis);\n                script.setAttribute('loaderror','');\n                locale = fallbackLanguages.shift();\n                if (!locale) {\n                  locale = this.DEFAULT_LANG;\n                }\n                var fallbackSupport = Intl.NumberFormat.supportedLocalesOf(locale, { localeMatcher: 'lookup'});\n                if (fallbackSupport.length > 0) {\n                  callback.call(this, locale);\n                }\n                else {\n                  _setupIntlPolyfillLocale.call(this, locale, callback);\n                }\n                return false;\n              }\n            }.bind(this);\n            script.addEventListener('load', intlLocaleLoadedBindThis);\n            script.addEventListener('error', intlLocaleLoadErrorBindThis);\n            intlScript = document.querySelector('script#intl-js-library') || document.body;\n            intlScript.parentNode.insertBefore(script, intlScript.nextSibling);\n          }\n          else if (!script.hasAttribute('loaderror')) {\n            // already loading\n            var anotherIntlLocaleLoadedBindThis = function (e) {\n              if (e.target === script) {\n                callback.call(this, locale);\n                e.target.removeEventListener('load', anotherIntlLocaleLoadedBindThis);\n                return false;\n              }\n            }.bind(this);\n            var anotherIntlLocaleLoadErrorBindThis = function (e) {\n              if (e.target === script) {\n                e.target.removeEventListener('error', anotherIntlLocaleLoadErrorBindThis);\n                locale = fallbackLanguages.shift();\n                if (!locale) {\n                  locale = this.DEFAULT_LANG;\n                }\n                var fallbackSupport = Intl.NumberFormat.supportedLocalesOf(locale, { localeMatcher: 'lookup'});\n                if (fallbackSupport.length > 0) {\n                  callback.call(this, locale);\n                }\n                else {\n                  _setupIntlPolyfillLocale.call(this, locale, callback);\n                }\n                return false;\n              }\n            }.bind(this);\n            script.addEventListener('load', anotherIntlLocaleLoadedBindThis);\n            script.addEventListener('error', anotherIntlLocaleLoadErrorBindThis);\n          }\n          else {\n            var enSupport = Intl.NumberFormat.supportedLocalesOf(this.DEFAULT_LANG, { localeMatcher: 'lookup'});\n            if (enSupport.length > 0) {\n              callback.call(this, this.DEFAULT_LANG);\n            }\n            else {\n              _setupIntlPolyfillLocale.call(this, this.DEFAULT_LANG, callback);\n            }\n          }\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Enumerate fallback locales for the target locale.\n   * \n   * Subset implementation of BCP47 (https://tools.ietf.org/html/bcp47).\n   *\n   * ### Examples:\n   *\n   *| Target Locale | Fallback 1 | Fallback 2 | Fallback 3 |\n   *|:--------------|:-----------|:-----------|:-----------|\n   *| ru            | N/A        | N/A        | N/A        |\n   *| en-GB         | en         | N/A        | N/A        |\n   *| en-Latn-GB    | en-GB      | en-Latn    | en         |\n   *| fr-CA         | fr         | N/A        | N/A        |\n   *| zh-Hans-CN    | zh-Hans    | zh         | N/A        |\n   *| zh-CN         | zh-Hans    | zh         | N/A        |\n   *| zh-TW         | zh-Hant    | zh         | N/A        |\n   *\n   * #### Note:\n   *\n   * For zh language, the script Hans or Hant is supplied as its default script when a country/region code is supplied.\n   *\n   * @param {string} lang Target locale.\n   * @return {Array} List of fallback locales including the target locale at the index 0.\n   */\n  function _enumerateFallbackLanguages (lang) {\n    var result = [];\n    var parts;\n    var match;\n    var isExtLangCode = 0;\n    var extLangCode;\n    var isScriptCode = 0;\n    var scriptCode;\n    var isCountryCode = 0;\n    var countryCode;\n    var n;\n    if (!lang || lang.length === 0) {\n      result.push('');\n    }\n    else {\n      parts = lang.split(/[-_]/);\n      // normalize ISO-639-1 language codes\n      if (parts.length > 0 &&\n          parts[0].match(/^[A-Za-z]{2,3}$/)) {\n        // language codes have to be lowercased\n        // e.g. JA -> ja, FR -> fr\n        // TODO: normalize 3-letter codes to 2-letter codes\n        parts[0] = parts[0].toLowerCase();\n      }\n      // normalize ISO-639-3 extension language codes\n      if (parts.length >= 2 &&\n          parts[1].match(/^[A-Za-z]{3}$/) &&\n          !parts[1].match(/^[Cc][Hh][SsTt]$/)) { // exclude CHS,CHT\n        // extension language codes have to be lowercased\n        // e.g. YUE -> yue\n        isExtLangCode = 1;\n        extLangCode = parts[1] = parts[1].toLowerCase();\n      }\n      // normalize ISO-15924 script codes\n      if (parts.length >= isExtLangCode + 2 &&\n          (match = parts[isExtLangCode + 1].match(/^([A-Za-z])([A-Za-z]{3})$/))) {\n        // script codes have to be capitalized only at the first character\n        // e.g. HANs -> Hans, lAtN -> Latn\n        isScriptCode = 1;\n        scriptCode = parts[isExtLangCode + 1] = match[1].toUpperCase() + match[2].toLowerCase();\n      }\n      // normalize ISO-3166-1 country/region codes\n      if (parts.length >= isExtLangCode + isScriptCode + 2 &&\n          (match = parts[isExtLangCode + isScriptCode + 1].match(/^[A-Za-z0-9]{2,3}$/))) {\n        // country/region codes have to be capitalized\n        // e.g. cn -> CN, jP -> JP\n        isCountryCode = 1;\n        countryCode = parts[isExtLangCode + isScriptCode + 1] = match[0].toUpperCase();\n      }\n      // extensions have to be in lowercases\n      // e.g. U-cA-Buddhist -> u-ca-buddhist, X-LiNux -> x-linux\n      if (parts.length >= isExtLangCode + isScriptCode + isCountryCode + 2) {\n        for (n = isExtLangCode + isScriptCode + isCountryCode + 1; n < parts.length; n++) {\n          parts[n] = parts[n].toLowerCase();\n        }\n      }\n      // enumerate fallback languages\n      while (parts.length > 0) {\n        // normalize delimiters as -\n        // e.g. ja_JP -> ja-JP\n        result.push(parts.join('-'));\n        if (isScriptCode &&\n            isCountryCode &&\n            parts.length == isExtLangCode + isScriptCode + 2) {\n          // script code can be omitted to default\n          // e.g. en-Latn-GB -> en-GB, zh-Hans-CN -> zh-CN\n          parts.splice(isExtLangCode + isScriptCode, 1);\n          result.push(parts.join('-'));\n          parts.splice(isExtLangCode + isScriptCode, 0, scriptCode);\n        }\n        if (isExtLangCode &&\n            isCountryCode &&\n            parts.length == isExtLangCode + isScriptCode + 2) {\n          // ext lang code can be omitted to default\n          // e.g. zh-yue-Hans-CN -> zh-Hans-CN\n          parts.splice(isExtLangCode, 1);\n          result.push(parts.join('-'));\n          parts.splice(isExtLangCode, 0, extLangCode);\n        }\n        if (isExtLangCode &&\n            isScriptCode &&\n            parts.length == isExtLangCode + isScriptCode + 1) {\n          // ext lang code can be omitted to default\n          // e.g. zh-yue-Hans -> zh-Hans\n          parts.splice(isExtLangCode, 1);\n          result.push(parts.join('-'));\n          parts.splice(isExtLangCode, 0, extLangCode);\n        }\n        if (!isScriptCode &&\n            !isExtLangCode &&\n            isCountryCode &&\n            parts.length == 2) {\n          // default script code can be added in certain cases with country codes\n          // e.g. zh-CN -> zh-Hans-CN, zh-TW -> zh-Hant-TW\n          switch (result[result.length - 1]) {\n          case 'zh-CN':\n          case 'zh-CHS':\n            result.push('zh-Hans');\n            break;\n          case 'zh-TW':\n          case 'zh-SG':\n          case 'zh-HK':\n          case 'zh-CHT':\n            result.push('zh-Hant');\n            break;\n          default:\n            break;\n          }\n        }\n        parts.pop();\n      }\n    }\n    return result;\n  }\n\n  Polymer({\n    is: 'i18n-number',\n\n    /**\n     * Fired whenever the formatted text is rendered.\n     *\n     * @event rendered\n     */\n    \n    properties: {\n      /**\n       * The locale for the formatted number.\n       * The typical value is bound to `{{effectiveLang}}` when the containing element has\n       * `BehaviorsStore.I18nBehavior`.\n       */\n      _lang: {\n        type: String,\n        value: 'en',\n        observer: '_langChanged',\n        reflectToAttribute: false\n      },\n\n      /**\n       * Options object for Intl.NumberFormat \n       * (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat)\n       */\n      options: {\n        type: Object,\n        observer: '_optionsChanged',\n        notify: true\n      },\n\n      /**\n       * Raw string synchronized with textContent\n       */\n      raw: {\n        type: String,\n        observer: '_rawChanged'\n      },\n\n      /**\n       * Offset for number\n       *\n       * Note: number = rawNumber - offset \n       */\n      offset: {\n        type: Number,\n        value: 0,\n        observer: '_offsetChanged'\n      },\n\n      /**\n       * Raw number parsed from raw\n       */\n      rawNumber: {\n        type: Number,\n        notify: true\n      },\n\n      /**\n       * Number calculated from rawNumber and offset\n       */\n      number: {\n        type: Number,\n        notify: true\n      },\n\n      /**\n       * Formatted string rendered for UI\n       *\n       * Note:\n       *   - While Intl.js Polyfill locale module is being loaded, the value is set as `undefined` until load completion.\n       */\n      formatted: {\n        type: String,\n        notify: true\n      }\n    },\n\n    observers: [\n      '_onOptionsPropertyChanged(options.*)'\n    ],\n\n    /**\n     * Default locale constant 'en'\n     */\n    DEFAULT_LANG: 'en',\n\n    /**\n     * Start loading Intl polyfill only once\n     */\n    registered: function () {\n      if (!_setupIntlPolyfillCalled) {\n        _setupIntlPolyfillCalled = true;\n        _setupIntlPolyfill.call(this);\n      }\n    },\n\n    ready: function () {\n      this._setupObservers();\n      this.raw = this.textNode.data;\n      if (!this.lang) {\n        // Polyfill non-functional default value for lang property in Safari 7\n        this.lang = this.DEFAULT_LANG;\n      }\n    },\n\n    attached: function () {\n      this.raw = this.textNode.data;\n    },\n\n    /**\n     * Set up observers of textContent mutations\n     */\n    _setupObservers: function () {\n      this.textNode = Polymer.dom(this).childNodes[0];\n      if (!this.textNode) {\n        Polymer.dom(this).appendChild(document.createTextNode(''));\n        this.textNode = Polymer.dom(this).childNodes[0];\n      }\n      this.observer = new MutationObserver(this._textMutated.bind(this));\n      this.observer.observe(this.textNode, { characterData: true });\n      this.observer.observe(this, { attributes: true, attributeFilter: [ 'lang' ] });\n      this.nodeObserver = Polymer.dom(this).observeNodes(function (info) {\n        if (info.addedNodes[0] && \n            info.addedNodes[0].nodeType === info.addedNodes[0].TEXT_NODE) {\n          this.textNode = info.addedNodes[0];\n          this.raw = this.textNode.data;\n          //console.log('i18n-number: text node added with ' + this.raw);\n          this.observer.observe(this.textNode, { characterData: true });\n        }\n      }.bind(this));\n    },\n\n    /**\n     * MutationObserver callback of the child text node to re-render on text mutations.\n     *\n     * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n     */\n    _textMutated: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'characterData':\n          //console.log('i18n-number: _textMutated: raw = ' + mutation.target.data);\n          if (this.raw !== mutation.target.data) {\n            this.raw = mutation.target.data;\n          }\n          break;\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            this._lang = this.lang;\n          }\n          break;\n        default:\n          /* istanbul ignore next: mutation.type is characterData or attributes */\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Observer of `raw` property to re-render the formatted number.\n     *\n     * @param {string} raw New raw number string.\n     */\n    _rawChanged: function (raw) {\n      if (this.textNode) {\n        if (raw !== this.textNode.data) {\n          this.textNode.data = raw;\n        }\n        //console.log('i18n-number: _rawChanged: raw = ' + raw);\n        this._render(this.lang, this.options, raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `lang` property to re-render the formatted number.\n     *\n     * @param {string} lang New locale.\n     */\n    _langChanged: function (lang) {\n      if (!lang) {\n        this.lang = this.DEFAULT_LANG;\n        lang = this.lang;\n      }\n      if (this.textNode) {\n        //console.log('i18n-number: _langChanged: lang = ' + lang);\n        this._render(lang, this.options, this.raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `options` property to re-render the formatted number.\n     *\n     * @param {Object} options New options for Intl.NumberFormat.\n     */\n    _optionsChanged: function (options) {\n      if (this.textNode) {\n        //console.log('i18n-number: _optionsChanged: options = ' + JSON.stringify(options));\n        this._render(this.lang, options, this.raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `options` sub-properties to re-render the formatted number.\n     */\n    _onOptionsPropertyChanged: function (/* changeRecord */) {\n      if (this.textNode) {\n        //console.log('_onOptionsPropertyChanged: path = ' + changeRecord.path + ' value = ' + JSON.stringify(changeRecord.value));\n        this._render(this.lang, this.options, this.raw, this.offset);\n      }\n    },\n\n    /**\n     * Observer of `offset` property to re-render the formatted number.\n     *\n     * @param {number} offset New offset.\n     */\n    _offsetChanged: function (offset) {\n      if (this.textNode) {\n        //console.log('i18n-number: _offsetChanged: offset = ' + offset);\n        this._render(this.lang, this.options, this.raw, offset);\n      }\n    },\n\n    /**\n     * Formats the number\n     *\n     * @param {string} lang Locale for formatting.\n     * @param {Object} options Options for Intl.NumberFormat.\n     * @param {number} number Number to format.\n     * @return {string} Formatted number string.\n     */\n    _formatNumber: function (lang, options, number) {\n      if (!lang) {\n        lang = this.DEFAULT_LANG;\n      }\n      switch (intlLibraryLoadingStatus) {\n      case 'loaded':\n      case 'loading':\n      default:\n        try {\n          if (_setupIntlPolyfillLocale.call(this, lang, function (locale) {\n            this.effectiveLang = locale;\n            this._render.call(this, locale, this.options, this.raw, this.offset);\n          }.bind(this))) {\n            return new Intl.NumberFormat(lang, options).format(number);\n          }\n          else {\n            // waiting for callback\n            return undefined;\n          }\n        }\n        catch (e) {\n          return number.toString();\n        }\n        /* istanbul ignore next: unreachable code due to returns in the same case */\n        break;\n      case 'native':\n        // native\n        try {\n          return new Intl.NumberFormat(lang, options).format(number);\n        }\n        catch (e) {\n          return number.toString();\n        }\n        /* istanbul ignore next: unreachable code due to returns in the same case */\n        break;\n      }\n    },\n\n    /**\n     * Renders the formatted number\n     *\n     * @param {string} lang Locale for formatting.\n     * @param {Object} options Options for Intl.NumberFormat.\n     * @param {string} raw Raw number string.\n     * @param {number} offset Offset for number.\n     */\n    _render: function (lang, options, raw, offset) {\n      // TODO: rendering may be done redundantly on property initializations\n      raw = raw.trim();\n      if (!raw && !this.formatted) {\n        //console.log('i18n-number: skipping _render as raw is null');\n        return;\n      }\n      if (raw) {\n        this.rawNumber = Number(raw);\n        this.number = this.rawNumber - offset;\n        this.formatted = this._formatNumber(lang, options, this.number);\n      }\n      else {\n        this.rawNumber = undefined;\n        this.number = undefined;\n        this.formatted = '';\n      }\n      this.$.number.textContent = this.formatted ? this.formatted : '';\n      //console.log('i18n-number: _render ' + this.formatted);\n      if (typeof this.formatted !== 'undefined') {\n        this.fire('rendered');\n      }\n    },\n\n    /**\n     * Renders the formatted number with the current parameters\n     *\n     * Note: (As of Polymer 1.2.3)\n     *   Explicit render() call is needed whenever the observer \n     *   `_onOptionsPropertyChanged(options.*)` is NOT invoked \n     *   after a property of `options` is changed.  An explicit call \n     *   `this.notifyPath('options', this.options, true)` can also \n     *   trigger re-rendering.\n     *\n     *   If the changed property of `options` is bound in an annotation\n     *   like `{{options.currency}}`, the observer `_onOptionsPropertyChanged(options.*)`\n     *   is automatically called whenever the property value is changed\n     *   and thus no explicit call of `render()` or `notifyPath()` is\n     *   required.\n     */\n    render: function () {\n      this._render(this.lang, this.options, this.raw, this.offset);\n    }\n  });\n  })();\nvar _cp = [\nfunction(n, ord) {\n  if (ord) return 'other';\n  return 'other';\n},\nfunction(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one' : 'other';\n},\nfunction(n, ord) {\n  if (ord) return 'other';\n  return ((n == 0\n          || n == 1)) ? 'one' : 'other';\n},\nfunction(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n}\n];\n\n(function (root, plurals) {\n  if (typeof define === 'function' && define.amd) {\n    define(plurals);\n  } else if (typeof exports === 'object') {\n    module.exports = plurals;\n  } else {\n    root.plurals = plurals;\n  }\n}(this, {\naf: _cp[1],\n\nak: _cp[2],\n\nam: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nar: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((n100 >= 3 && n100 <= 10)) ? 'few'\n      : ((n100 >= 11 && n100 <= 99)) ? 'many'\n      : 'other';\n},\n\nas: function(n, ord) {\n  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9\n          || n == 10)) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nasa: _cp[1],\n\nast: _cp[3],\n\naz: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], i10 = i.slice(-1),\n      i100 = i.slice(-2), i1000 = i.slice(-3);\n  if (ord) return ((i10 == 1 || i10 == 2 || i10 == 5 || i10 == 7 || i10 == 8)\n          || (i100 == 20 || i100 == 50 || i100 == 70\n          || i100 == 80)) ? 'one'\n      : ((i10 == 3 || i10 == 4) || (i1000 == 100 || i1000 == 200\n          || i1000 == 300 || i1000 == 400 || i1000 == 500 || i1000 == 600 || i1000 == 700\n          || i1000 == 800\n          || i1000 == 900)) ? 'few'\n      : (i == 0 || i10 == 6 || (i100 == 40 || i100 == 60\n          || i100 == 90)) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nbe: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return ((n10 == 2\n          || n10 == 3) && n100 != 12 && n100 != 13) ? 'few' : 'other';\n  return (n10 == 1 && n100 != 11) ? 'one'\n      : ((n10 >= 2 && n10 <= 4) && (n100 < 12\n          || n100 > 14)) ? 'few'\n      : (t0 && n10 == 0 || (n10 >= 5 && n10 <= 9)\n          || (n100 >= 11 && n100 <= 14)) ? 'many'\n      : 'other';\n},\n\nbem: _cp[1],\n\nbez: _cp[1],\n\nbg: _cp[1],\n\nbh: _cp[2],\n\nbm: _cp[0],\n\nbn: function(n, ord) {\n  if (ord) return ((n == 1 || n == 5 || n == 7 || n == 8 || n == 9\n          || n == 10)) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nbo: _cp[0],\n\nbr: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2),\n      n1000000 = t0 && s[0].slice(-6);\n  if (ord) return 'other';\n  return (n10 == 1 && n100 != 11 && n100 != 71 && n100 != 91) ? 'one'\n      : (n10 == 2 && n100 != 12 && n100 != 72 && n100 != 92) ? 'two'\n      : (((n10 == 3 || n10 == 4) || n10 == 9) && (n100 < 10\n          || n100 > 19) && (n100 < 70 || n100 > 79) && (n100 < 90\n          || n100 > 99)) ? 'few'\n      : (n != 0 && t0 && n1000000 == 0) ? 'many'\n      : 'other';\n},\n\nbrx: _cp[1],\n\nbs: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nca: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 1\n          || n == 3)) ? 'one'\n      : (n == 2) ? 'two'\n      : (n == 4) ? 'few'\n      : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\nce: _cp[1],\n\ncgg: _cp[1],\n\nchr: _cp[1],\n\nckb: _cp[1],\n\ncs: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : ((i >= 2 && i <= 4) && v0) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n},\n\ncy: function(n, ord) {\n  if (ord) return ((n == 0 || n == 7 || n == 8\n          || n == 9)) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((n == 3\n          || n == 4)) ? 'few'\n      : ((n == 5\n          || n == 6)) ? 'many'\n      : 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : (n == 3) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n},\n\nda: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return (n == 1 || !t0 && (i == 0\n          || i == 1)) ? 'one' : 'other';\n},\n\nde: _cp[3],\n\ndsb: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i100 = i.slice(-2), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1\n          || f100 == 1) ? 'one'\n      : (v0 && i100 == 2\n          || f100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3\n          || f100 == 4)) ? 'few'\n      : 'other';\n},\n\ndv: _cp[1],\n\ndz: _cp[0],\n\nee: _cp[1],\n\nel: _cp[1],\n\nen: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return (n10 == 1 && n100 != 11) ? 'one'\n      : (n10 == 2 && n100 != 12) ? 'two'\n      : (n10 == 3 && n100 != 13) ? 'few'\n      : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\neo: _cp[1],\n\nes: _cp[1],\n\net: _cp[3],\n\neu: _cp[1],\n\nfa: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nff: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nfi: _cp[3],\n\nfil: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), f10 = f.slice(-1);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (v0 && (i == 1 || i == 2 || i == 3)\n          || v0 && i10 != 4 && i10 != 6 && i10 != 9\n          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';\n},\n\nfo: _cp[1],\n\nfr: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nfur: _cp[1],\n\nfy: _cp[3],\n\nga: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : ((t0 && n >= 3 && n <= 6)) ? 'few'\n      : ((t0 && n >= 7 && n <= 10)) ? 'many'\n      : 'other';\n},\n\ngd: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return ((n == 1\n          || n == 11)) ? 'one'\n      : ((n == 2\n          || n == 12)) ? 'two'\n      : (((t0 && n >= 3 && n <= 10)\n          || (t0 && n >= 13 && n <= 19))) ? 'few'\n      : 'other';\n},\n\ngl: _cp[3],\n\ngsw: _cp[1],\n\ngu: function(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nguw: _cp[2],\n\ngv: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1) ? 'one'\n      : (v0 && i10 == 2) ? 'two'\n      : (v0 && (i100 == 0 || i100 == 20 || i100 == 40 || i100 == 60\n          || i100 == 80)) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n},\n\nha: _cp[1],\n\nhaw: _cp[1],\n\nhe: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (i == 2 && v0) ? 'two'\n      : (v0 && (n < 0\n          || n > 10) && t0 && n10 == 0) ? 'many'\n      : 'other';\n},\n\nhi: function(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : (n == 6) ? 'many'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nhr: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nhsb: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i100 = i.slice(-2), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1\n          || f100 == 1) ? 'one'\n      : (v0 && i100 == 2\n          || f100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4) || (f100 == 3\n          || f100 == 4)) ? 'few'\n      : 'other';\n},\n\nhu: function(n, ord) {\n  if (ord) return ((n == 1\n          || n == 5)) ? 'one' : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nhy: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nid: _cp[0],\n\nig: _cp[0],\n\nii: _cp[0],\n\n\"in\": _cp[0],\n\nis: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], t0 = Number(s[0]) == n,\n      i10 = i.slice(-1), i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (t0 && i10 == 1 && i100 != 11\n          || !t0) ? 'one' : 'other';\n},\n\nit: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1];\n  if (ord) return ((n == 11 || n == 8 || n == 80\n          || n == 800)) ? 'many' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\niu: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\niw: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (i == 2 && v0) ? 'two'\n      : (v0 && (n < 0\n          || n > 10) && t0 && n10 == 0) ? 'many'\n      : 'other';\n},\n\nja: _cp[0],\n\njbo: _cp[0],\n\njgo: _cp[1],\n\nji: _cp[3],\n\njmc: _cp[1],\n\njv: _cp[0],\n\njw: _cp[0],\n\nka: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], i100 = i.slice(-2);\n  if (ord) return (i == 1) ? 'one'\n      : (i == 0 || ((i100 >= 2 && i100 <= 20) || i100 == 40 || i100 == 60\n          || i100 == 80)) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nkab: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n < 2) ? 'one' : 'other';\n},\n\nkaj: _cp[1],\n\nkcg: _cp[1],\n\nkde: _cp[0],\n\nkea: _cp[0],\n\nkk: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1);\n  if (ord) return (n10 == 6 || n10 == 9\n          || t0 && n10 == 0 && n != 0) ? 'many' : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nkkj: _cp[1],\n\nkl: _cp[1],\n\nkm: _cp[0],\n\nkn: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nko: _cp[0],\n\nks: _cp[1],\n\nksb: _cp[1],\n\nksh: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : (n == 1) ? 'one'\n      : 'other';\n},\n\nku: _cp[1],\n\nkw: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nky: _cp[1],\n\nlag: function(n, ord) {\n  var s = String(n).split('.'), i = s[0];\n  if (ord) return 'other';\n  return (n == 0) ? 'zero'\n      : ((i == 0\n          || i == 1) && n != 0) ? 'one'\n      : 'other';\n},\n\nlb: _cp[1],\n\nlg: _cp[1],\n\nlkt: _cp[0],\n\nln: _cp[2],\n\nlo: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n},\n\nlt: function(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n10 == 1 && (n100 < 11\n          || n100 > 19)) ? 'one'\n      : ((n10 >= 2 && n10 <= 9) && (n100 < 11\n          || n100 > 19)) ? 'few'\n      : (f != 0) ? 'many'\n      : 'other';\n},\n\nlv: function(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', v = f.length,\n      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);\n  if (ord) return 'other';\n  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)\n          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'\n      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11\n          || v != 2 && f10 == 1) ? 'one'\n      : 'other';\n},\n\nmas: _cp[1],\n\nmg: _cp[2],\n\nmgo: _cp[1],\n\nmk: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1);\n  if (ord) return (i10 == 1 && i100 != 11) ? 'one'\n      : (i10 == 2 && i100 != 12) ? 'two'\n      : ((i10 == 7\n          || i10 == 8) && i100 != 17 && i100 != 18) ? 'many'\n      : 'other';\n  return (v0 && i10 == 1\n          || f10 == 1) ? 'one' : 'other';\n},\n\nml: _cp[1],\n\nmn: _cp[1],\n\nmo: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one'\n      : (!v0 || n == 0\n          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'\n      : 'other';\n},\n\nmr: function(n, ord) {\n  if (ord) return (n == 1) ? 'one'\n      : ((n == 2\n          || n == 3)) ? 'two'\n      : (n == 4) ? 'few'\n      : 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n},\n\nms: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n},\n\nmt: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 0\n          || (n100 >= 2 && n100 <= 10)) ? 'few'\n      : ((n100 >= 11 && n100 <= 19)) ? 'many'\n      : 'other';\n},\n\nmy: _cp[0],\n\nnah: _cp[1],\n\nnaq: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nnb: _cp[1],\n\nnd: _cp[1],\n\nne: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return ((t0 && n >= 1 && n <= 4)) ? 'one' : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nnl: _cp[3],\n\nnn: _cp[1],\n\nnnh: _cp[1],\n\nno: _cp[1],\n\nnqo: _cp[0],\n\nnr: _cp[1],\n\nnso: _cp[2],\n\nny: _cp[1],\n\nnyn: _cp[1],\n\nom: _cp[1],\n\nor: _cp[1],\n\nos: _cp[1],\n\npa: _cp[2],\n\npap: _cp[1],\n\npl: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i != 1 && (i10 == 0 || i10 == 1)\n          || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 12 && i100 <= 14)) ? 'many'\n      : 'other';\n},\n\nprg: function(n, ord) {\n  var s = String(n).split('.'), f = s[1] || '', v = f.length,\n      t0 = Number(s[0]) == n, n10 = t0 && s[0].slice(-1),\n      n100 = t0 && s[0].slice(-2), f100 = f.slice(-2), f10 = f.slice(-1);\n  if (ord) return 'other';\n  return (t0 && n10 == 0 || (n100 >= 11 && n100 <= 19)\n          || v == 2 && (f100 >= 11 && f100 <= 19)) ? 'zero'\n      : (n10 == 1 && n100 != 11 || v == 2 && f10 == 1 && f100 != 11\n          || v != 2 && f10 == 1) ? 'one'\n      : 'other';\n},\n\nps: _cp[1],\n\npt: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return ((t0 && n >= 0 && n <= 2) && n != 2) ? 'one' : 'other';\n},\n\n\"pt-PT\": _cp[3],\n\nrm: _cp[1],\n\nro: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one'\n      : (!v0 || n == 0\n          || n != 1 && (n100 >= 1 && n100 <= 19)) ? 'few'\n      : 'other';\n},\n\nrof: _cp[1],\n\nroot: _cp[0],\n\nru: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'\n      : 'other';\n},\n\nrwk: _cp[1],\n\nsah: _cp[0],\n\nsaq: _cp[1],\n\nsdh: _cp[1],\n\nse: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nseh: _cp[1],\n\nses: _cp[0],\n\nsg: _cp[0],\n\nsh: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nshi: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one'\n      : ((t0 && n >= 2 && n <= 10)) ? 'few'\n      : 'other';\n},\n\nsi: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '';\n  if (ord) return 'other';\n  return ((n == 0 || n == 1)\n          || i == 0 && f == 1) ? 'one' : 'other';\n},\n\nsk: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1];\n  if (ord) return 'other';\n  return (n == 1 && v0) ? 'one'\n      : ((i >= 2 && i <= 4) && v0) ? 'few'\n      : (!v0) ? 'many'\n      : 'other';\n},\n\nsl: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], i100 = i.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i100 == 1) ? 'one'\n      : (v0 && i100 == 2) ? 'two'\n      : (v0 && (i100 == 3 || i100 == 4)\n          || !v0) ? 'few'\n      : 'other';\n},\n\nsma: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsmi: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsmj: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsmn: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsms: function(n, ord) {\n  if (ord) return 'other';\n  return (n == 1) ? 'one'\n      : (n == 2) ? 'two'\n      : 'other';\n},\n\nsn: _cp[1],\n\nso: _cp[1],\n\nsq: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return (n == 1) ? 'one'\n      : (n10 == 4 && n100 != 14) ? 'many'\n      : 'other';\n  return (n == 1) ? 'one' : 'other';\n},\n\nsr: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), i100 = i.slice(-2), f10 = f.slice(-1), f100 = f.slice(-2);\n  if (ord) return 'other';\n  return (v0 && i10 == 1 && i100 != 11\n          || f10 == 1 && f100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12 || i100 > 14)\n          || (f10 >= 2 && f10 <= 4) && (f100 < 12\n          || f100 > 14)) ? 'few'\n      : 'other';\n},\n\nss: _cp[1],\n\nssy: _cp[1],\n\nst: _cp[1],\n\nsv: function(n, ord) {\n  var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n  if (ord) return ((n10 == 1\n          || n10 == 2) && n100 != 11 && n100 != 12) ? 'one' : 'other';\n  return (n == 1 && v0) ? 'one' : 'other';\n},\n\nsw: _cp[3],\n\nsyr: _cp[1],\n\nta: _cp[1],\n\nte: _cp[1],\n\nteo: _cp[1],\n\nth: _cp[0],\n\nti: _cp[2],\n\ntig: _cp[1],\n\ntk: _cp[1],\n\ntl: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], f = s[1] || '', v0 = !s[1],\n      i10 = i.slice(-1), f10 = f.slice(-1);\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return (v0 && (i == 1 || i == 2 || i == 3)\n          || v0 && i10 != 4 && i10 != 6 && i10 != 9\n          || !v0 && f10 != 4 && f10 != 6 && f10 != 9) ? 'one' : 'other';\n},\n\ntn: _cp[1],\n\nto: _cp[0],\n\ntr: _cp[1],\n\nts: _cp[1],\n\ntzm: function(n, ord) {\n  var s = String(n).split('.'), t0 = Number(s[0]) == n;\n  if (ord) return 'other';\n  return ((n == 0 || n == 1)\n          || (t0 && n >= 11 && n <= 99)) ? 'one' : 'other';\n},\n\nug: _cp[1],\n\nuk: function(n, ord) {\n  var s = String(n).split('.'), i = s[0], v0 = !s[1], t0 = Number(s[0]) == n,\n      n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2), i10 = i.slice(-1),\n      i100 = i.slice(-2);\n  if (ord) return (n10 == 3 && n100 != 13) ? 'few' : 'other';\n  return (v0 && i10 == 1 && i100 != 11) ? 'one'\n      : (v0 && (i10 >= 2 && i10 <= 4) && (i100 < 12\n          || i100 > 14)) ? 'few'\n      : (v0 && i10 == 0 || v0 && (i10 >= 5 && i10 <= 9)\n          || v0 && (i100 >= 11 && i100 <= 14)) ? 'many'\n      : 'other';\n},\n\nur: _cp[3],\n\nuz: _cp[1],\n\nve: _cp[1],\n\nvi: function(n, ord) {\n  if (ord) return (n == 1) ? 'one' : 'other';\n  return 'other';\n},\n\nvo: _cp[1],\n\nvun: _cp[1],\n\nwa: _cp[2],\n\nwae: _cp[1],\n\nwo: _cp[0],\n\nxh: _cp[1],\n\nxog: _cp[1],\n\nyi: _cp[3],\n\nyo: _cp[0],\n\nzh: _cp[0],\n\nzu: function(n, ord) {\n  if (ord) return 'other';\n  return (n >= 0 && n <= 1) ? 'one' : 'other';\n}\n}));\nPolymer({\n  is: 'i18n-format',\n\n  /**\n   * Fired whenever the formatted text is rendered.\n   *\n   * @event rendered\n   */\n\n  properties: {\n    /**\n     * The locale for the template text.\n     * The typical value is bound to `{{effectiveLang}}` when the containing element has\n     * `BehaviorsStore.I18nBehavior`.\n     */\n    _lang: {\n      type: String,\n      value: 'en',\n      reflectToAttribute: false,\n      observer: '_langChanged'\n    },\n\n    /**\n     * The parameter attribute name to identify parameters.\n     * No need to change in a normal usage.\n     */\n    paramAttribute: {\n      type: String,\n      value: (function () { return Polymer.Element ? 'slot' : 'param'; })(),\n      observer: '_paramAttributeChanged'\n    },\n\n    /**\n     * The parameter format in the template text.\n     * The `'n'` in the format means n-th parameter.\n     * No need to change in a normal usage.\n     */\n    paramFormat: {\n      type: String,\n      value: '{n}',\n      observer: '_paramFormatChanged'\n    },\n\n    /**\n     * When the boolean attribute `observe-params` is specified, \n     * the template is re-rendered on every parameter mutation.\n     * If not specified, the template is re-rendered only on `lang` changes and template text changes.\n     *\n     * Note: If true, re-rendering may be performed muiltiple times redundantly on a locale change.\n     */\n    observeParams: {\n      type: Boolean,\n      value: true // TODO: optimize re-rendering\n    }\n  },\n\n  /**\n   * Default locale constant 'en'\n   */\n  DEFAULT_LANG: 'en',\n\n  ready: function () {\n    this._setupParams();\n    if (this.root === this) {\n      this.attachShadow({ mode: 'open' });\n      this.root = this.shadowRoot;\n      this.render();\n    }\n    if (!this.lang) {\n      // Polyfill non-functional default value for lang property in Safari 7\n      this.lang = this.DEFAULT_LANG;\n    }\n  },\n\n  attached: function () {\n    this.render();\n  },\n\n  /**\n   * Traverse the local DOM and set up parameters and observers.\n   */\n  _setupParams: function () {\n    var n;\n    this.elements = Array.prototype.filter.call(\n      Polymer.dom(this).childNodes,\n      function (node) {\n        return node.nodeType === node.ELEMENT_NODE;\n      }\n    );\n    var needParamObservation = this.observeParams &&\n                               this.elements.length > 0 && \n                               this.elements[0].tagName.toLowerCase() === 'json-data';\n    this.observer = new MutationObserver(this._templateMutated.bind(this));\n    this.observer.observe(this, { attributes: true, attributeFilter: [ 'lang' ] });\n    for (n = 0; n < this.elements.length; n++) {\n      if (n === 0) {\n        this.templateElement = this.elements[n];\n        this.templateTextNode = Polymer.dom(this.templateElement).childNodes[0];\n        this.observer.observe(this.templateTextNode, { characterData: true });\n      }\n      else {\n        if (!this.elements[n].hasAttribute(this.paramAttribute)) {\n          this.elements[n].setAttribute(this.paramAttribute, '' + n);\n        }\n        if (needParamObservation) {\n          // TODO: childNodes[0] may not be a text node\n          this.observer.observe(Polymer.dom(this.elements[n]).childNodes[0], { characterData: true });\n          if (this.elements[n].tagName.toLowerCase() === 'i18n-number') {\n            this.listen(this.elements[n], 'rendered', 'render');\n          }\n        }\n      }\n    }\n    //console.log('i18n-format: _setupParams: elements = ' + this.elements);\n  },\n\n  /**\n   * MutationObserver callback of child text nodes to re-render on template text or parameter mutations.\n   *\n   * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n   */\n  _templateMutated: function (mutations) {\n    mutations.forEach(function(mutation) {\n      switch (mutation.type) {\n      case 'characterData':\n        //console.log('i18n-format: ' + this.id + '._templateMutated(): characterData: tag = ' + \n        //            Polymer.dom(mutation.target).parentNode.tagName.toLowerCase() + \n        //            ' data = ' + mutation.target.data);\n        if ((Polymer.Element ? mutation.target : Polymer.dom(mutation.target)).parentNode.tagName.toLowerCase() !== 'i18n-number' ||\n            typeof (Polymer.Element ? mutation.target : Polymer.dom(mutation.target)).parentNode.formatted !== 'undefined') {\n          this.render();\n        }\n        break;\n      case 'attributes':\n        if (mutation.attributeName === 'lang') {\n          this._lang = this.lang;\n        }\n        break;\n      default:\n        /* istanbul ignore next: mutation.type is always characterData or attributes */\n        break;\n      }\n    }, this);\n  },\n\n  /**\n   * Observer of `lang` property to re-render the template text.\n   *\n   * @param {string} lang New locale.\n   */\n  _langChanged: function (lang /*, oldLang */) {\n    //console.log('i18n-format: ' + this.id + '._langChanged() lang = ' + lang + ' oldLang = ' + oldLang);\n    if (this.elements &&\n        lang !== undefined &&\n        lang !== null &&\n        !lang.match(/^{{.*}}$/) &&\n        !lang.match(/^\\[\\[.*\\]\\]$/)) {\n      this.render();\n    }\n    //else {\n    //  console.log('i18n-format: skipping render()');\n    //}\n  },\n\n  /**\n   * Observer of `paramFormat` property to re-render the template text.\n   *\n   * @param {string} paramFormat New paramFormat.\n   * @param {string} oldParamFormat Old paramFormat.\n   */\n  _paramFormatChanged: function (paramFormat, oldParamFormat) {\n    //console.log('i18n-format: ' + this.id + '._paramFormatChanged() new = ' + paramFormat + ' old = ' + oldParamFormat);\n    if (this.elements &&\n        oldParamFormat !== undefined &&\n        paramFormat &&\n        this.lang !== undefined &&\n        this.lang !== null &&\n        !this.lang.match(/^{{.*}}$/) &&\n        !this.lang.match(/^\\[\\[.*\\]\\]$/)) {\n      this.lastTemplateText = undefined;\n      this.render();\n    }\n  },\n\n  /**\n   * Observer of `paramAttribute` property to reset parameter attributes.\n   *\n   * @param {string} paramAttribute New paramAttribute.\n   * @param {string} oldParamAttribute Old paramAttribute.\n   */\n  _paramAttributeChanged: function (paramAttribute, oldParamAttribute) {\n    //console.log('i18n-format: ' + this.id + '._paramAttributeChanged() new = ' + paramAttribute + ' old = ' + oldParamAttribute);\n    var n;\n    if (this.elements &&\n        oldParamAttribute !== undefined &&\n        paramAttribute &&\n        this.lang !== undefined &&\n        this.lang !== null &&\n        !this.lang.match(/^{{.*}}$/) &&\n        !this.lang.match(/^\\[\\[.*\\]\\]$/)) {\n      for (n = 1; n < this.elements.length; n++) {\n        this.elements[n].removeAttribute(oldParamAttribute);\n        if (!this.elements[n].hasAttribute(paramAttribute)) {\n          this.elements[n].setAttribute(paramAttribute, '' + n);\n        }\n      }\n      this.lastTemplateText = undefined;\n      this.render();\n    }\n  },\n\n  /**\n   * Detect the CLDR plural category of a number \n   * with [`make-plural` library](https://github.com/eemeli/make-plural.js).\n   *\n   * @param {number} n The number to get the plural category for.\n   * @return {string} Plural category of the number. \n   */\n  _getPluralCategory: function (n) {\n    var category = 'other';\n    var lang = this.lang || this.DEFAULT_LANG;\n    lang = lang.split(/[-_]/)[0];\n    if (window.plurals[lang]) {\n      category = window.plurals[lang](n);\n    }\n    else {\n      category = window.plurals.en(n);\n    }\n    //console.log('i18n-format: _getPluralCategory(' + n + ') = ' + category);\n    return category;\n  },\n\n  /**\n   * Select a template text by parameters.\n   *\n   * @return {string} Selected template text. \n   */\n  _selectTemplateText: function () {\n    var templateText = '';\n    if (!this.templateElement) {\n      return templateText;\n    }\n    else if (this.templateElement.tagName.toLowerCase() === 'json-data') {\n      var templateObject;\n      try {\n        templateObject = JSON.parse(this.templateTextNode.data);\n      }\n      catch (ex) {\n        if (this.templateTextNode.data) {\n          console.warn('i18n-format: parse error in json-data');\n        }\n        return templateText;\n      }\n      var n;\n      for (n = 1;\n           typeof templateObject === 'object' && n < this.elements.length;\n           n++) {\n        var param = this.elements[n];\n        if (param.tagName.toLowerCase() === 'i18n-number') {\n          // plural selector\n          var category = this._getPluralCategory(param.number);\n          if (typeof param.number === 'undefined' ||\n              typeof param.formatted === 'undefined') {\n            // i18n-number is not ready\n            //console.log('i18n-format: i18n-number is not ready');\n            templateObject = undefined;\n          }\n          else if (templateObject[param.rawNumber]) {\n            templateObject = templateObject[param.rawNumber];\n          }\n          else if (templateObject[category]) {\n            // plural category matched\n            templateObject = templateObject[category];\n          }\n          else if (templateObject.other) {\n            // other\n            templateObject = templateObject.other;\n          }\n          else {\n            // default\n            templateObject = '';\n            console.warn('i18n-format: cannot find a template');\n          }\n        }\n        else {\n          // string selector\n          if (templateObject[param.textContent]) {\n            // template found\n            templateObject = templateObject[param.textContent];\n          }\n          else if (templateObject.other) {\n            // other\n            templateObject = templateObject.other;\n          }\n          else {\n            // default\n            templateObject = '';\n            console.warn('i18n-format: cannot find a template');\n          }\n        }\n      }\n      if (typeof templateObject === 'string') {\n        templateText = templateObject;\n      }\n      else if (typeof templateObject === 'undefined') {\n        templateText = undefined;\n      }\n      else {\n        templateText = '';\n        console.warn('i18n-format: cannot find a template');\n      }\n    }\n    else {\n      templateText = this.templateTextNode.data;\n    }\n    return templateText;\n  },\n\n  /**\n   * Render the template text.\n   */\n  render: function () {\n    var templateText = this._selectTemplateText();\n    var tmpNode = document.createElement('span');\n    var paramPlaceholder;\n    var childNodes = [];\n    var i;\n    var shadowDomV1 = !!Polymer.Element;\n    var shadyDomV1 = !!window.ShadyDOM;\n\n    if (templateText === this.lastTemplateText) {\n      //console.log('i18n-format: skipping rendering as the templateText has not changed');\n      return;\n    }\n    else if (typeof templateText === 'undefined') {\n      return;\n    }\n    else {\n      this.lastTemplateText = templateText;\n      //console.log('i18n-format: ' + this.id + '.render() templateText = ' + templateText);\n    }\n\n    i = 1;\n    while (i < this.elements.length) {\n      paramPlaceholder = this.paramFormat.replace('n', i);\n      templateText = templateText.replace(paramPlaceholder, \n                      shadowDomV1 ? '<slot name=\"' + i + '\"></slot>' :\n                      '<content select=\"[' + this.paramAttribute + '=\\'' + i + '\\']\"></content>');\n      i++;\n    }\n    \n    tmpNode.innerHTML = templateText;\n\n    if (Polymer.Element) {\n      if (this.root === this) {\n        this.attachShadow({ mode: 'open' });\n        this.root = this.shadowRoot;\n      }\n      this.root.innerHTML = ''; // Polymer 2.x\n    }\n    else {\n      Polymer.dom(this.root).innerHTML = '';\n    }\n\n    // References of childNodes have to be copied for Shady DOM compatibility\n    for (i = 0; i < tmpNode.childNodes.length; i++) {\n      childNodes[i] = tmpNode.childNodes[i];\n    }\n\n    for (i = 0; i < childNodes.length; i++) {\n      // each node has to be appended via Polymer.dom()\n      Polymer.dom(this.root).appendChild(childNodes[i]);\n    }\n\n    if (shadyDomV1) {\n      ShadyDOM.flush();\n    }\n    this.fire('rendered');\n  }\n});\nPolymer({\n    is: 'iron-localstorage',\n\n    properties: {\n      /**\n       * localStorage item key\n       */\n      name: {\n        type: String,\n        value: ''\n      },\n      /**\n       * The data associated with this storage.\n       * If set to null item will be deleted.\n       * @type {*}\n       */\n      value: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * If true: do not convert value to JSON on save/load\n       */\n      useRaw: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Value will not be saved automatically if true. You'll have to do it manually with `save()`\n       */\n      autoSaveDisabled: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * Last error encountered while saving/loading items\n       */\n      errorMessage: {\n        type: String,\n        notify: true\n      },\n\n      /** True if value has been loaded */\n      _loaded: {\n        type: Boolean,\n        value: false\n      }\n    },\n\n    observers: [\n      '_debounceReload(name,useRaw)',\n      '_trySaveValue(autoSaveDisabled)',\n      '_trySaveValue(value.*)'\n    ],\n\n    ready: function() {\n      this._boundHandleStorage = this._handleStorage.bind(this);\n    },\n\n    attached: function() {\n      window.addEventListener('storage', this._boundHandleStorage);\n    },\n\n    detached: function() {\n      window.removeEventListener('storage', this._boundHandleStorage);\n    },\n\n    _handleStorage: function(ev) {\n      if (ev.key == this.name) {\n        this._load(true);\n      }\n    },\n\n    _trySaveValue: function() {\n      if (this._doNotSave) {\n        return;\n      }\n      if (this._loaded && !this.autoSaveDisabled) {\n        this.debounce('save', this.save);\n      }\n    },\n\n    _debounceReload: function() {\n      this.debounce('reload', this.reload);\n    },\n\n    /**\n     * Loads the value again. Use if you modify\n     * localStorage using DOM calls, and want to\n     * keep this element in sync.\n     */\n    reload: function() {\n      this._loaded = false;\n      this._load();\n    },\n\n    /**\n     * loads value from local storage\n     * @param {boolean=} externalChange true if loading changes from a different window\n     */\n    _load: function(externalChange) {\n      try {\n        var v = window.localStorage.getItem(this.name);\n      } catch (ex) {\n        this.errorMessage = ex.message;\n\n        this._error(\"Could not save to localStorage.  Try enabling cookies for this page.\", ex);\n      };\n\n      if (v === null) {\n        this._loaded = true;\n        this._doNotSave = true;  // guard for save watchers\n        this.value = null;\n        this._doNotSave = false;\n        this.fire('iron-localstorage-load-empty', { externalChange: externalChange});\n      } else {\n        if (!this.useRaw) {\n          try { // parse value as JSON\n            v = JSON.parse(v);\n          } catch(x) {\n            this.errorMessage = \"Could not parse local storage value\";\n            Polymer.Base._error(\"could not parse local storage value\", v);\n            v = null;\n          }\n        }\n        this._loaded = true;\n        this._doNotSave = true;\n        this.value = v;\n        this._doNotSave = false;\n        this.fire('iron-localstorage-load', { externalChange: externalChange});\n      }\n    },\n\n    /**\n     * Saves the value to localStorage. Call to save if autoSaveDisabled is set.\n     * If `value` is null or undefined, deletes localStorage.\n     */\n    save: function() {\n      var v = this.useRaw ? this.value : JSON.stringify(this.value);\n      try {\n        if (this.value === null || this.value === undefined) {\n          window.localStorage.removeItem(this.name);\n        } else {\n          window.localStorage.setItem(this.name, /** @type {string} */ (v));\n        }\n      }\n      catch(ex) {\n        // Happens in Safari incognito mode,\n        this.errorMessage = ex.message;\n        Polymer.Base._error(\"Could not save to localStorage. Incognito mode may be blocking this action\", ex);\n      }\n    }\n\n    /**\n     * Fired when value loads from localStorage.\n     *\n     * @event iron-localstorage-load\n     * @param {{externalChange:boolean}} detail -\n     *     externalChange: true if change occured in different window.\n     */\n\n    /**\n     * Fired when loaded value does not exist.\n     * Event handler can be used to initialize default value.\n     *\n     * @event iron-localstorage-load-empty\n     * @param {{externalChange:boolean}} detail -\n     *     externalChange: true if change occured in different window.\n     */\n  });\n(function(document) {\n  'use strict';\n\n  // html element of this document\n  var html = document.querySelector('html');\n  // app global default language\n  var defaultLang = html.hasAttribute('lang') ? html.getAttribute('lang') : '';\n\n  // imperative synchronous registration of the template for Polymer 2.x\n  var template = ((!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript)\n    .ownerDocument.querySelector('template#i18n-preference');\n  var domModule = document.createElement('dom-module');\n  var currentScript = (!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript;\n  var registerI18nPreference = function () {\n\n  currentScript.ownerDocument.querySelector('div#dom-module-placeholder').appendChild(domModule);\n  domModule.appendChild(template);\n  domModule.register('i18n-preference');\n\n  Polymer({\n    is: 'i18n-preference',\n\n    properties: {\n      /**\n       * Persistence of preference \n       */\n      persist: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        notify: true,\n        observer: '_onPersistChange'\n      }\n    },\n\n    /**\n     * Ready callback to initialize this.lang\n     */\n    ready: function () {\n      if (this.persist) {\n        // delay this.lang update\n      }\n      else {\n        //this.$.storage.value = undefined;\n      }\n      this.isReady = true;\n    },\n\n    /**\n     * Attached callback to initialize html.lang and its observation\n     */\n    attached: function () {\n      this._observe();\n      if (this.persist) {\n        // delay html.lang update\n      }\n      else {\n        if (!html.hasAttribute('preferred')) {\n          html.setAttribute('lang', navigator.language || navigator.browserLanguage);\n        }\n      }\n    },\n\n    /**\n     * Detached callback to diconnect html.lang observation\n     */\n    detached: function () {\n      this._disconnect();\n    },\n\n    /**\n     * Initialize an empty localstorage\n     */\n    _onLoadEmptyStorage: function () {\n      if (this.isReady) {\n        if (this.persist) {\n          if (this.isInitialized) {\n            // store html.lang value\n            this.$.storage.value = html.getAttribute('lang');\n          }\n          else {\n            if (html.hasAttribute('preferred')) {\n              this.$.storage.value = html.getAttribute('lang');\n            }\n            else {\n              this.$.storage.value = navigator.language || navigator.browserLanguage;\n              if (html.getAttribute('lang') !== this.$.storage.value) {\n                html.setAttribute('lang', this.$.storage.value);\n              }\n            }\n            this.isInitialized = true;\n          }\n        }\n        else {\n          // leave the empty storage as it is\n        }\n      }\n    },\n\n\n    /**\n     * Handle the loaded storage value\n     */\n    _onLoadStorage: function () {\n      if (this.isReady) {\n        if (this.persist) {\n          // preferred attribute in html to put higher priority\n          // in the default html language than navigator.language\n          if (html.hasAttribute('preferred')) {\n            if (this.$.storage.value !== defaultLang) {\n              // overwrite the storage by the app default language\n              this.$.storage.value = defaultLang;\n            }\n          }\n          else {\n            // load the value from the storage\n            html.setAttribute('lang', this.$.storage.value);\n          }\n        }\n        else {\n          // empty the storage\n          this.$.storage.value = undefined;\n        }\n      }\n    },\n\n    /**\n     * Handle persist changes\n     *\n     * @param {Boolean} value new this.persist value\n     */\n    _onPersistChange: function (value) {\n      if (this.isReady) {\n        if (value) {\n          if (this.$.storage.value !== html.getAttribute('lang')) {\n            // save to the storage\n            this.$.storage.value = html.getAttribute('lang');\n          }\n        }\n        else {\n          // empty the storage\n          this.$.storage.value = undefined;\n        }\n      }\n    },\n\n    /**\n     * Handle storage value changes\n     *\n     * @param {Event} e value-changed event on the storage\n     */\n    _onStorageValueChange: function (e) {\n      var value = e.detail.value;\n      if (this.isReady) {\n        if (this.persist) {\n          if (value) {\n            if (value !== html.getAttribute('lang')) {\n              // save to the lang\n              html.setAttribute('lang', value);\n            }\n          }\n          else {\n            // update the storage\n            this.$.storage.value = html.getAttribute('lang');\n          }\n        }\n        else {\n          if (value) {\n            // empty the storage\n            this.$.storage.value = undefined;\n          }\n        }\n      }\n    },\n\n    /**\n     * Handle value changes on localstorage\n     *\n     * @param {MutationRecord[]} mutations Array of MutationRecords for html.lang\n     *\n     * Note: \n     *   - Bound to this element\n     */\n    _htmlLangMutationObserverCallback: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            if (this.$.storage.value !== mutation.target.getAttribute('lang')) {\n              this.$.storage.value = mutation.target.getAttribute('lang');\n            }\n          }\n          break;\n        default:\n          break;\n        }\n      }.bind(this));\n    },\n\n    /**\n     * Set up html.lang mutation observer\n     */\n    _observe: function () {\n      // observe html lang mutations\n      if (!this._htmlLangMutationObserver) {\n        this._htmlLangMutationObserverCallbackBindThis = \n          this._htmlLangMutationObserverCallback.bind(this);\n        this._htmlLangMutationObserver =\n          new MutationObserver(this._htmlLangMutationObserverCallbackBindThis);\n      }\n      this._htmlLangMutationObserver.observe(html, { attributes: true });\n    },\n\n    /**\n     * Disconnect html.lang mutation observer\n     */\n    _disconnect: function () {\n      if (this._htmlLangMutationObserver) {\n        this._htmlLangMutationObserver.disconnect();\n      }\n    }\n  });\n  }\n  if ((!window.HTMLImports || HTMLImports.hasNative)) {\n    registerI18nPreference();\n  }\n  else {\n    HTMLImports.whenReady(registerI18nPreference);\n  }\n})(document);\n(function () {\n  // shared data\n  var sharedData = {};\n\n  // imperative synchronous registration of the template for Polymer 2.x\n  var template = ((!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript)\n    .ownerDocument.querySelector('template#i18n-attr-repo');\n  var domModule = document.createElement('dom-module');\n  domModule.appendChild(template);\n  domModule.register('i18n-attr-repo');\n  window.BehaviorsStore = window.BehaviorsStore || {};\n  // Polymer function for iron-component-page documentation\n  var Polymer = function (proto) {\n    BehaviorsStore._I18nAttrRepo = proto;\n    BehaviorsStore._I18nAttrRepo._created();\n    return window.Polymer(proto);\n  };\n\n/*\n`<i18n-attr-repo>` maintains a list of attributes targeted for UI localization.  \nIt judges whether a specific attribute of an element requires localization or not. \n\n    var attrRepository = \n      document.createElement('i18n-attr-repo');\n\n    attrRepository.registerLocalizableAttributes(\n      'custom-element',\n      Polymer.DomModule.import('custom-element', 'template')\n    );\n    attrRepository.isLocalizableAttribute(inputElement, 'placeholder');\n\n### Interactions with `BehaviorsStore.I18nBehavior`\n\nThe element is not meant for DOM attachment. The object is\na singleton object dedicated for `BehaviorsStore.I18nBehavior`.\n`I18nBehavior` interacts with the localizable attributes repository in these 3 ways.\n\n### 1) Construct the repository for the standard elements from its own static template at the object creation.\n\n```\n    // i18n-behavior.html\n    var attrRepository = \n      document.createElement('i18n-attr-repo');\n```\n\nPre-defined I18N-target attributes in the static template of `i18n-attr-repo`:\n\n```\n    <dom-module id=\"i18n-attr-repo\">\n      <template>\n        <template id=\"standard\">\n          <input placeholder>\n          <any-elements title aria-label=\"$\" aria-valuetext=\"$\"></any-elements>\n\n          <paper-input label error-message placeholder></paper-input>\n          <paper-textarea label error-message placeholder></paper-textarea>\n          <paper-dropdown-menu label></paper-dropdown-menu>\n          <paper-toast text></paper-toast>\n          <google-chart options cols rows data></google-chart>\n          <google-signin label-signin label-signout label-additional></google-signin>\n          <platinum-push-messaging title message></platinum-push-messaging>\n\n          <json-data any-attributes></json-data>\n        </template>\n      </template>\n    </dom-module>\n```\n\nThis static list is also referenced by [`gulp-i18n-preprocess`](https://github.com/t2ym/gulp-i18n-preprocess) filter for\nbuild-time automatic I18N of hard-coded string attributes.\n\n### 2) Register I18N-target attributes of custom elements from a template with id=\"custom\" in its light DOM.\n\nI18N-target attributes for custom elements without I18nBehavior can be registered to the respository by this method. \n\nExample I18N-target attributes in a static template in the light DOM of `i18n-attr-repo`:\n\n```\n    <i18n-attr-repo>\n      <template id=\"custom\">\n        <shop-md-decorator error-message=\"$\"></shop-md-decorator>\n        <input value=\"type=submit|button\">\n        <my-element i18n-target-attr=\"attr=value,boolean-attr,!boolean-attr\"></my-element>\n        <my-element i18n-target-attr=\"attr1=value1,attr2=value2,type-name\"></my-element>\n        <my-element i18n-target-attr=\"boolean-attr=\"></my-element>\n        <my-element i18n-target-attr=\"type-name2\"></my-element>\n      </template>\n    </i18n-attr-repo>\n```\n\nThis list is also referenced by [`gulp-i18n-preprocess`](https://github.com/t2ym/gulp-i18n-preprocess) filter for\nbuild-time automatic I18N of hard-coded string attributes.\n\nNote: Type name feature is currently ineffective and reserved for further expansion of the attribute I18N features.\n\n### 3) Register localizable attributes of the newly registered elements from the `text-attr` attribute of the element's template.\n\n```\n    // i18n-behavior.html, scanning custom-element template\n    var id = 'custom-element';\n    attrRepository.registerLocalizableAttributes(\n      id, \n      Polymer.DomModule.import(id, 'template')\n    );\n```\n```\n    // custom-element.html\n    <dom-module id=\"custom-element\">\n      <template text-attr=\"localizable-attr1 localizable-attr2\">\n        <span>{{localizableAttr1}}</span>\n        <span>{{localizableAttr2}}</span>\n      </template>\n      <script>\n        Polymer({\n          is: 'custom-element',\n          behaviors: [ BehaviorsStore.I18nBehavior ],\n          properties: {\n            localizableAttr1: {\n              type: String\n            },\n            localizableAttr2: {\n              type: String\n            }\n          }\n        });\n      </ script>\n    </dom-module>\n```\n\n`text-attr` attributes are also traversed for build-time automatic I18N of \nhard-coded UI string attributes by [`gulp-i18n-preprocess`](https://github.com/t2ym/gulp-i18n-preprocess) filter.\n\n### 4) Judge localizability of attributes for the local DOM elements of the newly registered element.\n\n```\n    // i18n-behavior.html, scanning custom-element-user template\n    var element; // target element\n    var attr;\n    if (attrRepository.isLocalizableAttribute(element, attr.name)) {\n      // make localizalbe-attr1 localizable\n    }\n```\n```\n    // custom-element-user.html\n    <dom-module id=\"custom-element-user\">\n      <template>\n        <custom-element id=\"custom\"\n                        localizable-attr1=\"UI Text Label 1\"\n                        localizable-attr2=\"UI Text Label 2\">\n        </custom-element>\n      </template>\n      <script>\n        Polymer({\n          is: 'custom-element-user',\n          behaviors: [ BehaviorsStore.I18nBehavior ]\n        });\n      </ script>\n    </dom-module>\n```\n```\n    // template for custom-element-user after localization binding\n    <template>\n      <custom-element id=\"custom\"\n                      localizable-attr1=\"{{model.custom.localizable-attr1}}\"\n                      localizable-attr2=\"{{model.custom.localizable-attr2}}\">\n      </custom-element>\n    </template>\n```\n```\n    // extracted localizable texts in custom-element-user element\n    this.model = {\n      \"custom\": {\n        \"localizable-attr1\": \"UI Text Label 1\",\n        \"localizable-attr2\": \"UI Text Label 2\"\n      }\n    }\n```\n\nSince dependent elements should be registered prior to a custom element being registered,\nthe repository can always maintain the complete list of localizable attributes for registered custom elements.\n\n- - -\n\n### Note\n\nThe described processes above are for debug builds with runtime localization traversal of templates\nby `I18nBehavior`.\n\nFor production builds, the build system can perform the same processes at build time so that \n`I18nBehavior` at clients can skip runtime traversal of templates.\n\n- - -\n\n### TODO\n\nHandle and judge JSON object attributes.\n\n@group I18nBehavior\n@element i18n-attr-repo\n@hero hero.svg\n@demo demo/index.html\n*/\n  Polymer({\n    is: 'i18n-attr-repo',\n\n    created: function () {\n      this.data = sharedData;\n\n      var customAttributes = window.Polymer.dom(this).querySelector('template#custom');\n      // traverse custom attributes repository\n      if (customAttributes && !this.hasAttribute('processed')) {\n        this._traverseTemplateTree(customAttributes._content || customAttributes.content);\n        this.setAttribute('processed', '');\n      }\n\n      this._created();\n    },\n\n    _created: function () {\n      this.data = sharedData;\n\n      if (this.data.__ready__) {\n        return; // traverse standard attributes only once\n      }\n      this.data.__ready__ = true;\n      var standardTemplate;\n      if (!this.$) {\n        var t = window.Polymer.DomModule.import(this.is, 'template');\n        standardTemplate = (t._content || t.content).querySelector('template#standard');\n      }\n      else {\n        standardTemplate = this.$.standard;\n      }\n      this._traverseTemplateTree(standardTemplate._content || standardTemplate.content);\n    },\n\n    /**\n     * Judge if a specific attribute of an element requires localization.\n     *\n     * @param {HTMLElement} element Target element.\n     * @param {string} attr Target attribute name.\n     * @return {string or boolean} true - property, '$' - attribute, false - not targeted, 'type-name' - type name\n     */\n    isLocalizableAttribute: function (element, attr) {\n      var tagName = element.tagName.toLowerCase();\n      if (!this.data) {\n        this._created();\n        this.data = sharedData;\n      }\n      attr = attr.replace(/\\$$/, '');\n      if (this.data['any-elements'] &&\n          this.data['any-elements'][attr]) {\n        return this.data['any-elements'][attr];\n      }\n      else if (this.data[tagName]) {\n        return this.data[tagName]['any-attributes'] ||\n               this._getType(element, this.data[tagName][attr]);\n      }\n      else {\n        return false;\n      }\n    },\n\n    /**\n     * Get the type name or '$' for a specific attribute of an element from the attributes repository\n     *\n     * @param {HTMLElement} element Target element.\n     * @param {object} value this.data[tagName][attr]\n     * @return {string or boolean} true - property, '$' - attribute, false - not targeted, 'type-name' - type name\n     */\n    _getType: function (element, value) {\n      var selector;\n      var result;\n      if (typeof value === 'object') {\n        for (selector in value) {\n          if (selector) {\n            if (this._matchAttribute(element, selector)) {\n              result = this._getType(element, value[selector]);\n              if (result) {\n                return result;\n              }\n            }\n          }\n        }\n        if (value['']) {\n          if (this._matchAttribute(element, '')) {\n            result = this._getType(element, value['']);\n            if (result) {\n              return result;\n            }\n          }\n        }\n        return false;\n      }\n      else {\n        return value;\n      }\n    },\n\n    /**\n     * Get the type name or '$' for a specific attribute of an element from the attributes repository\n     *\n     * Format for selectors:\n     *  - `attr=value` - Value of `attr` matches Regex `^value$`\n     *  - `!boolean-attr` - Boolean attribute does not exist\n     *  - `boolean-attr` - Boolean attribute exists with empty value\n     *  - empty string `''` - Always matches\n     *\n     * @param {HTMLElement} element Target element.\n     * @param {string} selector Matching condition for target attribute.\n     * @return {boolean} true - matching, false - not matching\n     */\n    _matchAttribute: function (element, selector) {\n      var value;\n      var match;\n      // default ''\n      if (selector === '') {\n        return true;\n      }\n      // attr=value Regex ^value$\n      match = selector.match(/^([^!=]*)=(.*)$/);\n      if (match) {\n        if (element.hasAttribute(match[1])) {\n          value = element.getAttribute(match[1]);\n          return !!value.match(new RegExp('^' + match[2] + '$'));\n        }\n        else {\n          return false;\n        }\n      }\n      // !boolean-attr\n      match = selector.match(/^!([^!=]*)$/);\n      if (match) {\n        return !element.hasAttribute(match[1]);\n      }\n      // boolean-attr or empty-attr\n      match = selector.match(/^([^!=]*)$/);\n      if (match) {\n        if (element.hasAttribute(match[1])) {\n          value = element.getAttribute(match[1]);\n          return !value;\n        }\n        else {\n          return false;\n        }\n      }\n      // no matching\n      return false;\n    },\n\n    /**\n     * Comparator for attribute selectors\n     *\n     * @param {string} s1 selector 1\n     * @param {string} s2 selector 2\n     * @return {number} comparison result as -1, 0, or 1\n     */\n    _compareSelectors: function (s1, s2) {\n      var name1 = s1.replace(/^!/, '').replace(/=.*$/, '').toLowerCase();\n      var name2 = s2.replace(/^!/, '').replace(/=.*$/, '').toLowerCase();\n      return name1.localeCompare(name2);\n    },\n\n    /**\n     * Add a new localizable attribute of an element to the repository.\n     *\n     * Format for selector values for defining I18N-target attributes:\n     *   - `attr1=value1,attr2=value2,boolean-attr,!boolean-attr` - Attribute value matching condition for property\n     *   - `attr1=value1,attr2=value2,$` - Attribute value matching condition for attribute\n     *   - `boolean-attr=` - Boolean attribute condition\n     *   - `attr1=value1,type` - Attribute value condition with type name (type is currently ineffective)\n     *\n     * @param {string} element Target element name.\n     * @param {string} attr Target attribute name.\n     * @param {?*} value Selector value\n     */\n    setLocalizableAttribute: function (element, attr, value) {\n      this.data[element] = this.data[element] || {};\n      var cursor = this.data[element];\n      var prev = attr;\n      var type = true;\n      var selectors = [];\n\n      if (typeof value === 'string' && value) {\n        selectors = value.split(',');\n        if (selectors[selectors.length - 1].match(/^[^!=][^=]*$/)) {\n          type = selectors.pop();\n        }\n        selectors = selectors.map(function (selector) {\n          return selector.replace(/=$/, '');\n        });\n        selectors.sort(this._compareSelectors);\n        while (selectors[0] === '') {\n          selectors.shift();\n        }\n      }\n\n      selectors.forEach(function (selector, index) {\n        if (typeof cursor[prev] !== 'object') {\n          cursor[prev] = cursor[prev] ? { '': cursor[prev] } : {};\n        }\n        cursor[prev][selector] = cursor[prev][selector] || {};\n        cursor = cursor[prev];\n        prev = selector;\n      });\n\n      if (typeof cursor[prev] === 'object' &&\n          cursor[prev] &&\n          Object.keys(cursor[prev]).length) {\n        cursor = cursor[prev];\n        prev = '';\n      }\n      cursor[prev] = type;\n    },\n\n    /**\n     * Pick up localizable attributes description for a custom element \n     * from `text-attr` attribute and register them to the repository.\n     * The `text-attr` attribute is used in the template of a custom\n     * element to declare localizable attributes of its own element.\n     *\n     * Format:\n     *\n     *  Type 1: `<template text-attr=\"localizable-attr1 attr2\">`\n     *\n     *  Type 2: `<template text-attr localizable-attr1 attr2=\"value2\">`\n     *\n     * @param {string} element Target element name.\n     * @param {HTMLTemplateElement} template Template of the element.\n     */\n    registerLocalizableAttributes: function (element, template) {\n      if (!this.data) {\n        this._created();\n        this.data = sharedData;\n      }\n      if (!element) {\n        element = template.getAttribute('id');\n      }\n      if (element) {\n        var attrs = (template.getAttribute('text-attr') || '').split(' ');\n        var textAttr = false;\n        attrs.forEach(function (attr) {\n          if (attr) {\n            this.setLocalizableAttribute(element, attr, true);\n          }\n        }, this);\n        Array.prototype.forEach.call(template.attributes, function (attr) {\n          switch (attr.name) {\n          case 'id':\n          case 'lang':\n          case 'localizable-text':\n          case 'assetpath':\n            break;\n          case 'text-attr':\n            textAttr = true;\n            break;\n          default:\n            if (textAttr) {\n              this.setLocalizableAttribute(element, attr.name, attr.value);\n            }\n            break;\n          }\n        }.bind(this));\n      }\n    },\n\n    /**\n     * Traverse the template of `i18n-attr-repo` in the ready() callback\n     * and construct the localizable attributes repository object. The method calls itself\n     * recursively for traversal.\n     *\n     * @param {HTMLElement} node The target HTML node for traversing.\n     */    \n    _traverseTemplateTree: function (node) {\n      var name;\n      if (node.nodeType === node.ELEMENT_NODE) {\n        name = node.nodeName.toLowerCase();\n        Array.prototype.forEach.call(node.attributes, function (attribute) {\n          this.data[name] = this.data[name] || {};\n          this.setLocalizableAttribute(name, attribute.name, attribute.value);\n        }, this);\n      }\n      if (node.childNodes.length > 0) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          this._traverseTemplateTree(node.childNodes[i]);\n        }\n      }\n    }\n  });\n})();\n/*!\n * @license deepcopy.js Copyright(c) 2013 sasa+1\n * https://github.com/sasaplus1/deepcopy.js\n * Released under the MIT license.\n */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.deepcopy=e():t.deepcopy=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){\"use strict\";t.exports=n(3)},function(t,e){\"use strict\";function n(t,e){if(\"[object Array]\"!==o.call(t))throw new TypeError(\"array must be an Array\");var n=void 0,r=void 0,u=void 0;for(n=0,r=t.length;r>n;++n)if(u=t[n],u===e||u!==u&&e!==e)return n;return-1}e.__esModule=!0;var o=Object.prototype.toString,r=\"undefined\"!=typeof Buffer?function(t){return Buffer.isBuffer(t)}:function(){return!1},u=\"function\"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=typeof t;if(null===t||\"function\"!==e&&\"object\"!==e)throw new TypeError(\"obj must be an Object\");var n=[],o=void 0;for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.push(o);return n},i=\"function\"==typeof Symbol?function(t){return Object.getOwnPropertySymbols(t)}:function(){return[]};e.getKeys=u,e.getSymbols=i,e.indexOf=n,e.isBuffer=r},function(t,e,n){\"use strict\";function o(t,e){var n=u(t);return null!==n?n:r(t,e)}function r(t,e){if(\"function\"!=typeof e)throw new TypeError(\"customizer is must be a Function\");if(\"function\"==typeof t){var n=String(t);return/^\\s*function\\s*\\S*\\([^\\)]*\\)\\s*{\\s*\\[native code\\]\\s*}/.test(n)?t:new Function(\"return \"+String(n))()}var o=c.call(t);if(\"[object Array]\"===o)return[];if(\"[object Object]\"===o&&t.constructor===Object)return{};if(\"[object Date]\"===o)return new Date(t.getTime());if(\"[object RegExp]\"===o){var r=String(t),u=r.lastIndexOf(\"/\");return new RegExp(r.slice(1,u),r.slice(u+1))}if((0,i.isBuffer)(t)){var f=new Buffer(t.length);return t.copy(f),f}var l=e(t);return void 0!==l?l:null}function u(t){var e=typeof t;return null!==t&&\"object\"!==e&&\"function\"!==e?t:null}e.__esModule=!0,e.copyValue=e.copyCollection=e.copy=void 0;var i=n(1),c=Object.prototype.toString;e.copy=o,e.copyCollection=r,e.copyValue=u},function(t,e,n){\"use strict\";function o(t){}function r(t){var e=arguments.length<=1||void 0===arguments[1]?o:arguments[1];if(null===t)return null;var n=(0,i.copyValue)(t);if(null!==n)return n;var r=(0,i.copyCollection)(t,e),c=null!==r?r:t,f=[t],l=[c];return u(t,e,c,f,l)}function u(t,e,n,o,r){if(null===t)return null;var f=(0,i.copyValue)(t);if(null!==f)return f;var l=(0,c.getKeys)(t).concat((0,c.getSymbols)(t)),p=void 0,s=void 0,a=void 0,y=void 0,d=void 0,v=void 0,b=void 0,j=void 0;for(p=0,s=l.length;s>p;++p)a=l[p],y=t[a],d=(0,c.indexOf)(o,y),v=void 0,b=void 0,j=void 0,-1===d?(v=(0,i.copy)(y,e),b=null!==v?v:y,null!==y&&/^(?:function|object)$/.test(typeof y)&&(o.push(y),r.push(b))):j=r[d],n[a]=j||u(y,e,b,o,r);return n}e.__esModule=!0;var i=n(2),c=n(1);e[\"default\"]=r,t.exports=e[\"default\"]}])});\n/* jshint -W100 */\n(function(document) {\n  'use strict';\n\n  var html = document.querySelector('html');\n  if (window.ShadowDOMPolyfill) {\n    // Fix #38. Add reflectToAttribute effect on html.lang property\n    // for supplementing Shadow DOM MutationObserver polyfill\n    Object.defineProperty(html, 'lang', {\n      get: function () {\n        return this.getAttribute('lang');\n      },\n      set: function (value) {\n        this.setAttribute('lang', value);\n      }\n    });\n  }\n\n  // Safari 7 predefines non-configurable standard properties\n  // Note: They become configurable with ShadowDOMPolyfill, which wraps them.\n  var isStandardPropertyConfigurable = (function () {\n    var langPropertyDescriptor = Object.getOwnPropertyDescriptor(document.createElement('span'), 'lang');\n    return !langPropertyDescriptor || langPropertyDescriptor.configurable;\n  })();\n  // Polymer 1.4.0 on Safari 7 inserts extra unexpected whitepace node at the beginning of template\n  var extraWhiteSpaceNode = !isStandardPropertyConfigurable;\n  if (Polymer.ElementMixin) {\n    isStandardPropertyConfigurable = false;\n  }\n\n  // app global bundle storage\n  var bundles = { '': {} }; // with an empty default bundle\n  // app global default language\n  var defaultLang = html.hasAttribute('lang') ? html.getAttribute('lang') : '';\n  // shared fetching instances for bundles\n  var bundleFetchingInstances = {};\n\n  // path for start URL\n  var startUrl = (function () {\n    var path = window.location.pathname;\n    if (document.querySelector('meta[name=app-root]') &&\n        document.querySelector('meta[name=app-root]').getAttribute('content')) {\n      // <meta name=\"app-root\" content=\"/\"> to customize application root\n      path = document.querySelector('meta[name=app-root]').getAttribute('content');\n    }\n    else if (document.querySelector('link[rel=manifest]') &&\n             document.querySelector('link[rel=manifest]').getAttribute('href') &&\n             document.querySelector('link[rel=manifest]').getAttribute('href').match(/^\\//)) {\n      // assume manifest is located at the application root folder\n      path = document.querySelector('link[rel=manifest]').getAttribute('href');\n    }\n    return path.replace(/\\/[^\\/]*$/,'/');\n  })();\n\n  // path for locales from <html locales-path=\"locales\">\n  var localesPath = html.hasAttribute('locales-path') ? \n                      html.getAttribute('locales-path') : 'locales';\n\n  // Support ShadowDOM V1 on Polymer 2.x\n  var paramAttribute = Polymer.ElementMixin ? 'slot' : 'param';\n\n  var attributesRepository = ((!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript)\n    .ownerDocument.querySelector('i18n-attr-repo');\n\n  // set up userPreference\n  var userPreference = document.querySelector('i18n-preference');\n  if (!userPreference) {\n    userPreference = document.createElement('i18n-preference');\n    // append to body\n    document.querySelector('body').appendChild(userPreference);\n  }\n\n  // debug log when <html debug> attribute exists\n  var debuglog = html.hasAttribute('debug') ?\n    function (arg) {\n      console.log(arg);\n    } :\n    function () {};\n\n  window.BehaviorsStore = window.BehaviorsStore || {};\n  /**\n   * Apply `BehaviorsStore.I18nControllerBehavior` to manipulate internal variables for I18N\n   *\n   * Note: This behavior is not for normal custom elements to apply I18N. UI is not expected.\n   */\n  BehaviorsStore.I18nControllerBehavior = {\n    properties: {\n\n      /**\n       * Flag for detection of `I18nControllerBehavior`\n       *\n       * `true` if I18nControllerBehavior is applied\n       *\n       * Note: Module-specific JSON resources are NOT fetched for `I18nControllerBehavior`\n       */\n      isI18nController: {\n        type: Boolean,\n        value: true,\n        readOnly: true\n      },\n\n      /**\n       * HTML element object for the current document\n       */\n      html: {\n        type: Object,\n        value: html\n      },\n\n      /**\n       * Master bundles object for storing all the localized and default resources\n       */\n      masterBundles: {\n        type: Object,\n        value: bundles\n      },\n\n      /**\n       * Default lang for the document, i.e., the initial value of `<html lang>` attribute\n       */\n      defaultLang: {\n        type: String,\n        value: defaultLang,\n        readOnly: true\n      },\n\n      /**\n       * List of elements which are fetching bundles\n       */\n      bundleFetchingInstances: {\n        type: Object,\n        value: bundleFetchingInstances\n      },\n\n      /**\n       * Root URL path of the application ends with '/' to fetch bundles\n       */\n      startUrl: {\n        type: String,\n        value: startUrl,\n        readOnly: true\n      },\n\n      /**\n       * Path for locales\n       *\n       * Default value is `'locales'`\n       */\n      localesPath: {\n        type: String,\n        value: localesPath,\n        readOnly: true\n      },\n\n      /**\n       * <i18n-attr-repo> element to store attributes repository\n       */\n      attributesRepository: {\n        type: Object,\n        value: attributesRepository,\n        readOnly: true\n      },\n\n      /**\n       * <i18n-preference> element\n       */\n      userPreference: {\n        type: Object,\n        value: userPreference,\n        readOnly: true\n      }\n    }\n  };\n  /**\n   * Apply `BehaviorsStore.I18nBehavior` to implement localizable elements.\n   *\n   *     <dom-module id=\"custom-element\">\n   *       <template>\n   *         <span>Hard-coded UI texts are automatically made localizable</span>\n   *       </template>\n   *       <script>\n   *         Polymer({\n   *           is: 'custom-element',\n   *           behaviors: [ \n   *             BehaviorsStore.I18nBehavior  // Add this behavior\n   *           ]\n   *         });\n   *       </script>\n   *     </dom-module>\n   *\n   * `I18nBehavior` automatically extracts UI texts from `template` and \n   * binds them to localizable variables in `this.text` object.\n   *\n   * According to the `lang` attribute value, `this.text`, and thus the bound UI texts,\n   * dynamically mutates by loading localized values from a JSON file in the `locales` directory.\n   * By default, `lang` attribute values of all the localizable elements with `I18nBehavior` are\n   * automatically updated according to `<html lang>` attribute value.\n   *\n   * The UI text externalization can be processed at build time as well by `gulp-*` task\n   * so that `I18nBehavior` can immediately recognize the extracted texts in JSON and \n   * skip run-time externalization.\n   *\n   * Run-time externalization is suitable for development and debugging \n   * since the code changes are immediately reflected at reloading without build-time preprocesses.\n   * In contrast, build-time externalization is suitable for production builds \n   * since it eliminates run-time externalization overheads.\n   * \n   * ### Steps to localize a custom element\n   *\n   * 1. [JavaScript] Add `BehaviorsStore.I18nBehavior` to `behaviors`\n   * 1. [gulp] Add `gulp-*` filter for `custom-element.html` and generate `custom-element.json`\n   * 1. [locales] Put `custom-element.lang.json` in `locales` directory\n   * 1. [translation] Translate `locales/custom-element.lang.json`\n   *\n   * - - -\n   *\n   * ### Directory structure of bundle files\n   *\n   * Normal bundles (`/element-root/locales/element-name.*.json`) for elements\n   * are stored under their root directories.\n   *\n   * Shared bundles (`/locales/bundle.*.json`) are generated at build time \n   * by merging all the targeted bundles of the localizable elements. \n   *\n   * Once the shared bundles are loaded, there should be no need to search for \n   * normal bundles per element unless the element is intentionally excluded \n   * from the shared bundles.\n   *\n   * ```\n   *      /bundle.json \n   *      /locales/bundle.ja.json\n   *              /bundle.fr.json\n   *              /bundle.zh-Hans.json\n   *\n   *      /elements/my-list/my-list.json\n   *                       /locales/my-list.ja.json\n   *                               /my-list.zh-Hans.json\n   *\n   *               /google-chart-demo/google-chart-demo.json\n   *                                 /locales/google-chart-demo.ja.json\n   *                                         /google-chart-demo.fr.json\n   * ```\n   *\n   * - - -\n   *\n   * ### Localizable `<template is=\"i18n-dom-bind\" id=\"app\">` element\n   *\n   * `<template is=\"i18n-dom-bind\">` template element extends \n   * `<template is=\"dom-bind\">` template element with all the capabilities of \n   * `I18nBehavior`.  \n   *\n   * The `id` attribute value is used for naming bundle files instead of the element name.\n   * \n   * The bundle files are stored at the locales directory under the application root. \n   *\n   * ```\n   *      /app.json\n   *      /locales/app.ja.json\n   *              /app.fr.json\n   *              /app.zh-Hans.json\n   * ```\n   *\n   * - - -\n   *\n   * ### TODOs\n   *\n   * - Support user locale preference per user\n   *\n   * @polymerBehavior BehaviorsStore.I18nBehavior\n   * @group I18nBehavior\n   * @hero hero.svg\n   * @demo demo/index.html\n   */\n  BehaviorsStore.I18nBehavior = {\n\n    /**\n     * Fired when the text message bundle object (`this.text`) is updated after `this.lang` is changed.\n     *\n     * @event lang-updated\n     */\n\n    /**\n     * Fired when a shared bundle is fetched.\n     *\n     * @event bundle-fetched\n     */\n\n    properties: {\n      /**\n       * The locale of the element.\n       * The default value is copied from `<html lang>` attribute of the current page.\n       * If `<html lang>` is not specified, `''` is set to use the template default language.\n       *\n       * The value is synchronized with `<html lang>` attribute of the current page by default.\n       *\n       * ### Note:\n       *  - The value may not reflect the current UI locale until the localized texts are loaded.\n       */\n      lang: {\n        type: String,\n        value: defaultLang,\n        reflectToAttribute: true,\n        observer: '_langChanged'\n      },\n\n      /**\n       * Text message bundle object for the current locale.\n       * The object is shared among all the instances of the same element.\n       * The value is updated when `lang-updated` event is fired.\n       */\n      text: {\n        type: Object,\n        computed: '_getBundle(lang)'\n      },\n\n      /**\n       * Data model bundle object for the current locale.\n       * The data are bound to localizable attribute values in the element template.\n       * The object is cloned from `this.text.model` per instance.\n       * The value is NOT automatically updated in sync with `this.text`.\n       * \n       * How to manually update the model object when `lang-updated` event is fired:\n       * ```\n       *     this.model = deepcopy(this.text.model);\n       * ```\n       */\n      model: {\n        type: Object,\n        notify: true\n      },\n\n      /**\n       * The locale of the hard-coded texts in the element's template.\n       * The read-only value can be specified by the `lang` attribute of the element's `template`.\n       * The default value is 'en' if not specified in the `template` element.\n       *\n       * ```\n       *  <dom-module id=\"custom-element\">\n       *    <template lang=\"en\">\n       *      <span>Hard-coded text in English</span>\n       *    </template>\n       *  <dom-module>\n       * ```\n       */\n      templateDefaultLang: {\n        type: String,\n        value: 'en'\n      },\n\n      /**\n       * The effective locale of the element.\n       * The value is updated when the localized texts are loaded and `lang-updated` event is fired.\n       */\n      effectiveLang: {\n        type: String\n      },\n\n      /**\n       * Boolean flag to synchronize with the value of  `<html lang>` attribute.\n       */\n      observeHtmlLang: {\n        type: Boolean,\n        value: true,\n        observer: '_observeHtmlLangChanged'\n      }\n    },\n\n    listeners: {\n      'lang-updated': '_updateEffectiveLang'\n    },\n\n    /* \n       bundles = \n       {\n        \"\": {},\n        \"en\": {\n          \"my-list\": {\n            \"p_2\": \"You now have:\",\n            \"model\": {\n              \"list\": {\n                \"items\": [\n                  \"item 1\", \"item 2\"\n                ]\n              }\n            }\n          },\n          \"google-chart-demo\": {\n            \"simple-chart-desc\": [\n              \"template {1} string\", \"param 1\"\n            ]\n            \"model\": {\n              \"simple-chart\": {\n                \"options\": { \"title\": \"Simple Chart\" },\n                \"rows\": []\n              }\n            }\n          }\n        },\n        \"ja\": {\n          \"my-list\": {},\n          \"google-chart-demo\": {}\n        }\n      }\n\n      bundles[lang]\n      /bundle.json - fallback\n      /locales/bundle.en.json\n              /bundle.ja.json\n              /bundle.fr.json\n              /bundle.zh-Hans.json\n\n      bundles[lang][is]\n      /elements/my-list/my-list.json - fallback\n                       /locales/my-list.en.json\n                               /my-list.ja.json\n                               /my-list.zh-Hans.json\n\n               /google-chart-demo/google-chart-demo.json - fallback\n                                 /locales/google-chart-demo.en.json\n                                         /google-chart-demo.ja.json\n                                         /google-chart-demo.zh-Hans.json\n\n      app/elements/my-list/my-list.json\n                          /locales/my-list.fr.json\n                                  /my-list.ja.json\n                                  /my-list.zh-Hans.json\n\n      dist/elements/my-list/my-list.json\n                           /locales/my-list.fr.json\n                                   /my-list.ja.json\n                                   /my-list.zh-Hans.json\n\n    */\n\n\n    /**\n     * The backend logic for `this.text` object.\n     *\n     * @param {string} lang Locale for the text message bundle.\n     * @return {Object} Text message bundle for the locale.\n     */\n    _getBundle: function (lang) {\n      //console.log('_getBundle called for ' + this.is + ' with lang = ' + lang);\n\n      var resolved;\n      var id = this.is === 'i18n-dom-bind' || (Polymer.ElementMixin && this.constructor.is === 'i18n-dom-bind') ? this.id : this.is;\n\n      if (lang && lang.length > 0) {\n        var fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n        var tryLang;\n        while ((tryLang = fallbackLanguageList.shift())) {\n          if (!bundles[tryLang]) {\n            // set up an empty bundle for the language if missing\n            bundles[tryLang] = {};\n          }\n          if (bundles[tryLang][id]) {\n            // bundle found\n            resolved = bundles[tryLang][id];\n            break;\n          }\n        }\n      }\n      else {\n        // lang is not specified\n        lang = '';\n        resolved = bundles[lang][id];\n      }\n\n      // Fallback priorities: last > app default > element default > fallback > {}\n      // TODO: need more research on fallback priorities\n      if (!resolved) { \n        if (this._fetchStatus && bundles[this._fetchStatus.lastLang] && bundles[this._fetchStatus.lastLang][id]) {\n          // old bundle for now (no changes should be shown)\n          resolved = bundles[this._fetchStatus.lastLang][id]; \n        }\n        else if (defaultLang && defaultLang.length > 0 &&\n                 bundles[defaultLang] && bundles[defaultLang][id]) {\n          // app default language for now\n          resolved = bundles[defaultLang][id]; \n        }\n        else if (this.templateDefaultLang && this.templateDefaultLang.length > 0 &&\n                 bundles[this.templateDefaultLang] && bundles[this.templateDefaultLang][id]) {\n          // element default language for now\n          resolved = bundles[this.templateDefaultLang][id]; \n        }\n        /* no more fallback should happen */\n        /* istanbul ignore else */\n        else if (bundles[''][id]) {\n          // fallback language for now (this should be the same as element default)\n          resolved = bundles[''][id];\n        }\n        else {\n          // give up providing a bundle (this should not happen)\n          resolved = {};\n        }\n      }\n\n      return resolved;\n    },\n\n    /**\n     * Enumerate fallback locales for the target locale.\n     * \n     * Subset implementation of BCP47 (https://tools.ietf.org/html/bcp47).\n     *\n     * ### Examples:\n     *\n     *| Target Locale | Fallback 1 | Fallback 2 | Fallback 3 |\n     *|:--------------|:-----------|:-----------|:-----------|\n     *| ru            | N/A        | N/A        | N/A        |\n     *| en-GB         | en         | N/A        | N/A        |\n     *| en-Latn-GB    | en-GB      | en-Latn    | en         |\n     *| fr-CA         | fr         | N/A        | N/A        |\n     *| zh-Hans-CN    | zh-Hans    | zh         | N/A        |\n     *| zh-CN         | zh-Hans    | zh         | N/A        |\n     *| zh-TW         | zh-Hant    | zh         | N/A        |\n     *\n     * #### Note:\n     *\n     * For zh language, the script Hans or Hant is supplied as its default script when a country/region code is supplied.\n     *\n     * @param {string} lang Target locale.\n     * @return {Array} List of fallback locales including the target locale at the index 0.\n     */\n    _enumerateFallbackLanguages: function (lang) {\n      var result = [];\n      var parts;\n      var match;\n      var isExtLangCode = 0;\n      var extLangCode;\n      var isScriptCode = 0;\n      var scriptCode;\n      var isCountryCode = 0;\n      var countryCode;\n      var n;\n      if (!lang || lang.length === 0) {\n        result.push('');\n      }\n      else {\n        parts = lang.split(/[-_]/);\n        // normalize ISO-639-1 language codes\n        if (parts.length > 0 &&\n            parts[0].match(/^[A-Za-z]{2,3}$/)) {\n          // language codes have to be lowercased\n          // e.g. JA -> ja, FR -> fr\n          // TODO: normalize 3-letter codes to 2-letter codes\n          parts[0] = parts[0].toLowerCase();\n        }\n        // normalize ISO-639-3 extension language codes\n        if (parts.length >= 2 &&\n            parts[1].match(/^[A-Za-z]{3}$/) &&\n            !parts[1].match(/^[Cc][Hh][SsTt]$/)) { // exclude CHS,CHT\n          // extension language codes have to be lowercased\n          // e.g. YUE -> yue\n          isExtLangCode = 1;\n          extLangCode = parts[1] = parts[1].toLowerCase();\n        }\n        // normalize ISO-15924 script codes\n        if (parts.length >= isExtLangCode + 2 &&\n            (match = parts[isExtLangCode + 1].match(/^([A-Za-z])([A-Za-z]{3})$/))) {\n          // script codes have to be capitalized only at the first character\n          // e.g. HANs -> Hans, lAtN -> Latn\n          isScriptCode = 1;\n          scriptCode = parts[isExtLangCode + 1] = match[1].toUpperCase() + match[2].toLowerCase();\n        }\n        // normalize ISO-3166-1 country/region codes\n        if (parts.length >= isExtLangCode + isScriptCode + 2 &&\n            (match = parts[isExtLangCode + isScriptCode + 1].match(/^[A-Za-z0-9]{2,3}$/))) {\n          // country/region codes have to be capitalized\n          // e.g. cn -> CN, jP -> JP\n          isCountryCode = 1;\n          countryCode = parts[isExtLangCode + isScriptCode + 1] = match[0].toUpperCase();\n        }\n        // extensions have to be in lowercases\n        // e.g. U-cA-Buddhist -> u-ca-buddhist, X-LiNux -> x-linux\n        if (parts.length >= isExtLangCode + isScriptCode + isCountryCode + 2) {\n          for (n = isExtLangCode + isScriptCode + isCountryCode + 1; n < parts.length; n++) {\n            parts[n] = parts[n].toLowerCase();\n          }\n        }\n        // enumerate fallback languages\n        while (parts.length > 0) {\n          // normalize delimiters as -\n          // e.g. ja_JP -> ja-JP\n          result.push(parts.join('-'));\n          if (isScriptCode &&\n              isCountryCode &&\n              parts.length == isExtLangCode + isScriptCode + 2) {\n            // script code can be omitted to default\n            // e.g. en-Latn-GB -> en-GB, zh-Hans-CN -> zh-CN\n            parts.splice(isExtLangCode + isScriptCode, 1);\n            result.push(parts.join('-'));\n            parts.splice(isExtLangCode + isScriptCode, 0, scriptCode);\n          }\n          if (isExtLangCode &&\n              isCountryCode &&\n              parts.length == isExtLangCode + isScriptCode + 2) {\n            // ext lang code can be omitted to default\n            // e.g. zh-yue-Hans-CN -> zh-Hans-CN\n            parts.splice(isExtLangCode, 1);\n            result.push(parts.join('-'));\n            parts.splice(isExtLangCode, 0, extLangCode);\n          }\n          if (isExtLangCode &&\n              isScriptCode &&\n              parts.length == isExtLangCode + isScriptCode + 1) {\n            // ext lang code can be omitted to default\n            // e.g. zh-yue-Hans -> zh-Hans\n            parts.splice(isExtLangCode, 1);\n            result.push(parts.join('-'));\n            parts.splice(isExtLangCode, 0, extLangCode);\n          }\n          if (!isScriptCode &&\n              !isExtLangCode &&\n              isCountryCode &&\n              parts.length == 2) {\n            // default script code can be added in certain cases with country codes\n            // e.g. zh-CN -> zh-Hans-CN, zh-TW -> zh-Hant-TW\n            switch (result[result.length - 1]) {\n            case 'zh-CN':\n            case 'zh-CHS':\n              result.push('zh-Hans');\n              break;\n            case 'zh-TW':\n            case 'zh-SG':\n            case 'zh-HK':\n            case 'zh-CHT':\n              result.push('zh-Hant');\n              break;\n            default:\n              break;\n            }\n          }\n          parts.pop();\n        }\n      }\n      return result;\n    },\n\n    /**\n     * Get the next fallback locale for the target locale.\n     * \n     * Subset implementation of BCP47 (https://tools.ietf.org/html/bcp47).\n     *\n     * ### Examples:\n     *\n     *| Target Locale | Next Fallback |\n     *|:--------------|:--------------|\n     *| ru            | null          |\n     *| en-GB         | en            |\n     *| fr-CA         | fr            |\n     *| zh-Hans-CN    | zh-Hans       |\n     *\n     * @param {string} lang Target locale.\n     * @return {string} Next fallback locale. `null` if there are no fallback languages.\n     */\n    /*\n    _getNextFallbackLanguage: function (lang) {\n      var fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n      fallbackLanguageList.shift();\n      var nextFallbackLanguage = fallbackLanguageList.shift();\n      return nextFallbackLanguage ? nextFallbackLanguage : null;\n    },\n    */\n\n    /**\n     * MutationObserver callback of `lang` attribute for Safari 7\n     *\n     * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n     */\n    _handleLangAttributeChange: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            //console.log('_handleLangAttributeChange lang = ' + this.lang + ' oldValue = ' + mutation.oldValue +\n            //            ' typeof oldValue = ' + typeof mutation.oldValue);\n            if (!(typeof mutation.oldValue === 'object' && !mutation.oldValue) &&\n                mutation.oldValue !== this.lang) {\n              if (this._lang !== mutation.oldValue) {\n                //console.log('assigning this._lang = ' + mutation.oldValue + ' from old value');\n                this._lang = mutation.oldValue;\n              }\n              //console.log('assigning this._lang = ' + this.lang);\n              this._lang = this.lang;\n            }\n            else if (mutation.oldValue != this.lang && this._lang !== this.lang) {\n              //console.log('assigning this._lang = ' + this.lang);\n              this._lang = this.lang;\n            }\n          }\n          break;\n        default:\n          /* istanbul ignore next: mutation.type is always attributes */\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Observer of `this.lang` changes.\n     *\n     * Update `this.text` object if the text message bundle of the new `lang` is locally available.\n     *\n     * Trigger fetching of the text message bundle of the new `lang` if the bundle is not locally available.\n     *\n     * @param {string} lang New value of `lang`.\n     * @param {string} oldLang Old value of `lang`.\n     */\n    _langChanged: function (lang, oldLang) {\n      //console.log(this.id + ':_langChanged lang = ' + lang + ' oldLang = ' + oldLang);\n      var id = (this.is || this.getAttribute('is')) === 'i18n-dom-bind' ? this.id : this.is;\n      lang = lang || ''; // undefined and null are treated as default ''\n      oldLang = oldLang || '';\n      if (lang !== oldLang &&\n          bundles[oldLang] && bundles[oldLang][id]) {\n        this._fetchStatus.lastLang = oldLang;\n      }\n      if (bundles[lang] && bundles[lang][id]) {\n        // bundle available for the new language\n        if (this._fetchStatus && lang !== this._fetchStatus.ajaxLang) {\n          // reset error status\n          this._fetchStatus.error = null;\n        }\n        if (!Polymer.ElementMixin || (Polymer.ElementMixin && this.__data)) {\n          this.notifyPath('text', this._getBundle(this.lang));\n        }\n        this.effectiveLang = lang;\n        this.fire('lang-updated', { \n          lang: this.lang, \n          oldLang: oldLang, \n          lastLang: this._fetchStatus.lastLang \n        });\n      }\n      else {\n        // fetch the missing bundle\n        this._fetchLanguage(lang);\n      }\n    },\n\n    /**\n     * Called on `lang-updated` events and update `this.effectiveLang` with the value of `this.lang`.\n     */\n    _updateEffectiveLang: function (event) {\n      if (Polymer.dom(event).rootTarget === this) {\n        //console.log('_updateEffectiveLang: lang = ' + this.lang);\n        this.effectiveLang = this.lang;\n      }\n    },\n\n    /**\n     * Trigger fetching of the appropriate text message bundle of the target locale.\n     *\n     * ### Two Layers of Fallbacks:\n     *\n     * 1. Missing bundles fall back to those of their fallback locales.\n     * 1. Missing texts in the non-default bundles fall back to those in the default bundle. \n     *\n     * ### Fallback Examples:\n     *\n     *| Locale      | Bundle Status                    |\n     *|:------------|:---------------------------------|\n     *| fr-CA       | existent with sparse texts       |\n     *| fr          | existent with full texts         |\n     *| ja          | existent with some missing texts |\n     *| zh-Hans-CN  | missing                          |\n     *| zh-Hans     | existent with some missing texts |\n     *| zh          | missing                          |\n     *| en          | existent with full texts         |\n     *| ''(default) | existent with full texts         |\n     *\n     *| Target      | Fallback bundle       | Resolved locale |\n     *|:------------|:----------------------|:----------------|\n     *| en          | en                    | en              |\n     *| ja          | ja + ''(default)      | ja              |\n     *| fr-CA       | fr-CA + fr            | fr-CA           |\n     *| zh-Hans-CN  | zh-Hans + ''(default) | zh-Hans         |\n     *\n     * @param {string} lang Target locale.\n     */\n    _fetchLanguage: function (lang) {\n      if (this._fetchStatus) {\n        this._fetchStatus.fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n        this._fetchStatus.fallbackLanguageList.push('');\n        this._fetchStatus.targetLang = this._fetchStatus.fallbackLanguageList.shift();\n        this._fetchBundle(this._fetchStatus.targetLang);\n      }\n    },\n\n    /**\n     * Fetch the text message bundle of the target locale \n     * cooperatively with other instances.\n     *\n     * @param {string} lang Target locale.\n     */\n    _fetchBundle: function (lang) {\n      //console.log('_fetchBundle lang = ' + lang);\n      if (!lang || lang.length === 0) {\n        // handle empty cases\n        if (defaultLang && defaultLang.length > 0) {\n          lang = defaultLang; // app default language\n        }\n        else if (this.templateDefaultLang && this.templateDefaultLang.length > 0) {\n          lang = this.templateDefaultLang; // element default language\n        }\n        else {\n          lang = ''; // fallback default language\n        }\n      }\n\n      // set up an empty bundle if inexistent\n      bundles[lang] = bundles[lang] || {};\n      var id = this.is === 'i18n-dom-bind' || (Polymer.ElementMixin && this.constructor.is === 'i18n-dom-bind') ? this.id : this.is;\n\n      if (bundles[lang][id]) {\n        // bundle is available; no need to fetch\n        if (this._fetchStatus.targetLang === lang) {\n          // reset error status\n          this._fetchStatus.error = null;\n          if (this.lang === lang) {\n            this.notifyPath('text', this._getBundle(this.lang));\n            this.fire('lang-updated', { \n              lang: this.lang, \n              lastLang: this._fetchStatus.lastLang\n            });\n          }\n          else {\n            this.lang = lang; // trigger lang-updated event\n          }\n        }\n        else {\n          var nextFallbackLanguage = this._fetchStatus.fallbackLanguageList.shift();\n          // bundle is available; no need to fetch\n          this._fetchStatus.fetchingInstance = null;\n          if (nextFallbackLanguage) {\n            this._fetchBundle(nextFallbackLanguage);\n          }\n          else {\n            this._constructBundle(this._fetchStatus.targetLang);\n            // reset error status\n            this._fetchStatus.error = null;\n            if (this.lang === this._fetchStatus.targetLang) {\n              this.notifyPath('text', this._getBundle(this.lang));\n              this.fire('lang-updated', { \n                lang: this.lang,\n                lastLang: this._fetchStatus.lastLang\n              });\n            }\n            else {\n              this.lang = this._fetchStatus.targetLang; // trigger lang-updated event\n            }\n          }\n        }\n      }\n      else if (this._fetchStatus.fetchingInstance) {\n        if (this._fetchStatus.fetchingInstance !== this) {\n          // fetching in progress by another instance\n          // TODO: redundant addEventListener multiple times\n          this._forwardLangEventBindThis = this._forwardLangEventBindThis ||\n                                            this._forwardLangEvent.bind(this);\n          this._fetchStatus.fetchingInstance\n              .addEventListener('lang-updated', this._forwardLangEventBindThis);\n        }\n      }\n      else if (bundleFetchingInstances[lang]) {\n        // fetching bundle.lang.json in progress by an instance of another element\n        this._fetchStatus.fetchingInstance = this;\n        this._fetchStatus.ajaxLang = lang;\n        this._handleBundleFetchedBindThis = this._handleBundleFetchedBindThis ||\n                                            this._handleBundleFetched.bind(this);\n        bundleFetchingInstances[lang]\n          .addEventListener('bundle-fetched', this._handleBundleFetchedBindThis);\n        //console.log(this.is + ' addEventListener bundle-fetched');\n      }\n      else {\n        // proceed to fetch\n        this._fetchStatus.fetchingInstance = this;\n        if (!this._fetchStatus.ajax) {\n          // set up ajax client\n          this._fetchStatus.ajax = Polymer.Base.create('iron-ajax');\n          this._fetchStatus.ajax.handleAs = 'json';\n          this._fetchStatus._handleResponseBindFetchingInstance = this._handleResponse.bind(this);\n          this._fetchStatus._handleErrorBindFetchingInstance = this._handleError.bind(this);\n          this._fetchStatus.ajax.addEventListener('response', this._fetchStatus._handleResponseBindFetchingInstance);\n          this._fetchStatus.ajax.addEventListener('error', this._fetchStatus._handleErrorBindFetchingInstance);\n        }\n        else {\n          if (this._fetchStatus._handleResponseBindFetchingInstance) {\n            this._fetchStatus.ajax.removeEventListener('response', this._fetchStatus._handleResponseBindFetchingInstance);\n          }\n          if (this._fetchStatus._handleErrorBindFetchingInstance) {\n            this._fetchStatus.ajax.removeEventListener('error', this._fetchStatus._handleErrorBindFetchingInstance);\n          }\n          this._fetchStatus._handleResponseBindFetchingInstance = this._handleResponse.bind(this);\n          this._fetchStatus._handleErrorBindFetchingInstance = this._handleError.bind(this);\n          this._fetchStatus.ajax.addEventListener('response', this._fetchStatus._handleResponseBindFetchingInstance);\n          this._fetchStatus.ajax.addEventListener('error', this._fetchStatus._handleErrorBindFetchingInstance);\n        }\n        // TODO: app global bundles have to be handled\n        var url;\n        var skipFetching = false;\n\n        if (lang === '') {\n          url = this.resolveUrl(id + '.json');\n        }\n        else {\n          if (bundles[lang] && bundles[lang].bundle) {\n            // missing in the bundle\n            url = this.resolveUrl(localesPath + '/' + id + '.' + lang + '.json');\n            skipFetching = !!this.isI18nController;\n          }\n          else {\n            // fetch the bundle\n            bundleFetchingInstances[lang] = this;\n            url = this.resolveUrl(startUrl + localesPath + '/bundle.' + lang + '.json');\n          }\n        }\n        this._fetchStatus.ajax.url = url;\n        this._fetchStatus.ajaxLang = lang;\n        try {\n          this._fetchStatus.error = null;\n          if (skipFetching) {\n            this._handleError({ detail: { error: 'skip fetching for I18nController' }});\n          }\n          else {\n            this._fetchStatus.ajax.generateRequest();\n          }\n        }\n        catch (e) {\n          // TODO: extract error message from the exception e\n          this._handleError({ detail: { error: 'ajax request failed: ' + e }});\n        }\n      }\n    },\n\n    /**\n     * Handle Ajax success response for a bundle.\n     *\n     * @param {Object} event `iron-ajax` success event.\n     */\n    _handleResponse: function (event) {\n      //console.log('_handleResponse ajaxLang = ' + this._fetchStatus.ajaxLang);\n      if (this._fetchStatus.ajax.url.indexOf('/' + localesPath + '/bundle.') >= 0) {\n        bundles[this._fetchStatus.ajaxLang] = bundles[this._fetchStatus.ajaxLang] || {};\n        this._deepMap(bundles[this._fetchStatus.ajaxLang],\n                      event.detail.response,\n                      function (text) { return text; });\n        bundles[this._fetchStatus.ajaxLang].bundle = true;\n        bundleFetchingInstances[this._fetchStatus.ajaxLang] = null;\n        //console.log('bundle-fetched ' + this.is + ' ' + this._fetchStatus.ajaxLang);\n        this.fire('bundle-fetched', { success: true, lang: this._fetchStatus.ajaxLang });\n        var id = this.is === 'i18n-dom-bind' ? this.id : this.is;\n        if (bundles[this._fetchStatus.ajaxLang][id]) {\n          this._fetchStatus.lastResponse = bundles[this._fetchStatus.ajaxLang][id];\n        }\n        else {\n          // bundle does not contain text for this.is\n          this._fetchStatus.fetchingInstance = null;\n          this._fetchBundle(this._fetchStatus.ajaxLang);\n          return;\n        }\n      }\n      else {\n        this._fetchStatus.lastResponse = event.detail.response;\n      }\n      if (this._fetchStatus.lastResponse) {\n        var nextFallbackLanguage = this._fetchStatus.fallbackLanguageList.shift();\n        // store the raw response\n        this._fetchStatus.rawResponses[this._fetchStatus.ajaxLang] = \n          this._fetchStatus.lastResponse;\n\n        this._fetchStatus.fetchingInstance = null;\n        if (nextFallbackLanguage) {\n          this._fetchBundle(nextFallbackLanguage);        \n        }\n        else {\n          this._fetchBundle('');\n        }\n      }\n      else {\n        event.detail.error = 'empty response for ' + this._fetchStatus.ajax.url;\n        this._handleError(event);\n      }\n    },\n\n    /**\n     * Handle Ajax error response for a bundle.\n     *\n     * @param {Object} event `iron-ajax` error event.\n     */\n    _handleError: function (event) {\n      var nextFallbackLanguage;\n      this._fetchStatus.fetchingInstance = null;\n      if (this._fetchStatus.ajax.url.indexOf('/' + localesPath + '/bundle.') >= 0) {\n        bundles[this._fetchStatus.ajaxLang] = bundles[this._fetchStatus.ajaxLang] || {};\n        bundles[this._fetchStatus.ajaxLang].bundle = true;\n        bundleFetchingInstances[this._fetchStatus.ajaxLang] = null;\n        // falls back to its element-specific bundle\n        this._fetchBundle(this._fetchStatus.ajaxLang);\n        //console.log('bundle-fetched ' + this.is + ' ' + this._fetchStatus.ajaxLang);\n        this.fire('bundle-fetched', { success: false, lang: this._fetchStatus.ajaxLang });\n        return;\n      }\n      nextFallbackLanguage = this._fetchStatus.fallbackLanguageList.shift();\n      if (this._fetchStatus.ajaxLang === this._fetchStatus.targetLang) {\n        if (nextFallbackLanguage) {\n          //console.log(this.is + ': ' + this._fetchStatus.ajaxLang +\n          //            ' falls back to ' + nextFallbackLanguage);\n          this._fetchStatus.targetLang = nextFallbackLanguage;\n          this._fetchBundle(nextFallbackLanguage);\n        }\n        else {\n          this._fetchStatus.error = event.detail.error;\n          //console.log(this._fetchStatus.error);\n          // falls back to default\n          this.lang = '';\n        }\n      }\n      else {\n        // fetching dependent fallback languages\n        if (nextFallbackLanguage) {\n          //console.log(this.is + ': ' + this._fetchStatus.ajaxLang +\n          //            ' is missing and skipped');\n          //console.log(this.is + ': step to the next dependent fallback ' +\n          //            nextFallbackLanguage);\n          this._fetchBundle(nextFallbackLanguage);\n        }\n        else {\n          this._fetchBundle('');\n        }\n      }\n    },\n\n    /**\n     * Forward `lang-updated` event to other instances of the same element.\n     *\n     * @param {Object} event `lang-updated` event object.\n     */\n    _forwardLangEvent: function (event) {\n      //console.log('_forwardLangEvent ' + this.is + ' ' + event.detail.lang);\n      event.target.removeEventListener(event.type, this._forwardLangEventBindThis);\n      if (this.lang === event.detail.lang) {\n        this.notifyPath('text', this._getBundle(this.lang));\n        this.fire(event.type, event.detail);\n      }\n      else {\n        this.lang = event.detail.lang;\n        this.notifyPath('text', this._getBundle(this.lang));\n      }\n    },\n\n    /**\n     * Handle `bundle-fetched` event.\n     *\n     * @param {Object} event `bundle-fetched` event object.\n     */\n    _handleBundleFetched: function (event) {\n      var detail = event.detail;\n      //console.log('_handleBundleFetched ' + this.is + ' ' + detail.lang);\n      event.target.removeEventListener(event.type, this._handleBundleFetchedBindThis);\n      if (this._fetchStatus.ajaxLang === detail.lang) {\n        this._fetchStatus.fetchingInstance = null;\n        this._fetchBundle(this._fetchStatus.ajaxLang);\n      }\n    },\n\n    /**\n     * Handle changes of `observeHtmlLang` property.\n     *\n     * @param {Boolean} value Value of `observeHtmlLang`\n     */\n    _observeHtmlLangChanged: function (value) {\n      if (value) {\n        this._htmlLangObserver = this._htmlLangObserver || \n          new MutationObserver(this._handleHtmlLangChange.bind(this));\n        this._htmlLangObserver.observe(html, { attributes: true });\n      }\n      else {\n        if (this._htmlLangObserver) {\n          this._htmlLangObserver.disconnect();\n        }\n      }\n    },\n\n    /**\n     * MutationObserver callback of `<html lang>` attribute.\n     *\n     * @param {Array} mutations Array of MutationRecord (https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver).\n     */\n    _handleHtmlLangChange: function (mutations) {\n      mutations.forEach(function(mutation) {\n        switch (mutation.type) {\n        case 'attributes':\n          if (mutation.attributeName === 'lang') {\n            this.lang = html.lang;\n          }\n          break;\n        default:\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Construct the text message bundle of the target locale with fallback of missing texts.\n     *\n     * @param {strings} lang Target locale.\n     */\n    _constructBundle: function (lang) {\n      var fallbackLanguageList = this._enumerateFallbackLanguages(lang);\n      var bundle = {};\n      var raw;\n      var baseLang;\n      var id = this.is === 'i18n-dom-bind' ? this.id : this.is;\n      var i;\n      fallbackLanguageList.push('');\n      for (i = 0; i < fallbackLanguageList.length; i++) {\n        if (bundles[fallbackLanguageList[i]] &&\n            bundles[fallbackLanguageList[i]][id]) {\n          break;\n        }\n      }\n      fallbackLanguageList.splice(i + 1, fallbackLanguageList.length);\n      while ((baseLang = fallbackLanguageList.pop()) !== undefined) {\n        if (bundles[baseLang][id]) {\n          bundle = deepcopy(bundles[baseLang][id]);\n        }\n        else {\n          raw = this._fetchStatus.rawResponses[baseLang];\n          if (raw) {\n            this._deepMap(bundle, raw, function (text) { return text; });\n          }\n        }\n      }\n      // store the constructed bundle\n      if (!bundles[lang]) {\n        bundles[lang] = {};\n      }\n      bundles[lang][id] = bundle;\n    },\n\n    /**\n     * Construct a pseudo-bundle for the target locale. (Not used for now)\n     *\n     * @param {string} lang Target locale.\n     */\n    /*\n    _constructPseudoBundle: function (lang) {\n      var bundle = {};\n      var id = this.is === 'i18n-dom-bind' ? this.id : this.is;\n      this._deepMap(bundle, bundles[''][id], function (value) {\n        return typeof value === 'string' ? lang + ' ' + value : value;\n      });\n      bundles[lang] = bundles[lang] || {};\n      bundles[lang][id] = bundle;\n      return bundle;\n    },\n    */\n\n    /**\n     * Recursively map the source object onto the target object with the specified map function.\n     * \n     * The method is used to merge a bundle into its fallback bundle.\n     *\n     * @param {Object} target Target object.\n     * @param {Object} source Source object.\n     * @param {Function} map Mapping function.\n     */\n    _deepMap: function (target, source, map) {\n      var value;\n      for (var prop in source) {\n        value = source[prop];\n        switch (typeof value) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n          if (typeof target === 'object') {\n            target[prop] = map(value, prop);\n          }\n          break;\n        case 'object':\n          if (typeof target === 'object') {\n            if (Array.isArray(value)) {\n              // TODO: cannot handle deep objects properly\n              target[prop] = target[prop] || [];\n              this._deepMap(target[prop], value, map);\n            }\n            else {\n              target[prop] = target[prop] || {};\n              this._deepMap(target[prop], value, map);\n            }\n          }\n          break;\n        default:\n          if (typeof target === 'object') {\n            target[prop] = value;\n          }\n          break;\n        }\n      }\n    },\n\n    /**\n     * Construct the default bundle from the element's template.\n     *\n     * Extract the default bundle from the template if it is embedded as JSON at build time.\n     *\n     * ### Hard-coded UI text example:\n     * ```\n     *   <dom-module id=\"custom-element\">\n     *     <template>\n     *       <span id=\"label\">UI Text Label:</span>\n     *       <input id=\"input-el\"\n     *              value=\"{{keyword}}\"\n     *              placeholder=\"Keyword\">\n     *     </template>\n     *   </dom-module>\n     * ```\n     *\n     * ### Constructed default bundle for the above example:\n     * ```\n     *   {\n     *     \"model\" : {\n     *       \"input-el\": {\n     *         \"placeholder\": \"Keyword\"\n     *       }\n     *     },\n     *     \"label\": \"UI Text Label:\"\n     *   }\n     * ```\n     *\n     * ### Processed template with bound annotations for the above example:\n     * ```\n     *   <dom-module id=\"custom-element\">\n     *     <template localizable-text=\"embedded\">\n     *       <span id=\"label\">{{text.label}}</span>\n     *       <input id=\"input-el\"\n     *         value=\"{{keyword}}\"\n     *         placeholder=\"{{model.input-el.placeholder}}\">\n     *     </template>\n     *   </dom-module>\n     * ```\n     *\n     * ### Embedded JSON bundle format for the above example:\n     * ```\n     *   <dom-module id=\"custom-element\">\n     *     <template localizable-text=\"embedded\">\n     *       <span id=\"label\">{{text.label}}</span>\n     *       <input id=\"input-el\"\n     *         value=\"{{keyword}}\"\n     *         placeholder=\"{{model.input-el.placeholder}}\">\n     *       <template id=\"localizable-text\">\n     *         <json-data>{\n     *           \"model\" : {\n     *             \"input-el\": {\n     *               \"placeholder\": \"Keyword\"\n     *             }\n     *           },\n     *           \"label\": \"UI Text Label:\"\n     *         }</json-data>\n     *       </template>\n     *     </template>\n     *   </dom-module>\n     * ```\n     */\n    _constructDefaultBundle: function (_template, _id) {\n      var template;\n      var id = _id || this.is;\n      if (this.is === 'i18n-dom-bind') {\n        template = _template || this;\n        id = this.id;\n        /* istanbul ignore if */\n        if (template.content && template.content.childNodes.length === 0) {\n          // Find the real template in Internet Explorer 11 when i18n-dom-bind is concealed in a parent template\n          // This does not happen on Polymer 1.3.1 or later.  So ignore this 'if' statement in code coverage.\n          template = Array.prototype.map.call(document.querySelectorAll('template'), function (parentTemplate) {\n            return parentTemplate.content.querySelector('template#' + id + '[is=\"i18n-dom-bind\"]');\n          }).reduce(function (prev, current) {\n            return prev || current;\n          });\n          // Patch this.content with the real one\n          if (template) {\n            this.content = template.content;\n          }\n        }\n      }\n      else {\n        template = _template || Polymer.DomModule.import(id, 'template');\n      }\n      if (template) {\n        this.templateDefaultLang = template.hasAttribute('lang') ? template.lang : 'en';\n      }\n      else {\n        this.templateDefaultLang = 'en';\n      }\n      var bundle = { model: {} };\n      var path = [];\n      var templateDefaultLang = this.templateDefaultLang;\n      var localizableText, jsonData;\n\n      if (template) {\n        // register localizable attributes of the element itself\n        if (attributesRepository.registerLocalizableAttributes) {\n          attributesRepository.registerLocalizableAttributes(id, template);\n        }\n        else {\n          BehaviorsStore._I18nAttrRepo._created();\n          BehaviorsStore._I18nAttrRepo.registerLocalizableAttributes(id, template);\n        }\n        if (template.getAttribute('localizable-text') === 'embedded') {\n          // pick up embedded JSON from the template\n          localizableText = template.content.querySelector('#localizable-text');\n          if (localizableText) {\n            jsonData = localizableText.content.querySelector('json-data');\n            if (jsonData) {\n              bundle = JSON.parse(jsonData.textContent);\n            }\n            else {\n              console.error('<json-data> not found in <template id=\\\"localizable-text\\\">');\n            }\n          }\n          else {\n            console.error('<template id=\\\"localizable-text\\\"> not found');\n          }\n        }\n        else {\n          if (extraWhiteSpaceNode) {\n            template.setAttribute('strip-whitespace', '');\n          }\n          // traverse template to generate bundle\n          this._traverseTemplateTree(template.content, path, bundle, 0);\n        }\n      }\n\n      bundles[''][id] = bundle;\n      bundles[templateDefaultLang] = bundles[templateDefaultLang] || {};\n      bundles[templateDefaultLang][id] = bundle;\n      //console.log('text = ');\n      //console.log(JSON.stringify(bundle, null, 2));\n\n      return true;\n    },\n\n    /**\n     * Traverse localizable attributes of the target element node and \n     * add them to the target bundle under the `model` object.\n     * \n     * The `<i18n-attr-repo>` object is used \n     * to judge if the target attributes are localizable.\n     *\n     * @param {Object} node Target element node.\n     * @param {string} path Path to the target node.\n     * @param {Object} bundle Default bundle.\n     */\n    _traverseAttributes: function (node, path, bundle) {\n      var name = node.nodeName.toLowerCase();\n      var id = node.getAttribute ?\n                 (node.getAttribute('text-id') ||\n                  node.getAttribute('id')) : null;\n      var text;\n      var messageId;\n      var attrId;\n      var isLocalizable;\n      var dummy;\n      // pick up element attributes\n      Array.prototype.forEach.call(node.attributes, function (attribute) {\n        text = attribute.value;\n        switch (attribute.name) {\n        case 'id':\n        case 'text-id':\n        case 'is':\n        case 'lang':\n        case 'class':\n        // verification required before removing these attributes\n        case 'href':\n        case 'src':\n        case 'style':\n        case 'url':\n        case 'selected':\n          break;\n        default:\n          if (!(isLocalizable = BehaviorsStore._I18nAttrRepo.isLocalizableAttribute(node, attribute.name))) {\n            break;\n          }\n          if (text.length === 0) {\n            // skip empty value attribute\n          }\n          else if (text.match(/^{{[^{}]*}}$/) || text.match(/^\\[\\[[^\\[\\]]*\\]\\]$/)) {\n            // skip annotation attribute\n          }\n          else if (text.replace(/\\n/g, ' ').match(/^{.*}|\\[.*\\]$/g) &&\n                  !text.match(/^{{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\]/) &&\n                  !text.match(/{{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\]$/)) {\n            // generate message id\n            messageId = this._generateMessageId(path, id);\n            try {\n              //console.log(messageId + ' parsing attribute ' + attribute.name + ' = ' + text);\n              var value = JSON.parse(text.replace(/\\n/g, ' '));\n              //console.log('parsed JSON object = ');\n              //console.log(value);\n              switch (typeof value) {\n              case 'string':\n              case 'number':\n              case 'object':\n                // put into model\n                attrId = ['model', messageId, attribute.name].join('.');\n                debuglog(attrId + ' = ' + text);\n                this._setBundleValue(bundle, attrId, value);\n                attribute.value = '{{' + attrId + '}}';\n                break;\n              default: // skip other types\n                break;\n              }\n            }\n            catch (e) {\n              // invalid JSON\n              console.warn(e, 'Invalid JSON at <' + name + ' ' + attribute.name + '> with value = ' + text);\n            }\n          }\n          else if (text.match(/{{[^{}]{1,}}}|\\[\\[[^\\[\\]]{1,}\\]\\]/)) {\n            // compound binding attribute\n            // Parameterized:\n            //   e.g., attr=\"Compound binding attribute has [[bound.value]] {{parameters}} in the value string\"\n            //   replaced as \"{{i18nFormat(attrId.0,bound.value,parameters)}}\"\n            //   extracted as [ \"Compound binding attribute has {1} {2} in the value string\", \"[[bound.value]]\", \"{{parameters}}\" ]\n            // Concatenated: (Parameters with functions cannot be reordered in translation)\n            //   e.g., attr2=\"Compound binding attribute has [[f1(bound.value)]] {{f2(parameters)}} in the value string\"\n            //   replaced as \"{{attrId.0}}[[f1(bound.value)]]{{attrId.2}}{{f2(parameters)}}{{attrId.4}}\"\n            //   extracted as [ \"Compound binding attribute has \", \"[[f1(bound.value)]]\", \" \", \"{{f2(parameters)}}\", \" in the value string\" ]\n            var parsed = text.match(/([^{}\\[\\]]{1,})|({{[^{}]{1,}}})|(\\[\\[[^\\[\\]]{1,}\\]\\])/g);\n            var parameterized;\n            var processed;\n            var n;\n            messageId = this._generateMessageId(path, id);\n            attrId = ['model', messageId, attribute.name.replace(/\\$$/, '')].join('.');\n            if (text.match(/\\)}}|\\)\\]\\]/)) { // check for function parameter\n              // Concatenate\n              debuglog(attrId + ' = ' + JSON.stringify(parsed));\n              this._setBundleValue(bundle, attrId, parsed);\n              processed = '';\n              for (n = 0; n < parsed.length; n++) {\n                if (parsed[n].match(/^{{[^{}]{1,}}}|\\[\\[[^\\[\\]]{1,}\\]\\]$/)) {\n                  processed += parsed[n];\n                }\n                else {\n                  processed += '{{' + attrId + '.' + n + '}}';\n                }\n              }\n              if (isLocalizable === '$' && !attribute.name.match(/\\$$/)) {\n                dummy = document.createElement('span');\n                dummy.innerHTML = '<span ' + attribute.name + '$=\"' + processed + '\"></span>';\n                node.setAttributeNode(dummy.childNodes[0].attributes[0].cloneNode());\n              }\n              else {\n                attribute.value = processed;\n              }\n            }\n            else {\n              // Parameterize\n              parameterized = [ '' ];\n              while (parsed.length) {\n                if (parsed[0].match(/^{{[^{}]{1,}}}|\\[\\[[^\\[\\]]{1,}\\]\\]$/)) {\n                  parameterized.push(parsed[0]);\n                  parameterized[0] += '{' + (parameterized.length - 1) + '}';\n                }\n                else {\n                  parameterized[0] += parsed[0];\n                }\n                parsed.shift();\n              }\n              debuglog(attrId + ' = ' + JSON.stringify(parameterized));\n              this._setBundleValue(bundle, attrId, parameterized);\n              processed = '{{i18nFormat(' + attrId + '.0';\n              for (n = 1; n < parameterized.length; n++) {\n                processed += ',' + parameterized[n].replace(/^[{\\[][{\\[](.*)[}\\]][}\\]]$/, '$1');\n              }\n              processed += ')}}';\n              if (isLocalizable === '$' && !attribute.name.match(/\\$$/)) {\n                dummy = document.createElement('span');\n                dummy.innerHTML = '<span ' + attribute.name + '$=\"' + processed + '\"></span>';\n                node.setAttributeNode(dummy.childNodes[0].attributes[0].cloneNode());\n              }\n              else {\n                attribute.value = processed;\n              }\n            }\n          }\n          else {\n            // string attribute\n            messageId = this._generateMessageId(path, id);\n            attrId = ['model', messageId, attribute.name].join('.');\n            debuglog(attrId + ' = ' + text);\n            this._setBundleValue(bundle, attrId, text);\n            if (isLocalizable === '$' && !attribute.name.match(/\\$$/)) {\n              dummy = document.createElement('span');\n              dummy.innerHTML = '<span ' + attribute.name + '$=' + '\"{{' + attrId + '}}\"' + '></span>';\n              node.setAttributeNode(dummy.childNodes[0].attributes[0].cloneNode());\n            }\n            else {\n              attribute.value = '{{' + attrId + '}}';\n            }\n          }\n          break;\n        }\n      }, this);\n    },\n\n    /**\n     * Recursively traverse text contents of the target element node\n     * and add them to the target bundle object.\n     *\n     * Traversed text contents are replaced with annotations \n     * for the corresponding text in the bundle.\n     *\n     * - - -\n     *\n     * There are some special treatments in the following cases.\n     *\n     * ### Sentence with parameterized child parameter-like elements:\n     *\n     * As the order of the parameters can change in different languages,\n     * `<i18n-format>` element is used to make the sentence localizable.\n     *\n     * ### Before processing\n     *\n     * ```\n     *   <p id=\"p\"><code>i18n-format</code> is \n     *     used for  \n     *     <a href=\"https://www.google.com\">parameterized</a> \n     *     sentences.</p>\n     * ```\n     *\n     * ### After processing\n     *\n     * ```\n     *   <p id=\"p\">\n     *     <i18n-format lang=\"{{effectiveLang}}\">\n     *       <span>{{text.p.0}}</span>\n     *       <code>{{text.p.1}}</code>\n     *       <a href=\"https://www.google.com\">{{text.p.2}}</a>\n     *     </i18n-format>\n     *   </p>\n     * ```\n     *\n     * ### Constructed bundle data: Texts are stored in an Array of strings.\n     *\n     * ```\n     *   {\n     *     \"p\" : [\n     *       \"{1} is\\n used for\\n {2}\\n sentences.\",\n     *       \"i18n-format\",\n     *       \"parameterized\"\n     *     ]\n     *   }\n     * ```\n     *\n     * - - -\n     *\n     * ### `<i18n-format>` element with compound templates:\n     *\n     * Texts with compound templates for `<i18n-format>` element are\n     * processed as below.\n     *\n     * `lang=\"{{effectiveLang}}\"` attribute is added to `<i18n-format>` node\n     * as well as `<i18n-number>` node.\n     *\n     * ### Before processing\n     *\n     * ```\n     * <i18n-format id=\"sentence\">\n     *   <json-data>{\n     *     \"0\": \"You ({3}) gave no gifts.\",\n     *     \"1\": {\n     *       \"male\": \"You ({3}) gave him ({4}) {5}.\",\n     *       \"female\": \"You ({3}) gave her ({4}) {5}.\",\n     *       \"other\": \"You ({3}) gave them ({4}) {5}.\"\n     *     },\n     *     \"one\": {\n     *       \"male\": \n     *         \"You ({3}) gave him ({4}) and one other {5}.\",\n     *       \"female\": \n     *         \"You ({3}) gave her ({4}) and one other {5}.\",\n     *       \"other\": \n     *         \"You ({3}) gave them ({4}) and one other {5}.\"\n     *     },\n     *     \"other\": \n     *       \"You ({3}) gave them ({4}) and {1} others gifts.\"\n     *   }</json-data>\n     *   <i18n-number \n     *     offset=\"1\"\n     *     >{{recipients.length}}</i18n-number>\n     *   <span>{{recipients.0.gender}}</span>\n     *   <span>{{sender.name}}</span>\n     *   <span>{{recipients.0.name}}</span>\n     *   <span>a gift</span>\n     * </i18n-format>\n     * ```\n     *\n     * ### After processing\n     *\n     * ```\n     * <i18n-format id=\"sentence\" \n     *              lang=\"{{effectiveLang}}\">\n     *   <json-data>{{serialize(text.sentence.0)}}</json-data>\n     *   <i18n-number \n     *     offset=\"1\"\n     *     lang=\"{{effectiveLang}}\"\n     *     >{{recipients.length}}</i18n-number>\n     *   <span>{{recipients.0.gender}}</span>\n     *   <span>{{sender.name}}</span>\n     *   <span>{{recipients.0.name}}</span>\n     *   <span>{{text.sentence.5}}</span>\n     * </i18n-format>\n     * ```\n     *\n     * ### Constructed bundle data:\n     *\n     * ```\n     * {\n     *   \"sentence\" : [\n     *     {\n     *       \"0\": \"You ({3}) gave no gifts.\",\n     *       \"1\": {\n     *         \"male\": \"You ({3}) gave him ({4}) {5}.\",\n     *         \"female\": \"You ({3}) gave her ({4}) {5}.\",\n     *         \"other\": \"You ({3}) gave them ({4}) {5}.\"\n     *       },\n     *       \"one\": {\n     *         \"male\": \n     *         \"You ({3}) gave him ({4}) and one other {5}.\",\n     *         \"female\": \n     *         \"You ({3}) gave her ({4}) and one other {5}.\",\n     *         \"other\": \n     *         \"You ({3}) gave them ({4}) and one other {5}.\"\n     *       },\n     *       \"other\": \n     *       \"You ({3}) gave them ({4}) and {1} others gifts.\"\n     *     },\n     *     \"{{recipients.length - 1}}\",\n     *     \"{{recipients.0.gender}}\",\n     *     \"{{sender.name}}\",\n     *     \"{{recipients.0.name}}\",\n     *     \"a gift\"\n     *   ]\n     * }\n     * ```\n     *\n     * @param {Object} node Target element node.\n     * @param {string} path Path to the target node.\n     * @param {Object} bundle Default bundle.\n     * @param {Number} index Index in the siblings of the target node excluding whitespace nodes.\n     */\n    _traverseTemplateTree: function (node, path, bundle, index) {\n      var i;\n      var whiteSpaceElements = 0;\n      var isWhiteSpace = false;\n      var isCompoundAnnotatedNode = false;\n      var text;\n      var span;\n      var name = node.nodeName.toLowerCase();\n      var id = node.getAttribute ? \n                 (node.getAttribute('text-id') || \n                  node.getAttribute('id')) : null;\n      var messageId;\n      var n;\n      var templateText;\n      var templateTextParams;\n      path.push(id ? '#' + id : name + (index > 0 ? '_' + index : ''));\n      //console.log(path.join(':'));\n      switch (node.nodeType) {\n      case node.ELEMENT_NODE:\n        switch (name) {\n        case 'style':\n        case 'script':\n        case 'meta':\n          // skip\n          break;\n        case 'i18n-format':\n          // pick up element attributes\n          this._traverseAttributes(node, path, bundle);\n          // generate message id\n          messageId = this._generateMessageId(path, id);\n          if (!node.hasAttribute('lang')) {\n            node.setAttribute('lang', '{{effectiveLang}}');\n          }\n          text = Array.prototype.filter.call(node.childNodes, function (child) {\n            return child.nodeType === child.ELEMENT_NODE;\n          }).map(function (param, n) {\n            var value = param.textContent;\n            var parsedValue = value.match(/^({{)(.*)(}})$/) || \n                              value.match(/^(\\[\\[)(.*)(\\]\\])$/);\n            if (n === 0) {\n              // template element\n              if (param.tagName.toLowerCase() === 'json-data') {\n                if (parsedValue) {\n                  var parsedValue2 = value.match(/^({{)(serialize\\(.*\\))(}})$/) || \n                                     value.match(/^(\\[\\[)(serialize\\(.*\\))(\\]\\])$/);\n                  if (!parsedValue2) {\n                    // convert to {{serialize(id)}}\n                    parsedValue.shift();\n                    parsedValue.splice(1, 0, 'serialize(');\n                    parsedValue.splice(3, 0, ')');\n                    param.textContent = parsedValue.join('');\n                  }\n                }\n                else {\n                  value = JSON.parse(value);\n                  param.textContent = '{{serialize(text.' + messageId + '.' + n + ')}}';\n                }\n              }\n              else {\n                if (!parsedValue) {\n                  param.textContent = '{{text.' + messageId + '.' + n + '}}';\n                }\n              }\n            }\n            else {\n              // param element\n              // TODO: handle localization of param nodes and attributes\n              if (!param.hasAttribute(paramAttribute)) {\n                param.setAttribute(paramAttribute, n);\n              }\n              if (param.tagName.toLowerCase() === 'i18n-number') {\n                if (!param.hasAttribute('lang')) {\n                  param.setAttribute('lang', '{{effectiveLang}}');\n                }\n                var offset = param.getAttribute('offset');\n                if (offset) {\n                  offset = ' - ' + offset;\n                }\n                else {\n                  offset = '';\n                }\n                if (parsedValue) {\n                  // convert to {{path - offset}}\n                  parsedValue.shift();\n                  parsedValue.splice(2, 0, offset);\n                  value = parsedValue.join('');\n                }\n                else {\n                  param.textContent = '{{text.' + messageId + '.' + n + '}}';\n                }\n              }\n              else {\n                if (!parsedValue) {\n                  param.textContent = '{{text.' + messageId + '.' + n + '}}';\n                }\n              }\n            }\n            return value;\n          }, this);\n          debuglog(messageId + ' = ' + text);\n          this._setBundleValue(bundle, messageId, text);\n          break;\n        case 'template':\n          // traverse into its content\n          //console.log(path.join(':') + ':' + node.content.nodeName + ':' + 0);\n          if (extraWhiteSpaceNode) {\n            //if (node.hasAttribute('is') && node.getAttribute('is').match(/^(i18n-)?dom-/)) {\n              node.setAttribute('strip-whitespace', '');\n            //}\n          }\n          this._traverseTemplateTree(node.content, path, bundle, 0);\n          break;\n        default:\n          // element node\n          if (name === 'i18n-number' ||\n              name === 'i18n-datetime') {\n            if (!node.hasAttribute('lang')) {\n              node.setAttribute('lang', '{{effectiveLang}}');\n            }\n          }\n          // pick up element attributes\n          this._traverseAttributes(node, path, bundle);\n          // check annonated node\n          isCompoundAnnotatedNode = false;\n          if (node.childElementCount === 0) {\n            if (node.textContent) {\n              isCompoundAnnotatedNode = this._isCompoundAnnotatedText(node.textContent);\n            }\n          }\n          if (node.childElementCount === 0 && !isCompoundAnnotatedNode) {\n            if (node.textContent) { // use textContent for Firefox compatibility\n              text = node.textContent;\n              if (text.length === 0 || text.match(/^\\s*$/g)) {\n                // skip empty or whitespace node\n              }\n              else if (text.trim().match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n                // skip annotation node\n                // TODO: compound bindings support\n              }\n              else {\n                // a text message found\n                // generate message id\n                messageId = this._generateMessageId(path, id);\n                // store the text message\n                text = text.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n                if (name === 'json-data') {\n                  this._setBundleValue(bundle, messageId, JSON.parse(text));\n                }\n                else {\n                  this._setBundleValue(bundle, messageId, text);\n                }\n                // replace textContent with annotation\n                node.textContent = '{{text.' + messageId + '}}';\n                if (!id) {\n                  //node.id = messageId;\n                  //console.warn('add missing node id as ' + messageId + ' for ' + text);\n                }\n                debuglog(messageId + ' = ' + text);\n              }\n            }\n            else {\n              // skip\n            }\n          } \n          else {\n            // has children or compound annotation\n            // check if i18n-format is applicable\n            var childStatus = Array.prototype.map.call(\n              node.childNodes, function (child) {\n                var result;\n                if (child.nodeType === child.ELEMENT_NODE &&\n                    child.tagName === 'TEMPLATE') {\n                  var templateNonCommentChildNodes =\n                    Array.prototype.filter.call(child.content.childNodes, function (templateChild) {\n                      switch (templateChild.nodeType) {\n                      case templateChild.COMMENT_NODE:\n                        return false;\n                      case templateChild.TEXT_NODE:\n                        return !templateChild.textContent.match(/^\\s*$/g);\n                      default:\n                      case templateChild.ELEMENT_NODE:\n                        return true;\n                      }\n                    });\n                  var firstChild = templateNonCommentChildNodes.shift();\n                  // Examples:\n                  // hasText: <template>text</template>\n                  // hasCompoundAnnotatedText: <template>{{item.name}} text</template>\n                  // hasTextChild: <template><b>text</b></template> or <template><br></template>\n                  // hasCompoundAnnotatedChildNode: <template><b>{{item.name}} text</b></template>\n                  // hasGrandChildren: <template><span><b>text</b></span></template> or \n                  //                   <template><b>A</b><i>B</i></template> or\n                  //                   hasCompoundAnnotatedText\n                  result = {\n                    hasText: templateNonCommentChildNodes.length === 0 &&\n                             firstChild &&\n                             firstChild.nodeType === firstChild.TEXT_NODE &&\n                             firstChild.textContent.length > 0 &&\n                             !firstChild.textContent.match(/^\\s*$/g),\n                    hasCompoundAnnotatedText: firstChild &&\n                                              firstChild.nodeType === firstChild.TEXT_NODE &&\n                                              this._isCompoundAnnotatedText(firstChild.textContent),\n                    hasTextChild: templateNonCommentChildNodes.length === 0 &&\n                                  firstChild &&\n                                  firstChild.nodeType === child.ELEMENT_NODE &&\n                                  firstChild.childElementCount === 0, // including <br>\n                    hasCompoundAnnotatedChildNode: firstChild &&\n                                                   firstChild.nodeType === firstChild.ELEMENT_NODE &&\n                                                   firstChild.childElementCount === 0 &&\n                                                   this._isCompoundAnnotatedText(firstChild.textContent),\n                    hasGrandChildren: templateNonCommentChildNodes.length > 0 ||\n                                      (firstChild &&\n                                       firstChild.nodeType === firstChild.ELEMENT_NODE &&\n                                        Array.prototype.map.call(\n                                          firstChild.childNodes,\n                                          function (grandChild) {\n                                            return grandChild.nodeType !== grandChild.TEXT_NODE;\n                                          }\n                                        ).reduce(function (prev, current) {\n                                          return prev || current;\n                                        }, false)) ||\n                                      (firstChild &&\n                                       firstChild.nodeType === firstChild.TEXT_NODE &&\n                                       this._isCompoundAnnotatedText(firstChild.textContent))\n                  };\n                }\n                else {\n                  result = {\n                    hasText: child.nodeType === child.TEXT_NODE &&\n                             child.textContent.length > 0 &&\n                             !child.textContent.match(/^\\s*$/g),\n                    hasCompoundAnnotatedText: child.nodeType === child.TEXT_NODE &&\n                                              this._isCompoundAnnotatedText(child.textContent),\n                    hasTextChild: child.nodeType === child.ELEMENT_NODE &&\n                                  child.childElementCount === 0, // including <br>\n                    hasCompoundAnnotatedChildNode: child.nodeType === child.ELEMENT_NODE &&\n                                                   child.childElementCount === 0 &&\n                                                   this._isCompoundAnnotatedText(child.textContent),\n                    hasGrandChildren: child.nodeType === child.ELEMENT_NODE &&\n                                      Array.prototype.map.call(\n                                        child.childNodes,\n                                        function (grandChild) {\n                                          return grandChild.nodeType !== grandChild.TEXT_NODE;\n                                        }\n                                      ).reduce(function (prev, current) {\n                                        return prev || current;\n                                      }, false)\n                  };\n                }\n                return result;\n              }.bind(this)).reduce(function (prev, current) { \n                return {\n                  hasText: prev.hasText || current.hasText,\n                  hasCompoundAnnotatedText: prev.hasCompoundAnnotatedText || current.hasCompoundAnnotatedText,\n                  hasTextChild: prev.hasTextChild || current.hasTextChild,\n                  hasCompoundAnnotatedChildNode: prev.hasCompoundAnnotatedChildNode || current.hasCompoundAnnotatedChildNode,\n                  hasGrandChildren: prev.hasGrandChildren || current.hasGrandChildren\n                };\n              }, { \n                hasText: false, \n                hasCompoundAnnotatedText: false,\n                hasTextChild: false,\n                hasCompoundAnnotatedChildNode: false,\n                hasGrandChildren: false\n              });\n            if ((childStatus.hasText || node.hasAttribute('text-id')) &&\n                (childStatus.hasTextChild || childStatus.hasCompoundAnnotatedText) && \n                !childStatus.hasGrandChildren &&\n                !childStatus.hasCompoundAnnotatedChildNode) {\n              // apply i18n-format\n              /*\n                    <i18n-format>\n                      <span>{{text.simpleChartDesc.0}}</span>\n                      <code param=\"1\">{{text.simpleChartDesc.1}}</code>\n                      <a param=\"2\" href=\"link\">{{text.simpleChartDesc.2}}</a>\n                      <a param=\"3\" href=\"link2\">{{text.simpleChartDesc.3}}</a>\n                    </i18n-format>\n              */\n              n = 0;\n              messageId = this._generateMessageId(path, id);\n              templateTextParams = Array.prototype.map.call(\n                node.childNodes, function (child) {\n                  var firstChild;\n                  if (child.nodeType === child.TEXT_NODE &&\n                      this._hasAnnotatedText(child.textContent)) {\n                    return this._compoundAnnotationToSpan(child)\n                      .map(function (_child) {\n                        return {\n                          node: _child,\n                          templateNode: null,\n                          type: _child.nodeType,\n                          text: _child.nodeType === _child.TEXT_NODE ? \n                                  _child.textContent : null,\n                          childTextNode: _child.nodeType === _child.ELEMENT_NODE &&\n                                         _child.childNodes.length > 0\n                        };\n                      });\n                  }\n                  else if (child.nodeType === child.ELEMENT_NODE &&\n                      child.tagName === 'TEMPLATE') {\n                    firstChild =\n                      Array.prototype.filter.call(child.content.childNodes, function (templateChild) {\n                        switch (templateChild.nodeType) {\n                        case templateChild.COMMENT_NODE:\n                          return false;\n                        case templateChild.TEXT_NODE:\n                          return !templateChild.textContent.match(/^\\s*$/g);\n                        default:\n                        case templateChild.ELEMENT_NODE:\n                          return true;\n                        }\n                      }).shift();\n                    if (!firstChild) {\n                      firstChild =\n                        Array.prototype.filter.call(child.content.childNodes, function (templateChild) {\n                          switch (templateChild.nodeType) {\n                          case templateChild.COMMENT_NODE:\n                            return false;\n                          default:\n                            return true;\n                          }\n                        }).shift();\n                    }\n                    if (firstChild) {\n                      return [{\n                        node: firstChild,\n                        templateNode: child,\n                        type: firstChild.nodeType,\n                        text: null,\n                        childTextNode: true\n                      }];\n                    }\n                    else {\n                      return [];\n                    }\n                  }\n                  else {\n                    return [{\n                      node: child,\n                      templateNode: null,\n                      type: child.nodeType,\n                      text: child.nodeType === child.TEXT_NODE ? \n                              child.textContent : null,\n                      childTextNode: child.nodeType === child.ELEMENT_NODE &&\n                                     child.childNodes.length > 0\n                    }];\n                  }\n                }.bind(this)).reduce(function (prev, currentList) {\n                  var current;\n                  var textContent;\n                  for (var i = 0; i < currentList.length; i++) {\n                    current = currentList[i];\n                    if (current.text) {\n                      prev.text[0] += current.text;\n                    }\n                    if (current.type === current.node.ELEMENT_NODE) {\n                      n++;\n                      prev.text[0] += '{' + n + '}';\n                      path.push(n);\n                      this._traverseAttributes(current.node, path, bundle);\n                      path.pop();\n                      if (current.childTextNode) {\n                        textContent = current.node.textContent;\n                        if (textContent.length === 0) {\n                          // tag without textContent\n                          prev.text.push('<' + current.node.nodeName.toLowerCase() + '>');\n                          current.node.textContent = '';\n                        }\n                        else if (textContent.match(/^\\s*$/g)) {\n                          // tag with whitespace textContent\n                          prev.text.push('<' + current.node.nodeName.toLowerCase() + '>');\n                          current.node.textContent = ' ';\n                        }\n                        else if (textContent.match(/^[\\s]*({{.*}}|\\[\\[.*\\]\\])[\\s]*$/)) {\n                          // tag with annotation\n                          prev.text.push(textContent);\n                          // textContent is untouched\n                        }\n                        else {\n                          prev.text.push(current.node.textContent.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' '));\n                          current.node.textContent = '{{text.' + messageId + '.' + n + '}}';\n                        }\n                      }\n                      else {\n                        prev.text.push('<' + current.node.nodeName.toLowerCase() + '>');\n                      }\n                      current.node.setAttribute(paramAttribute, n.toString());\n                      prev.params.push(current.templateNode || current.node);\n                    }\n                    else if (current.type === current.node.TEXT_NODE &&\n                             current.childTextNode) {\n                      // in template node\n                      n++;\n                      prev.text[0] += '{' + n + '}';\n                      textContent = current.node.textContent;\n                      if (textContent.length === 0) {\n                        // template without textContent\n                        prev.text.push('<template>');\n                        current.node.textContent = '';\n                      }\n                      else if (textContent.match(/^\\s*$/g)) {\n                        // template with whitespace textContent\n                        prev.text.push('<template>');\n                        current.node.textContent = ' ';\n                      }\n                      else if (textContent.match(/^[\\s]*({{.*}}|\\[\\[.*\\]\\])[\\s]*$/)) {\n                        // tag with annotation\n                        prev.text.push(textContent);\n                        // textContent is untouched\n                      }\n                      else {\n                        prev.text.push(textContent.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' '));\n                        current.node.textContent = '{{text.' + messageId + '.' + n + '}}';\n                      }\n                      span = document.createElement('span');\n                      span.setAttribute(paramAttribute, n.toString());\n                      current.templateNode.content.removeChild(current.node);\n                      span.appendChild(current.node);\n                      current.templateNode.content.appendChild(span);\n                      prev.params.push(current.templateNode);\n                    }\n                  }\n                  return prev;\n                }.bind(this), { text: [ '' ], params: [ '{{text.' + messageId + '.0}}' ] });\n              // clear original childNodes before implicit removals by appendChild to i18n-format for ShadyDOM compatibility\n              if (Polymer.ElementMixin) {\n                // Avoid ShadyDOM issue for Polymer 2.x (Implicit removal by appendChild to another element introduces inconsistencies)\n                node.innerHTML = '';\n              }\n              templateText = document.createElement('i18n-format');\n              templateText.setAttribute('lang', '{{effectiveLang}}');\n              if (Polymer.ElementMixin) {\n                // Avoid ShadyDOM issue for Polymer 2.x (Implicit removal by appendChild to another element introduces inconsistencies)\n                // insert i18n-format\n                Polymer.dom(node).appendChild(templateText);\n              }\n              span = document.createElement('span');\n              // span.innerText does not set an effective value in Firefox\n              span.textContent = templateTextParams.params.shift();\n              templateText.appendChild(span);\n              Array.prototype.forEach.call(templateTextParams.params,\n                function (param) {\n                  templateText.appendChild(param);\n                }\n              );\n              if (!Polymer.ElementMixin) {\n                // Avoid ShadyDOM issue for Polymer 1.x (Clearance of innerHTML unexpectedly removes textContent of child nodes)\n                // insert i18n-format\n                node.innerHTML = '';\n                Polymer.dom(node).appendChild(templateText);\n              }\n              // store the text message\n              templateTextParams.text[0] = templateTextParams.text[0].replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n              this._setBundleValue(bundle, messageId, templateTextParams.text);\n              if (!id) {\n                //node.id = messageId;\n                //console.warn('add missing node id as ' + messageId + ' for ' + templateTextParams.text[0]);\n              }\n              debuglog(messageId + ' = ' + templateTextParams.text);\n            }\n            else {\n              // traverse childNodes\n              for (i = 0; i < node.childNodes.length; i++) {\n                //console.log(path.join(':') + ':' + node.childNodes[i].nodeName + ':' + (i - whiteSpaceElements) + ' i = ' + i + ' whiteSpaceElements = ' + whiteSpaceElements);\n                if (this._traverseTemplateTree(node.childNodes[i], path, bundle, i - whiteSpaceElements)) {\n                  whiteSpaceElements++;\n                }\n              }\n            }\n          }\n          break;\n        }\n        break;\n      case node.TEXT_NODE:\n        // text node\n        text = node.textContent;\n        if (text.length === 0 || text.match(/^\\s*$/g)) {\n          // skip empty or whitespace node\n          isWhiteSpace = true;\n        }\n        else if (text.trim().match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n          // skip annotation node\n        }\n        else {\n          var parent = node.parentNode;\n\n          if (this._isCompoundAnnotatedText(text)) {\n            // apply i18n-format\n            n = 0;\n            messageId = this._generateMessageId(path, id);\n            templateTextParams = Array.prototype.map.call(\n              [ node ], function (child) {\n                return this._compoundAnnotationToSpan(child)\n                  .map(function (_child) {\n                    return {\n                      node: _child,\n                      type: _child.nodeType,\n                      text: _child.nodeType === _child.TEXT_NODE ? \n                              _child.textContent : null,\n                      childTextNode: _child.nodeType === _child.ELEMENT_NODE &&\n                                     _child.childNodes.length > 0\n                    };\n                  });\n              }.bind(this)).reduce(function (prev, currentList) {\n                var current;\n                for (var i = 0; i < currentList.length; i++) {\n                  current = currentList[i];\n                  if (current.text) {\n                    prev.text[0] += current.text;\n                  }\n                  if (current.type === current.node.ELEMENT_NODE) {\n                    n++;\n                    prev.text[0] += '{' + n + '}';\n                    path.push(n);\n                    this._traverseAttributes(current.node, path, bundle);\n                    path.pop();\n                    /* current.childTextNode is always true since current.node is <span>{{annotation}}</span> */\n                    prev.text.push(current.node.textContent);\n                    current.node.setAttribute(paramAttribute, n.toString());\n                    prev.params.push(current.node);\n                  }\n                }\n                return prev;\n              }.bind(this), { text: [ '' ], params: [ '{{text.' + messageId + '.0}}' ] });\n            templateText = document.createElement('i18n-format');\n            templateText.setAttribute('lang', '{{effectiveLang}}');\n            // insert i18n-format\n            Polymer.dom(parent).insertBefore(templateText, node);\n            Polymer.dom(parent).removeChild(node);\n            span = document.createElement('span');\n            // span.innerText does not set an effective value in Firefox\n            span.textContent = templateTextParams.params.shift();\n            templateText.appendChild(span);\n            Array.prototype.forEach.call(templateTextParams.params,\n              function (param) {\n                templateText.appendChild(param);\n              }\n            );\n            // store the text message\n            templateTextParams.text[0] = templateTextParams.text[0].replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n            this._setBundleValue(bundle, messageId, templateTextParams.text);\n            debuglog(messageId + ' = ' + templateTextParams.text);\n          }\n          else {\n            // generate message id\n            messageId = this._generateMessageId(path, id);\n            // store the text message\n            text = text.replace(/^[\\s]*[\\s]/, ' ').replace(/[\\s][\\s]*$/, ' ');\n            this._setBundleValue(bundle, messageId, text);\n            // replace textContent with annotation\n            node.textContent = '{{text.' + messageId + '}}';\n            if (!id) {\n              //span.id = messageId;\n              //console.warn('add missing span with id as ' + messageId + ' for ' + text);\n            }\n            debuglog(messageId + ' = ' + text);\n          }\n        }\n        break;\n      case node.DOCUMENT_NODE:\n      case node.DOCUMENT_FRAGMENT_NODE:\n        // traverse childNodes\n        for (i = 0; i < node.childNodes.length; i++) {\n          //console.log(path.join(':') + ':' + node.childNodes[i].nodeName + ':' + (i - whiteSpaceElements) + ' i = ' + i + ' whiteSpaceElements = ' + whiteSpaceElements);\n          if (this._traverseTemplateTree(node.childNodes[i], path, bundle, i - whiteSpaceElements)) {\n            whiteSpaceElements++;\n          }\n        }\n        break;\n      default:\n        isWhiteSpace = true;\n        // comment node, etc.\n        break;\n      }\n      path.pop();\n      return isWhiteSpace;\n    },\n\n    /**\n     * Check if the text has compound annotation \n     * \n     * @param {string} text target text to check compound annotation\n     * @return {Boolean} true if the text contains compound annotation\n     */\n    _isCompoundAnnotatedText: function (text) {\n      return !text.trim().match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/) &&\n             !!text.match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])/);\n    },\n\n    /**\n     * Check if the text has annotation \n     * \n     * @param {string} text target text to check annotation\n     * @return {Boolean} true if the text contains annotation\n     */\n    _hasAnnotatedText: function (text) {\n      return !!text.match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])/);\n    },\n\n    /**\n     * Convert compound annotations to span elements\n     * \n     * @param {Text} node target text node to convert compound annotations\n     * @return {Object[]} Array of Text or span elements\n     */\n    _compoundAnnotationToSpan: function (node) {\n      var result;\n      /* istanbul ignore else: node is prechecked to contain annotation(s) */\n      if (node.textContent.match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])/)) {\n        result = node.textContent\n          .match(/({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\]|[^{}\\[\\]]{1,}|[{}\\[\\]]{1,})/g)\n          .reduce(function (prev, current) {\n            if (current.match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n              prev.push(current);\n              prev.push('');\n            }\n            else {\n              if (prev.length === 0) {\n                prev.push(current);\n              }\n              else {\n                prev[prev.length - 1] += current;\n              }\n            }\n            return prev;\n          }.bind(this), [])\n          .map(function (item) {\n            var childNode;\n            if (item.match(/^({{[^{}]*}}|\\[\\[[^\\[\\]]*\\]\\])$/)) {\n              childNode = document.createElement('span');\n              childNode.textContent = item;\n            }\n            else if (item) {\n              childNode = document.createTextNode(item);\n            }\n            else {\n              childNode = null;\n            }\n            return childNode;\n          });\n        if (result.length > 0) {\n          if (!result[result.length - 1]) {\n            result.pop(); // pop null node for ''\n          }\n        }\n      }\n      else {\n        // no compound annotation\n        result = [ node ];\n      }\n      return result;\n    },\n\n    /**\n     * Add the value to the target default bundle with the specified message Id \n     * \n     * @param {Object} bundle Default bundle.\n     * @param {string} messageId ID string of the value.\n     * @param {Object} value Value of the text message. Normally a string.\n     */\n    _setBundleValue: function (bundle, messageId, value) {\n      var messageIdPath = messageId.split('.');\n      bundle.model = bundle.model || {};\n      if (messageIdPath.length === 1) {\n        bundle[messageId] = value;\n      }\n      else {\n        var cursor = bundle;\n        for (var i = 0; i < messageIdPath.length; i++) {\n          if (i < messageIdPath.length - 1) {\n            cursor[messageIdPath[i]] = cursor[messageIdPath[i]] || {};\n            cursor = cursor[messageIdPath[i]];\n          }\n          else {\n            cursor[messageIdPath[i]] = value;\n          }\n        }\n      }\n    },\n\n    /**\n     * Generate a message ID from the specified path and id.\n     * \n     * ### TODO: \n     *\n     * - Shorten or optimize ids\n     *\n     * @param {Array} path List of ascestor elements of the current node in traversal.\n     * @param {id} id Value of `id` or `text-id` attribute of the current node.\n     */\n    _generateMessageId: function (path, id) {\n      var messageId;\n      if (!id || id.length === 0) {\n        for (var i = 1; i < path.length; i++) {\n          if (path[i][0] === '#') {\n            if (path[i] !== '#document-fragment') {\n              if (messageId && path[i].substr(0, 5) === '#text') {\n                messageId += ':' + path[i].substr(1);\n              }\n              else {\n                messageId = path[i].substr(1);\n              }\n            }\n          }\n          else {\n            if (messageId) {\n              messageId += ':' + path[i];\n            }\n            else {\n              messageId = path[i];\n            }\n          }\n        }\n      }\n      else {\n        messageId = id;\n      }\n      return messageId;\n    },\n\n    /**\n     * Merge `this.defaultText` into the target default bundle.\n     * \n     * ### TODO: \n     *\n     * - Need more research on the effective usage of this feature.\n     *\n     * @param {Object} bundle Default bundle.\n     */\n    /*\n    _mergeDefaultText: function (bundle) {\n      if (this.defaultText) {\n        this._deepMap(bundle, this.defaultText, function (text) { return text; });\n      }\n    },\n    */\n\n    /**\n     * Return the first non-null argument.\n     *\n     * Utility method for use in annotations.\n     *\n     * ### Example Usage:\n     * ```\n     *   <input is=\"iron-input\" class=\"flex\"\n     *     type=\"search\" id=\"query\" bind-value=\"{{query}}\"\n     *     autocomplete=\"off\"\n     *     placeholder=\"{{or(placeholder,text.search)}}\">\n     * ```\n     *\n     * @param {*} arguments List of arguments.\n     */\n    or: function () {\n      var result = arguments[0];\n      var i = 1;\n      while (!result && i < arguments.length) {\n        result = arguments[i++];\n      }\n      return result;\n    },\n\n\n    /**\n     * Translate a string by a message table.\n     *\n     * Utility method for use in annotations.\n     *\n     * ### Example Usage:\n     * ```\n     *   <span>{{tr(status,text.statusMsgs)}}</span>\n     *   <span>{{tr(errorId,text)}}</span>\n     *   <template>\n     *     <json-data text-id=\"statusMsgs\">{\n     *       \"signed-in\": \"Authenticated\",\n     *       \"signed-out\": \"Not Authenticated\",\n     *       \"error\": \"Error in Authentication\",\n     *       \"default\": \"Unknown Status in Authentication\"\n     *     }</json-data>\n     *     <span text-id=\"http-404\">File Not Found</span>\n     *     <span text-id=\"http-301\">Moved Permanently</span>\n     *   </template>\n     * ```\n     *\n     * Note: The second `table` parameter should always be specified in order\n     * to trigger automatic updates on `this.text` mutations, i.e., updates of `this.effectiveLang`.\n     *\n     * @param {string} key Key of the message.\n     * @param {Object} table The message table object or this.text itself if omitted\n     * @return {string} Translated string, `table.default` if `table[key]` is undefined, or key string if table.default is undefined.\n     */\n    tr: function (key, table) {\n      if (table) {\n        if (typeof table === 'object') {\n          if (typeof table[key] !== 'undefined') {\n            return table[key];\n          }\n          else if (typeof table['default'] !== 'undefined') {\n            return table['default'];\n          }\n          else {\n            return key;\n          }\n        }\n        else {\n          return key;\n        }\n      }\n      else {\n        return (typeof this.text === 'object') &&\n               (typeof key !== 'undefined') &&\n               (typeof this.text[key] !== 'undefined') ? this.text[key] : key;\n      }\n    },\n\n    /**\n     * Format a parameterized string.\n     *\n     * Utility method for use in annotations.\n     *\n     * ### Example Usage:\n     * ```\n     *   <span attr=\"{{i18nFormat(text.param.0,text.textparam1,text.textparam2)}}\"></span>\n     *   <template>\n     *     <json-data text-id=\"param\">[\n     *       \"String with {1} and {2} are formetted\",\n     *       \"[[text.textparam1]]\",\n     *       \"[[text.textparam2]]\"\n     *     ]</json-data>\n     *     <span text-id=\"textparam1\">Parameter 1</span>\n     *     <span text-id=\"textparam2\">Parameter 2</span>\n     *   </template>\n     * ```\n     *\n     * Note: Compound bindings in attributes are automatically converted to {{i18nFormat()}} in preprocessing.\n     *\n     * @param {*} arguments List of arguments.\n     * @return {string} Formatted string\n     */\n    i18nFormat: function () {\n      if (arguments.length > 0) {\n        var formatted = arguments[0] || '';\n        for (var n = 1; n < arguments.length; n++) {\n          formatted = formatted.replace('{' + n + '}', arguments[n]);\n        }\n      }\n      return formatted;\n    },\n\n    // Lifecycle callbacks\n\n    /**\n     * Lifecycle callback before registration of the custom element.\n     *\n     * The default bundle is constructed via traversal of the element's template at this timing per registration.\n     *\n     * ### Notes: \n     *\n     * - For `i18n-dom-bind` elements, bundle construction is put off until `ready` lifecycle callback.\n     * - As called twice per custom element registration, the method skips bundle construction at the second call.\n     */\n    beforeRegister: function () {\n      if (this.is !== 'i18n-dom-bind') {\n        if (!this._templateLocalizable) {\n          this._templateLocalizable = this._constructDefaultBundle();\n        }\n      }\n    },\n\n\n    /**\n     * Lifecycle callback at registration of the custom element.\n     *\n     * this._fetchStatus is initialized per registration.\n     */\n    registered: function () {\n      if (this.is !== 'i18n-dom-bind') {\n        var template = Polymer.DomModule.import(this.is, 'template');\n        if (!template) {\n          var id = this.is;\n          var current = (!window.HTMLImports || HTMLImports.useNative) ? document.currentScript\n                                              : document._currentScript;\n          template = (current ? current.ownerDocument\n                      .querySelector('template[id=' + id + ']') : null) ||\n                     document.querySelector('template[id=' + id + ']');\n          if (!template) {\n            template = document.createElement('template');\n            template.setAttribute('id', id);\n          }\n          if (template) {\n            var domModule = document.createElement('dom-module');\n            var assetUrl = new URL((current ? current.baseURI : null) ||\n              (window.currentImport ? window.currentImport.baseURI : null) ||\n              (current && current.ownerDocument ? current.ownerDocument.baseURI : null) ||\n              document.baseURI);\n            domModule.appendChild(template);\n            domModule.setAttribute('assetpath', \n                                    template.hasAttribute('basepath') ?\n                                      template.getAttribute('basepath') :\n                                      template.hasAttribute('assetpath') ? \n                                        template.getAttribute('assetpath') : \n                                        assetUrl.pathname);\n            domModule.register(id);\n            this._template = template;\n          }\n          var bundle = { model: {} };\n          bundles[''][id] = bundle;\n          bundles[defaultLang] = bundles[defaultLang] || {};\n          bundles[defaultLang][id] = bundle;\n          console.warn('I18nBehavior.registered: ' + id + ' has no template. Supplying an empty template');\n        }\n        this._fetchStatus = deepcopy({ // per custom element\n          fetchingInstance: null,\n          ajax: null,\n          ajaxLang: null,\n          lastLang: null,\n          fallbackLanguageList: null,\n          targetLang: null,\n          lastResponse: {},\n          rawResponses: {}\n        });\n      }\n    },\n\n    /**\n     * Lifecycle callback on instance creation\n     */\n    created: function () {\n      // Fix #34. [Polymer 1.4.0] _propertyEffects have to be maintained per instance\n      if (this.is === 'i18n-dom-bind') {\n        this._propertyEffects = deepcopy(this._propertyEffects);\n      }\n      else {\n        var template = Polymer.DomModule.import(this.is, 'template');\n        if (template && template.hasAttribute('lang')) {\n          this.templateDefaultLang = template.getAttribute('lang') || '';\n        }\n        if (!this._fetchStatus) {\n          this._fetchStatus = deepcopy({ // per custom element\n            fetchingInstance: null,\n            ajax: null,\n            ajaxLang: null,\n            lastLang: null,\n            fallbackLanguageList: null,\n            targetLang: null,\n            lastResponse: {},\n            rawResponses: {}\n          });\n        }\n      }\n      if (!isStandardPropertyConfigurable) {\n        // Fix #36. Emulate lang's observer since Safari 7 predefines non-configurable lang property\n        this.observer = new MutationObserver(this._handleLangAttributeChange.bind(this));\n        this.observer.observe(this, {\n          attributes: true,\n          attributeFilter: [ 'lang' ],\n          attributeOldValue: true\n        });\n      }\n    },\n\n    /**\n     * Lifecycle callback when the template children are ready.\n     */\n    ready: function () {\n      if (this.is === 'i18n-dom-bind') {\n        if (!this._templateLocalizable) {\n          this._templateLocalizable = this._constructDefaultBundle();\n        }\n        if (!this._fetchStatus) {\n          this._fetchStatus = deepcopy({ // per instance\n            fetchingInstance: null,\n            ajax: null,\n            ajaxLang: null,\n            lastLang: null,\n            fallbackLanguageList: null,\n            targetLang: null, \n            lastResponse: {},\n            rawResponses: {}\n          });\n        }\n        this._onDomChangeBindThis = this._onDomChange.bind(this);\n        this.addEventListener('dom-change', this._onDomChangeBindThis);\n        // Fix #34. [Polymer 1.4.0] Supply an empty object if this.__data__ is undefined\n        this.__data__ = this.__data__ || Object.create(null);\n      }\n      else {\n        if (!isStandardPropertyConfigurable) {\n          // Fix #36. Patch missing properties except for lang\n          for (var p in this._propertyEffects) {\n            if (this._propertyEffects[p] &&\n                !Object.getOwnPropertyDescriptor(this, p)) {\n              //console.log('ready: creating accessors for ' + p);\n              Polymer.Bind._createAccessors(this, p, this._propertyEffects[p]);\n            }\n          }\n        }\n        if (Polymer.ElementMixin && !this.__data) {\n          this._initializeProperties();\n        }\n        this._langChanged(this.getAttribute('lang'), undefined);\n        // model per instance\n        if (this.text) {\n          this.model = deepcopy(this.text.model);\n        }\n      }\n    },\n\n    /**\n     * attached lifecycle callback.\n     */\n    attached: function () {\n      if (this.is === 'i18n-dom-bind') {\n        if (this._properties) {\n          // Fix #35. [IE10] Restore properties for use in rendering\n          this.properties = this._properties;\n          delete this._properties;\n        }\n      }\n      if (this.observeHtmlLang) {\n        this.lang = html.lang;\n        // TODO: this call is redundant\n        this._observeHtmlLangChanged(true);\n      }\n    },\n\n    /**\n     * Handle `dom-change` event for `i18n-dom-bind`\n     */\n    _onDomChange: function () {\n      // Fix #16: [IE11][Polymer 1.3.0] On IE11, i18n-dom-bind does not work with Polymer 1.3.0\n      // Patch the broken lang property accessors manually if it is missing\n      // Fix #34: [IE11][Polymer 1.4.0] Create missing property accessors including lang\n      for (var p in this._propertyEffects) {\n        if (this._propertyEffects[p] &&\n            !Object.getOwnPropertyDescriptor(this, p)) {\n          Polymer.Bind._createAccessors(this, p, this._propertyEffects[p]);\n        }\n      }\n      this.removeEventListener('dom-change', this._onDomChangeBindThis);\n      if (this.text && this.text.model) {\n        this.model = deepcopy(this.text.model);\n      }\n      // Fix #17: [Polymer 1.3.0] observeHtmlLang is undefined in i18n-dom-bind\n      // Explicitly initialize observeHtmlLang if the value is undefined.\n      if (typeof this.observeHtmlLang === 'undefined' &&\n          !this.hasAttribute('observe-html-lang')) {\n        this.observeHtmlLang = true;\n      }\n      if (this.observeHtmlLang) {\n        this.lang = html.lang;\n        this._observeHtmlLangChanged(true);\n      }\n    },\n\n    /**\n     * detached lifecycle callback\n     */\n    detached: function () {\n      if (this.observeHtmlLang) {\n        this._observeHtmlLangChanged(false);\n      }\n    }\n  };\n\n  // Fix #36. Rename lang property as _lang to avoid conflict with the predefined lang property\n  if (!isStandardPropertyConfigurable) {\n    var _properties = Object.create(null);\n    for (var p in BehaviorsStore.I18nBehavior.properties) {\n      if (p === 'lang') {\n        _properties._lang = BehaviorsStore.I18nBehavior.properties.lang;\n      }\n      else {\n        _properties[p] = BehaviorsStore.I18nBehavior.properties[p];\n      }\n    }\n    BehaviorsStore.I18nBehavior.properties = _properties;\n    BehaviorsStore.I18nBehavior.properties._lang.reflectToAttribute = false;\n    BehaviorsStore.I18nBehavior.properties.text.computed = '_getBundle(_lang)';\n    BehaviorsStore.I18nBehavior._updateEffectiveLang = function (event) {\n      if ((!Polymer.ElementMixin && Polymer.dom(event).rootTarget === this) ||\n          (Polymer.ElementMixin && event.composedPath()[0] === this)) {\n        //console.log('lang-updated: _updateEffectiveLang: assigning effectiveLang = ' + this._lang);\n        this.effectiveLang = this._lang;\n      }\n    };\n    BehaviorsStore.I18nBehavior.hostAttributes = {\n      'lang': defaultLang\n    };\n  }\n\n  if (Polymer.ElementMixin) {\n    // Polymer 2.x\n    BehaviorsStore._I18nBehavior = BehaviorsStore.I18nBehavior;\n    BehaviorsStore.I18nBehavior = [ BehaviorsStore._I18nBehavior ];\n    Object.defineProperty(BehaviorsStore.I18nBehavior, '0', {\n      get: function() {\n        var current = (!window.HTMLImports || HTMLImports.hasNative) ? document.currentScript : document._currentScript;\n        var i18nAttrRepos = current.ownerDocument.querySelectorAll('i18n-attr-repo:not([processed])');\n        var domModules = current.ownerDocument.querySelectorAll('dom-module[legacy]');\n        if (domModules.length === 0) {\n          domModules = current.ownerDocument.querySelectorAll('dom-module');\n          if (domModules.length !== 1) {\n            domModules = [];\n          }\n        }\n        BehaviorsStore._I18nAttrRepo._created();\n        Array.prototype.forEach.call(i18nAttrRepos, function (repo) {\n          if (!repo.hasAttribute('processed')) {\n            var customAttributes = repo.querySelector('template#custom');\n            if (customAttributes) {\n              BehaviorsStore._I18nAttrRepo._traverseTemplateTree(customAttributes.content || customAttributes._content);\n            }\n            repo.setAttribute('processed', '');\n          }\n        });\n        Array.prototype.forEach.call(domModules, function (domModule) {\n          if (domModule && domModule.id) {\n            var template = domModule.querySelector('template');\n            if (template) {\n              BehaviorsStore._I18nBehavior._constructDefaultBundle(template, domModule.id);\n              domModule.removeAttribute('legacy');\n            }\n          }\n        });\n        return BehaviorsStore._I18nBehavior;\n      }\n    });\n  }\n  else {\n    // Polymer 1.x\n  /**\n   * `<template is=\"i18n-dom-bind\">` element extends `dom-bind` template element with `I18nBehavior`\n   *\n   * @group I18nBehavior\n   * @element i18n-dom-bind\n   */\n  var i18nBehaviorDomBind = {};\n  Polymer.Base.extend(i18nBehaviorDomBind, BehaviorsStore.I18nBehavior);\n  var i18nDomBind = {};\n  var domBind = document.createElement('template', 'dom-bind');\n  var domBindProto = Object.getPrototypeOf(domBind);\n  if (typeof domBindProto.render !== 'function') {\n    domBindProto = domBind.__proto__; // fallback for IE10\n  }\n  Polymer.Base.extend(i18nDomBind, domBindProto);\n  i18nDomBind.is = 'i18n-dom-bind';\n  if (!navigator.language && navigator.browserLanguage) { // Detect IE10\n    // Fix #35. [IE10] Hide properties until attached phase in IE10\n    // to avoid exceptions in overriding unconfigurable properties in Object.defineProperty\n    i18nBehaviorDomBind._properties = i18nBehaviorDomBind.properties;\n    i18nBehaviorDomBind.properties = Object.create(null);\n  }\n  /* As of Polymer 1.3.1, dom-bind does not have predefined behaviors */\n  /* istanbul ignore if */\n  if (i18nDomBind.behaviors) {\n    i18nDomBind.behaviors.push(i18nBehaviorDomBind);\n  }\n  else {\n    i18nDomBind.behaviors = [ i18nBehaviorDomBind ];\n  }\n  var _Polymer = Polymer;\n  _Polymer(i18nDomBind);\n  }\n})(document);\n// From polymer#2.0-preview src/legacy/class.html\nPolymer.Utils = Polymer.Utils || {};\nPolymer.Utils.MixinBehavior = function(behavior, Base) {\n  var utils = Polymer.Utils;\n  var metaProps = {\n    attached: true,\n    detached: true,\n    ready: true,\n    created: true,\n    beforeRegister: true,\n    registered: true,\n    attributeChanged: true,\n    // meta objects\n    behaviors: true,\n    hostAttributes: true,\n    properties: true,\n    observers: true,\n    listeners: true\n  };\n  var config = {\n    properties: behavior.properties,\n    observers: behavior.observers\n  };\n\n  class PolymerGenerated extends Base {\n\n    static get config() {\n      return config;\n    }\n\n    _invokeFunction(fn, args) {\n      if (fn) {\n        fn.apply(this, args);\n      }\n    }\n\n    constructor() {\n      super();\n      // call `registered` only if it was not called for *this* constructor\n      if (!PolymerGenerated.hasOwnProperty('__registered')) {\n        PolymerGenerated.__registered = true;\n        if (behavior.registered) {\n          behavior.registered.call(Object.getPrototypeOf(this));\n        }\n      }\n    }\n\n    created() {\n      super.created();\n      this._invokeFunction(behavior.created);\n    }\n\n    /* unused method\n    _applyConfigMetaData() {\n      super._applyConfigMetaData();\n      this._applyConfigMetaDataFrom(behavior);\n    }\n    */\n\n    _applyListeners() {\n      super._applyListeners();\n      this._applyConfigListeners(behavior);\n    }\n\n    _ensureAttributes() {\n      // ensure before calling super so that subclasses can override defaults\n      this._ensureConfigAttributes(behavior);\n      super._ensureAttributes();\n    }\n\n    ready() {\n      super.ready();\n      this._invokeFunction(behavior.ready);\n    }\n\n    attached() {\n      super.attached();\n      this._invokeFunction(behavior.attached);\n    }\n\n    detached() {\n      super.detached();\n      this._invokeFunction(behavior.detached);\n    }\n\n    attributeChanged(name, old, value) {\n      super.attributeChanged(name, old, value);\n      this._invokeFunction(behavior.attributeChanged, [name, old, value]);\n    }\n  }\n\n  for (var p in behavior) {\n    if (!(p in metaProps))\n      utils.copyOwnProperty(p, behavior, PolymerGenerated.prototype);\n  }\n\n  return PolymerGenerated;\n};\n// Globally expose base elements and mixins\nwindow.BaseElements = window.BaseElements || {};\nwindow.Mixins = window.Mixins || {};\n\n// Localizable mixin\nMixins.Localizable = function (base) {\n\n  return class Localizable extends Polymer.Utils.MixinBehavior(BehaviorsStore._I18nBehavior, base) {\n    constructor () {\n      Localizable.template;\n      super();\n    }\n    static get _rawTemplate() {\n      let id = this.is;\n      let name = this.name ||\n        (typeof this === 'function' ?\n                this.toString().replace(/^[\\S\\s]*?function\\s*/, \"\").replace(/[\\s\\(\\/][\\S\\s]+$/, \"\") :\n                undefined);\n      if (!id && name && name !== 'Localizable' && name != 'class' && !name.match(/^_class/)) {\n        id = this.is = this._uncamelCase(name);\n      }\n      // TODO: template fetching should be flexible to detect super.template\n      let template = Polymer.DomModule.import(id, 'template');\n      if (id && !template) {\n        let current = (!window.HTMLImports || HTMLImports.useNative) ? document.currentScript\n                                            : document._currentScript;\n        template = (current ? current.ownerDocument\n                    .querySelector('template[id=' + id + ']') : null) || \n                   document.querySelector('template[id=' + id + ']');\n        if (!template && id !== 'i18n-dom-bind') {\n          template = document.createElement('template');\n          template.setAttribute('id', id);\n          console.warn('Localizable._rawTemplate: ' + id + ' has no template. Supplying an empty template');\n        }\n        if (template) {\n          let domModule = document.createElement('dom-module');\n          let assetUrl = new URL((current ? current.baseURI : null) ||\n            (window.currentImport ? window.currentImport.baseURI : null) ||\n            (current && current.ownerDocument ? current.ownerDocument.baseURI : null) ||\n            document.baseURI);\n          domModule.appendChild(template);\n          domModule.setAttribute('assetpath', \n                                  template.hasAttribute('basepath') ?\n                                    template.getAttribute('basepath') :\n                                    template.hasAttribute('assetpath') ? \n                                      template.getAttribute('assetpath') : \n                                      assetUrl.pathname);\n          domModule.register(id);\n          this._template = template;\n        }\n      }\n      return template;\n    }\n    static get template() {\n      return this._i18nPreprocess(this._rawTemplate);\n    }\n    static _uncamelCase(name) {\n      return name\n        // insert a hyphen between lower & upper\n        .replace(/([a-z0-9])([A-Z])/g, '$1 $2')\n        // space before last upper in a sequence followed by lower\n        .replace(/\\b([A-Z]+)([A-Z])([a-z0-9])/, '$1 $2$3')\n        // replace spaces with hyphens\n        .replace(/ /g, '-')\n        // lowercase\n        .toLowerCase();\n    }\n    static get _templateLocalizable () {\n      return this.hasOwnProperty('__templateLocalizable');\n    }\n    static set _templateLocalizable (value) {\n      this.__templateLocalizable = value;\n    }\n    static _i18nPreprocess(template) {\n      if (this.is && template && !this._templateLocalizable) {\n        this._templateLocalizable = this.prototype._constructDefaultBundle(template);\n      }\n      return template;\n    }\n    get is () {\n      return this.constructor.is;\n    }\n  };\n}\n\n// Logger mixin\nMixins.Logger = (base) => class extends base {\n  connectedCallback() {\n    super.connectedCallback();\n    console.log('<' + Object.getPrototypeOf(this).constructor.is + '>: ' +\n      'id = ' + this.id + ', ' +\n      'this.text = ' + JSON.stringify(this.text, null, 2));\n    console.log('Preprocessed template = \\n', Object.getPrototypeOf(this).constructor.template);\n  }\n};\n\n// I18N Base Element\nObject.defineProperty(BaseElements, 'I18nElement', {\n  get: function () {\n    return Mixins.Localizable(Polymer.LegacyElement);\n  }\n});\n(function () {\n  function UncamelCase (name) {\n    return name\n      // insert a hyphen between lower & upper\n      .replace(/([a-z0-9])([A-Z])/g, '$1 $2')\n      // space before last upper in a sequence followed by lower\n      .replace(/\\b([A-Z]+)([A-Z])([a-z0-9])/, '$1 $2$3')\n      // replace spaces with hyphens\n      .replace(/ /g, '-')\n      // lowercase\n      .toLowerCase();\n  }\n  function functionName (func) {\n    return typeof func === 'function' ? \n            func.toString().replace(/^[\\S\\s]*?function\\s*/, \"\").replace(/[\\s\\(\\/][\\S\\s]+$/, \"\") :\n            undefined;\n  }\n  var _Define = function (id) {\n    return customElements.get(id);\n  };\n  if (!window.Define) {\n    Object.defineProperty(window, 'Define', {\n      get: function () {\n        return _Define;\n      },\n      set: function (proto) {\n        /*\n        Patterns:\n          a) template id {}\n          b) template id {is}\n          c) document.template id {is}\n          d) template {is}\n          e) {is}\n          f) class Is {template}\n          g) {is,template}\n        */\n        var id;\n        var classId;\n        var obj;\n        var name = proto.hasOwnProperty('name') ? proto.name : functionName(proto);\n        var current; // currentScript\n        var template = null;\n        var previous; // previousSibling template\n        var cousin; // dom5.serialize output support\n\n        current = (!window.HTMLImports || HTMLImports.useNative) ? document.currentScript\n                                        : document._currentScript;\n\n        previous = current.previousSibling;\n        while (previous && !previous.tagName) {\n          previous = previous.previousSibling;\n        }\n        if (previous && previous.tagName !== 'template'.toUpperCase()) {\n          previous = null;\n        }\n        if (!previous) {\n          // search for cousin template\n          if (current.parentNode.tagName === 'body'.toUpperCase()) {\n            previous = current.parentNode.previousSibling;\n            while (previous && !previous.tagName) {\n              previous = previous.previousSibling;\n            }\n            if (previous && previous.tagName.toLowerCase() === 'head') {\n              for (var i = 0; i < previous.childNodes.length; i++) {\n                if (previous.childNodes[i].tagName === 'template'.toUpperCase()) {\n                  cousin = previous.childNodes[i];\n                  break;\n                }\n              }\n            }\n          }\n          if (cousin) {\n            previous = cousin;\n          }\n          else {\n            previous = null;\n          }\n        }\n\n        if (!proto.is && (!name || name === 'class' || name === 'Define')) {\n          if (previous) {\n            id = previous.id;\n            if (id) {\n              // Pattern a)\n              template = previous;\n              proto.is = id;\n            }\n          }\n        }\n        else {\n          if (proto.is) {\n            id = proto.is;\n          }\n          else if (typeof proto === 'function' && name) {\n            // ES6 class\n            id = UncamelCase(name);\n            classId = name;\n          }\n          var isNoIdPrevious = previous && !previous.id && id;\n          if (isNoIdPrevious) {\n            previous.id = id; // temporarily supply id\n          }\n          var rawTemplate = proto._rawTemplate || proto.template;\n          if (isNoIdPrevious) {\n            previous.removeAttribute('id');\n          }\n          if (!template && rawTemplate && !name) {\n            // Pattern g)\n            template = rawTemplate;\n          }\n          if (!rawTemplate && !template) {\n            // Pattern b), c)\n            template = current.ownerDocument\n                        .querySelector('template[id=' + id + ']') || \n                       document.querySelector('template[id=' + id + ']');\n          }\n          if (!rawTemplate && !template && previous && !previous.id) {\n            // Pattern d)\n            template = previous;\n            template.id = id;\n          }\n          else {\n            // Pattern e)\n          }\n        }\n\n        if (!id) {\n          throw 'Custom element name is not defined';\n        }\n\n        // register dom-module\n        if (template) {\n          var domModule = document.createElement('dom-module');\n          let assetUrl = new URL(current.baseURI ||\n            (window.currentImport ? window.currentImport.baseURI : null) ||\n            current.ownerDocument.baseURI);\n          domModule.appendChild(template);\n          domModule.setAttribute('assetpath', \n                                  template.hasAttribute('basepath') ?\n                                    template.getAttribute('basepath') :\n                                    template.hasAttribute('assetpath') ? \n                                      template.getAttribute('assetpath') : \n                                      assetUrl.pathname);\n          domModule.register(id);\n          proto._template = template;\n          proto.finalize();\n        }\n\n        // register Custom Element\n        classId = classId || id.split('-').map(function (word) {\n          return word[0].toUpperCase() + word.substr(1);\n        }).join('');\n        if (customElements.get(id)) {\n          console.warn('Discarding duplicate definition of custom element ' + id);\n        }\n        else {\n          customElements.define(id, proto);\n          _Define[classId] = customElements.get(id);\n        }\n        return customElements.get(id);\n      }\n    });\n  }\n})();\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class TemplateDefaultLangElement extends Mixins.Logger(Mixins.Localizable(Polymer.LegacyElement)) {\n        static get is() { return 'template-default-lang-element'; }\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(TemplateDefaultLangElement.is, TemplateDefaultLangElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class TemplateDefaultLangElement extends BaseElements.I18nElement {\n        static get is() { return 'template-default-lang-element'; }\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(TemplateDefaultLangElement.is, TemplateDefaultLangElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class TemplateDefaultLangElement extends BaseElements.I18nElement {\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'template-default-lang-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function (e) {\n          if (Polymer.dom(e).rootTarget === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      });\n    }\n    break;\n  };\nswitch (syntax) {\n  default:\n  case 'mixin':\n    {\n      class NullTemplateDefaultLangElement extends Mixins.Logger(Mixins.Localizable(Polymer.LegacyElement)) {\n        static get is() { return 'null-template-default-lang-element'; }\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(NullTemplateDefaultLangElement.is, NullTemplateDefaultLangElement);\n    }\n    break;\n  case 'base-element':\n    {\n      class NullTemplateDefaultLangElement extends BaseElements.I18nElement {\n        static get is() { return 'null-template-default-lang-element'; }\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n      customElements.define(NullTemplateDefaultLangElement.is, NullTemplateDefaultLangElement);\n    }\n    break;\n  case 'thin':\n    {\n      Define = class NullTemplateDefaultLangElement extends BaseElements.I18nElement {\n        static get config() {\n          return {\n            listeners: {\n              'lang-updated': '_langUpdated'\n            }\n          };\n        }\n        _langUpdated(e) {\n          if (e.composedPath()[0] === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      }\n    }\n    break;\n  case 'legacy':\n    {\n      Polymer({\n        is: 'null-template-default-lang-element',\n\n        behaviors: [\n          BehaviorsStore.I18nBehavior\n        ],\n\n        listeners: {\n          'lang-updated': '_langUpdated'\n        },\n\n        ready: function () {\n          //this.observeHtmlLang = false;\n        },\n\n        attached: function () {\n        },\n\n        _langUpdated: function (e) {\n          if (Polymer.dom(e).rootTarget === this && this.text) {\n            this.model = deepcopy(this.text.model);\n          }\n        }\n      });\n    }\n    break;\n  };\nsuite('I18nElement with ' + \n  (window.location.href.indexOf('?dom=Shadow') >= 0 ? 'Shadow DOM' : 'Shady DOM') +\n  (' in ' + syntax + ' syntax'), \n  function () {\n\n  var lang0 = '';\n  var lang1 = 'en';\n  var lang2 = 'fr';\n  var lang3 = 'ja';\n  var lang4 = 'fr-CA';\n  var lang5 = 'zh-Hans-CN';\n  var lang6 = 'ru';\n  var text_template_default_lang = {\n    'model': {},\n    'text': ' outermost text at the beginning ',\n    'h1_3': 'outermost header 1',\n    'text_4': ' outermost text in the middle ',\n    'span_5': 'simple text without id',\n    'span_6': 'simple text without id 2',\n    'label-1': 'simple text with id',\n    'label-2': 'simple text with id 2',\n    'div_9:span': 'simple text within div',\n    'div_9:span_1': 'simple text within div 2',\n    'div_9:div_2:div': 'great grandchild text within div',\n    'div_10:text': ' simple text as the first element in div ',\n    'div_10:span_1': 'simple text within div',\n    'div_10:text_2': ' simple text in the middle of div ',\n    'div_10:span_3': 'simple text within div 2',\n    'div_10:div_4:div': 'great grandchild text within div',\n    'div_10:text_5': ' simple text at the last element in div ',\n    'toplevel-div:span': 'simple text within div',\n    'toplevel-div:span_1': 'simple text within div 2',\n    'third-level-div': 'great grandchild text within div',\n    'second-level-div:div_1': 'great grandchild text within div without id',\n    'div_12:ul:li': 'line item without id 1',\n    'div_12:ul:li_1': 'line item without id 2',\n    'div_12:ul:li_2': 'line item without id 3',\n    'line-items:li': 'line item with id 1',\n    'line-items:li_1': 'line item with id 2',\n    'line-items:li_2': 'line item with id 3',\n    'p_13': [\n      'A paragraph with {1} is converted to {2}.',\n      'parameters',\n      '<i18n-format>'\n    ],\n    'paragraph': [\n      'A paragraph with {1} is converted to {2}.',\n      'id',\n      '<i18n-format>'\n    ],\n    'text_15': ' outermost text at the end '\n  };\n  var text_template_default_lang_fr = {\n    'model': {},\n    'text': ' fr outermost text at the beginning ',\n    'h1_3': 'fr outermost header 1',\n    'text_4': ' fr outermost text in the middle ',\n    'span_5': 'fr simple text without id',\n    'span_6': 'fr simple text without id 2',\n    'label-1': 'fr simple text with id',\n    'label-2': 'fr simple text with id 2',\n    'div_9:span': 'fr simple text within div',\n    'div_9:span_1': 'fr simple text within div 2',\n    'div_9:div_2:div': 'fr great grandchild text within div',\n    'div_10:text': ' fr simple text as the first element in div ',\n    'div_10:span_1': 'fr simple text within div',\n    'div_10:text_2': ' fr simple text in the middle of div ',\n    'div_10:span_3': 'fr simple text within div 2',\n    'div_10:div_4:div': 'fr great grandchild text within div',\n    'div_10:text_5': ' fr simple text at the last element in div ',\n    'toplevel-div:span': 'fr simple text within div',\n    'toplevel-div:span_1': 'fr simple text within div 2',\n    'third-level-div': 'fr great grandchild text within div',\n    'second-level-div:div_1': 'fr great grandchild text within div without id',\n    'div_12:ul:li': 'fr line item without id 1',\n    'div_12:ul:li_1': 'fr line item without id 2',\n    'div_12:ul:li_2': 'fr line item without id 3',\n    'line-items:li': 'fr line item with id 1',\n    'line-items:li_1': 'fr line item with id 2',\n    'line-items:li_2': 'fr line item with id 3',\n    'p_13': [\n      'fr A paragraph with {1} is converted to {2}.',\n      'fr parameters',\n      'fr <i18n-format>'\n    ],\n    'paragraph': [\n      'fr A paragraph with {1} is converted to {2}.',\n      'fr id',\n      'fr <i18n-format>'\n    ],\n    'text_15': ' fr outermost text at the end '\n  };\n  var localDOM_template_default_lang = [\n    { select: 'div:not([id])', 'previousTextSibling.data.trim': ' outermost text at the beginning ' },\n    { select: 'h1', textContent: 'outermost header 1' },\n    { select: 'h1', 'nextTextSibling.data.trim': ' outermost text in the middle ' },\n    { select: 'span:not([id])', textContent: [ 'simple text without id', 'simple text without id 2' ] },\n    { select: 'span[id=\"label-1\"]', textContent: 'simple text with id' },\n    { select: 'span[id=\"label-2\"]', textContent: 'simple text with id 2' },\n    { select: 'span[id=\"label-2\"] + div span:not([id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div div:not([id]) div:not([id])', textContent: [ 'great grandchild text within div' ] },\n    { select: 'span[id=\"label-2\"] + div + div', 'childNodes.0.data.trim': ' simple text as the first element in div ' },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', 'nextTextSibling.data.trim': ' simple text in the middle of div ' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id]) div:not([id])', textContent: 'great grandchild text within div' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id])', 'nextTextSibling.data.trim': ' simple text at the last element in div ' },\n    { select: '[id=\"toplevel-div\"] span:not([id])', textContent: [ 'simple text within div', 'simple text within div 2' ] },\n    { select: '[id=\"third-level-div\"]', textContent: 'great grandchild text within div' },\n    { select: '[id=\"second-level-div\"] div:not([id])', textContent: 'great grandchild text within div without id' },\n    { select: 'div ul:not([id]) li:not([id])', textContent: [ 'line item without id 1', 'line item without id 2', 'line item without id 3' ] },\n    { select: '[id=\"line-items\"] li:not([id])', textContent: [ 'line item with id 1', 'line item with id 2', 'line item with id 3' ] },\n    { select: 'p:not([id]) i18n-format', \n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'parameters',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'id',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"]', 'nextTextSibling.data.trim': ' outermost text at the end ' }\n  ];\n  var localDOM_template_default_lang_fr = [\n    { select: 'div:not([id])', 'previousTextSibling.data.trim': 'fr outermost text at the beginning' },\n    { select: 'h1', textContent: 'fr outermost header 1' },\n    { select: 'h1', 'nextTextSibling.data.trim': 'fr outermost text in the middle' },\n    { select: 'span:not([id])', textContent: [ 'fr simple text without id', 'fr simple text without id 2' ] },\n    { select: 'span[id=\"label-1\"]', textContent: 'fr simple text with id' },\n    { select: 'span[id=\"label-2\"]', textContent: 'fr simple text with id 2' },\n    { select: 'span[id=\"label-2\"] + div span:not([id])', textContent:  [ 'fr simple text within div', 'fr simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div div:not([id]) div:not([id])', textContent: [ 'fr great grandchild text within div' ] },\n    { select: 'span[id=\"label-2\"] + div + div', 'childNodes.0.data.trim': 'fr simple text as the first element in div' },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', textContent:  [ 'fr simple text within div', 'fr simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', 'nextTextSibling.data.trim': 'fr simple text in the middle of div' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id]) div:not([id])', textContent: 'fr great grandchild text within div' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id])', 'nextTextSibling.data.trim': 'fr simple text at the last element in div' },\n    { select: '[id=\"toplevel-div\"] span:not([id])', textContent: [ 'fr simple text within div', 'fr simple text within div 2' ] },\n    { select: '[id=\"third-level-div\"]', textContent: 'fr great grandchild text within div' },\n    { select: '[id=\"second-level-div\"] div:not([id])', textContent: 'fr great grandchild text within div without id' },\n    { select: 'div ul:not([id]) li:not([id])', textContent: [ 'fr line item without id 1', 'fr line item without id 2', 'fr line item without id 3' ] },\n    { select: '[id=\"line-items\"] li:not([id])', textContent: [ 'fr line item with id 1', 'fr line item with id 2', 'fr line item with id 3' ] },\n    { select: 'p:not([id]) i18n-format', \n      'PolymerDom.children.0.textContent': 'fr A paragraph with {1} is converted to {2}.' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'fr parameters',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': 'fr <i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.0.textContent': 'fr A paragraph with {1} is converted to {2}.' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'fr id',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': 'fr <i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"]', 'nextTextSibling.data.trim': 'fr outermost text at the end' }\n  ];\n  var text_simple = {\n    'model': {},\n    'text': ' outermost text at the beginning ',\n    'h1_3': 'outermost header 1',\n    'text_4': ' outermost text in the middle ',\n    'span_5': 'simple text without id',\n    'span_6': 'simple text without id 2',\n    'label-1': 'simple text with id',\n    'label-2': 'simple text with id 2',\n    'div_9:span': 'simple text within div',\n    'div_9:span_1': 'simple text within div 2',\n    'div_9:div_2:div': 'great grandchild text within div',\n    'div_10:text': ' simple text as the first element in div ',\n    'div_10:span_1': 'simple text within div',\n    'div_10:text_2': ' simple text in the middle of div ',\n    'div_10:span_3': 'simple text within div 2',\n    'div_10:div_4:div': 'great grandchild text within div',\n    'div_10:text_5': ' simple text at the last element in div ',\n    'toplevel-div:span': 'simple text within div',\n    'toplevel-div:span_1': 'simple text within div 2',\n    'third-level-div': 'great grandchild text within div',\n    'second-level-div:div_1': 'great grandchild text within div without id',\n    'div_12:ul:li': 'line item without id 1',\n    'div_12:ul:li_1': 'line item without id 2',\n    'div_12:ul:li_2': 'line item without id 3',\n    'line-items:li': 'line item with id 1',\n    'line-items:li_1': 'line item with id 2',\n    'line-items:li_2': 'line item with id 3',\n    'p_13': [\n      'A paragraph with {1} is converted to {2}.',\n      'parameters',\n      '<i18n-format>'\n    ],\n    'paragraph': [\n      'A paragraph with {1} is converted to {2}.',\n      'id',\n      '<i18n-format>'\n    ],\n    'text_15': ' outermost text at the end '\n  };\n  var localDOM_simple = [\n    { select: 'div:not([id])', 'previousTextSibling.data.trim': 'outermost text at the beginning' },\n    { select: 'h1', textContent: 'outermost header 1' },\n    { select: 'h1', 'nextTextSibling.data.trim': 'outermost text in the middle' },\n    { select: 'span:not([id])', textContent: [ 'simple text without id', 'simple text without id 2' ] },\n    { select: 'span[id=\"label-1\"]', textContent: 'simple text with id' },\n    { select: 'span[id=\"label-2\"]', textContent: 'simple text with id 2' },\n    { select: 'span[id=\"label-2\"] + div span:not([id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div div:not([id]) div:not([id])', textContent: [ 'great grandchild text within div' ] },\n    { select: 'span[id=\"label-2\"] + div + div', 'childNodes.0.data.trim': 'simple text as the first element in div' },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', textContent:  [ 'simple text within div', 'simple text within div 2' ] },\n    { select: 'span[id=\"label-2\"] + div + div span:not([id])', 'nextTextSibling.data.trim': 'simple text in the middle of div' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id]) div:not([id])', textContent: 'great grandchild text within div' },\n    { select: 'span[id=\"label-2\"] + div + div div:not([id])', 'nextTextSibling.data.trim': 'simple text at the last element in div' },\n    { select: '[id=\"toplevel-div\"] span:not([id])', textContent: [ 'simple text within div', 'simple text within div 2' ] },\n    { select: '[id=\"third-level-div\"]', textContent: 'great grandchild text within div' },\n    { select: '[id=\"second-level-div\"] div:not([id])', textContent: 'great grandchild text within div without id' },\n    { select: 'div ul:not([id]) li:not([id])', textContent: [ 'line item without id 1', 'line item without id 2', 'line item without id 3' ] },\n    { select: '[id=\"line-items\"] li:not([id])', textContent: [ 'line item with id 1', 'line item with id 2', 'line item with id 3' ] },\n    { select: 'p:not([id]) i18n-format', \n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'parameters',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: 'p:not([id]) i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.0.textContent': 'A paragraph with {1} is converted to {2}.' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.1.tagName': 'B',\n      'PolymerDom.children.1.textContent': 'id',\n      'PolymerDom.children.1.attributes.slot.value': '1' },\n    { select: '[id=\"paragraph\"] i18n-format',\n      'PolymerDom.children.2.tagName': 'CODE',\n      'PolymerDom.children.2.textContent': '<i18n-format>',\n      'PolymerDom.children.2.attributes.slot.value': '2' },\n    { select: '[id=\"paragraph\"]', 'nextTextSibling.data.trim': 'outermost text at the end' }\n  ];\n\n  var suites = [\n    s('template default lang element', null, { \n      fixture: 'template-default-lang-element-fixture', \n      fixtureModel: undefined, \n      assign: undefined,\n      lang: lang0,\n      effectiveLang: lang0,\n      templateDefaultLang: lang2,\n      observeHtmlLang: true,\n      text: text_template_default_lang_fr,\n      model: {},\n      localDOM: localDOM_template_default_lang_fr,\n      lightDOM: undefined\n    }),\n    s(lang6 + ' template default lang element', 'template default lang element', { \n      timeout: 60000,\n      assign: { lang: lang6 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n    s(lang5 + ' template default lang element', 'template default lang element', { \n      timeout: 60000,\n      assign: { lang: lang5 },\n      lang: lang5,\n      effectiveLang: lang5,\n      text: text_template_default_lang,\n      localDOM: localDOM_template_default_lang\n    }),\n    s('null template default lang element', null, { \n      fixture: 'null-template-default-lang-element-fixture', \n      fixtureModel: undefined, \n      assign: undefined,\n      lang: lang0,\n      effectiveLang: lang0,\n      templateDefaultLang: lang0,\n      observeHtmlLang: true,\n      text: text_simple,\n      model: {},\n      localDOM: localDOM_simple,\n      lightDOM: undefined\n    }),\n    s(lang6 + ' null template default lang element', 'null template default lang element', { \n      timeout: 60000,\n      assign: { lang: lang6 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n    s(lang5 + ' null template default lang element', 'null template default lang element', { \n      timeout: 60000,\n      assign: { lang: lang5 },\n      lang: lang5,\n      effectiveLang: lang5\n    }),\n    s(lang3 + ' null template default lang element', 'null template default lang element', { \n      timeout: 60000,\n      assign: { lang: lang3 },\n      lang: lang0,\n      effectiveLang: lang0\n    }),\n  ];\n\n  suitesRunner(suites);\n\n});"]}